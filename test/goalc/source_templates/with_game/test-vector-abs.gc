(defun test-vector-abs ()
  (let ((vector-0 (new 'stack 'vector))
        (vector-1 (new 'stack 'vector)))

		(set-vector! vector-0 1.0 -1.5 0.0 4.0)

	  (rlet ((vf1 :class vf :reset-here #t)
            (vf2 :class vf :reset-here #t))
	  	(.lvf vf1 vector-0)
	  	(.lvf vf2 vector-1)
	  
	  	(.abs.vf vf2 vf1)
	  
	  	(.svf vector-1 vf2))

    ; (1, 1.5, 0, 4)
    (format #t "(~f, ~f, ~f, ~f)~%" (-> vector-1 x) (-> vector-1 y) (-> vector-1 z) (-> vector-1 w))))

(test-vector-abs)
