(define format _format)

(start-test "string-type")
; (db)
(expect-true (= 101 (-> "test" data 1)))
(expect-true (= 4 (-> "test" allocated-length)))
(expect-true (= 13 (asize-of "test")))
(let ((temp "test"))
  ; (format #t "before: ~D ~D~%" (-> temp data 1) (-> temp data 2))
  (set! (-> temp data 1) 102)
  ;(format #t "after: ~D ~D~%" (-> temp data 1) (-> temp data 2))
  ; (print-type (-> temp data 1))
  (set! (-> temp data 3) 0)
  ; (format #t "length is ~D~%" (length temp))
  ; (inspect temp)
  (expect-true (= 3 (length temp)))
  )

(finish-test)