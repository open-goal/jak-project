;;-*-Lisp-*-
(in-package goal)

;; definition for symbol tnear-vu1-block, type vu-function
(define tnear-vu1-block (new 'static 'vu-function :length #x38b :qlength #x1c6))

;; definition (debug) for function tfrag-details
;; WARN: Return type mismatch symbol vs none.
(defun-debug tfrag-details ((arg0 tfragment))
  (format 0 "id = ~d~%" (-> arg0 id))
  (format 0 "common:~%")
  (let ((s5-0 (-> arg0 dma-qwc 0))
        (s4-0 (-> arg0 dma-common))
        )
    (format 0 "qwc = ~d, ref = ~x~%" s5-0 s4-0)
    (disasm-vif-tag (the-as (pointer vif-tag) s4-0) (the-as int (* s5-0 4)) (the-as symbol 0) #t)
    )
  (format 0 "base:~%")
  (let ((s5-1 (-> arg0 dma-qwc 1))
        (s4-1 (-> arg0 dma-base))
        )
    (format 0 "qwc = ~d, ref = ~x~%" s5-1 s4-1)
    (disasm-vif-tag (the-as (pointer vif-tag) s4-1) (the-as int (* s5-1 4)) (the-as symbol 0) #t)
    )
  (format 0 "level-0:~%")
  (let ((s5-2 (-> arg0 dma-qwc 3))
        (s4-2 (-> arg0 dma-qwc-word))
        )
    (format 0 "qwc = ~d, ref = ~x~%" s5-2 s4-2)
    (disasm-vif-tag (the-as (pointer vif-tag) s4-2) (the-as int (* s5-2 4)) (the-as symbol 0) #t)
    )
  (format 0 "level-1:~%")
  (let ((s5-3 (-> arg0 dma-qwc 2))
        (gp-1 (-> arg0 dma-level-1))
        )
    (format 0 "qwc = ~d, ref = ~x~%" s5-3 gp-1)
    (disasm-vif-tag (the-as (pointer vif-tag) gp-1) (the-as int (* s5-3 4)) (the-as symbol 0) #t)
    )
  (none)
  )

;; definition (debug) for function clip-restore
;; INFO: Used lq/sq
;; WARN: Return type mismatch vector vs none.
(defun-debug clip-restore ()
  (let ((a0-0 (new-stack-vector0))
        (a1-0 (new 'stack-no-clear 'matrix))
        )
    (set! (-> a1-0 rvec quad) (the-as uint128 0))
    (set! (-> a1-0 uvec quad) (the-as uint128 0))
    (set! (-> a1-0 fvec quad) (the-as uint128 0))
    (set! (-> a1-0 trans quad) (the-as uint128 0))
    (set! (-> a0-0 x) 92648.22)
    (set! (-> a0-0 y) 238025.03)
    (set! (-> a0-0 z) 199836.31)
    (set! (-> a0-0 w) 1.0)
    (set! (-> a1-0 rvec x) -0.9283)
    (set! (-> a1-0 rvec y) 0.0)
    (set! (-> a1-0 rvec z) 0.3716)
    (set! (-> a1-0 rvec w) 0.0)
    (set! (-> a1-0 uvec x) -0.2257)
    (set! (-> a1-0 uvec y) 0.7945)
    (set! (-> a1-0 uvec z) -0.5637)
    (set! (-> a1-0 uvec w) 0.0)
    (set! (-> a1-0 fvec x) -0.2952)
    (set! (-> a1-0 fvec y) -0.6072)
    (set! (-> a1-0 fvec z) -0.7375)
    (set! (-> a1-0 fvec w) 0.0)
    (set! (-> a1-0 trans x) 0.0)
    (set! (-> a1-0 trans y) 0.0)
    (set! (-> a1-0 trans z) 0.0)
    (set! (-> a1-0 trans w) 1.0)
    (debug-set-camera-pos-rot! a0-0 a1-0)
    )
  (none)
  )




