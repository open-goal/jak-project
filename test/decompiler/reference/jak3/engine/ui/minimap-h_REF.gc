;;-*-Lisp-*-
(in-package goal)

;; definition of type minimap-table-entry
(deftype minimap-table-entry (structure)
  ((corner            vector  :inline)
   (level-name        symbol)
   (tex-name          string)
   (meters-per-texel  float)
   (pos-scale         float)
   (min-inv-scale     float)
   (max-inv-scale     float)
   (switch-immediate  symbol)
   )
  )

;; definition for method 3 of type minimap-table-entry
(defmethod inspect ((this minimap-table-entry))
  (when (not this)
    (set! this this)
    (goto cfg-4)
    )
  (format #t "[~8x] ~A~%" this 'minimap-table-entry)
  (format #t "~1Tcorner: #<vector @ #x~X>~%" (-> this corner))
  (format #t "~1Tlevel-name: ~A~%" (-> this level-name))
  (format #t "~1Ttex-name: ~A~%" (-> this tex-name))
  (format #t "~1Tmeters-per-texel: ~f~%" (-> this meters-per-texel))
  (format #t "~1Tpos-scale: ~f~%" (-> this pos-scale))
  (format #t "~1Tmin-inv-scale: ~f~%" (-> this min-inv-scale))
  (format #t "~1Tmax-inv-scale: ~f~%" (-> this max-inv-scale))
  (format #t "~1Tswitch-immediate: ~A~%" (-> this switch-immediate))
  (label cfg-4)
  this
  )

;; definition of type minimap-class-node
(deftype minimap-class-node (structure)
  ((default-position  vector     :inline)
   (flags             minimap-flag)
   (name              string)
   (icon-xy           vector2ub  :inline)
   (class             minimap-class)
   (scale             float)
   (color             rgba)
   )
  (:methods
    (minimap-class-node-method-9 (_type_) symbol)
    )
  )

;; definition for method 3 of type minimap-class-node
(defmethod inspect ((this minimap-class-node))
  (when (not this)
    (set! this this)
    (goto cfg-403)
    )
  (format #t "[~8x] ~A~%" this 'minimap-class-node)
  (format #t "~1Tdefault-position: ~`vector`P~%" (-> this default-position))
  (format #t "~1Tflags: #x~X : (minimap-flag " (-> this flags))
  (let ((s5-0 (-> this flags)))
    (if (= (logand s5-0 (minimap-flag active)) (minimap-flag active))
        (format #t "active ")
        )
    (if (= (logand s5-0 (minimap-flag bigmap)) (minimap-flag bigmap))
        (format #t "bigmap ")
        )
    (if (= (logand (minimap-flag waswide) s5-0) (minimap-flag waswide))
        (format #t "waswide ")
        )
    (if (= (logand s5-0 (minimap-flag fade-in)) (minimap-flag fade-in))
        (format #t "fade-in ")
        )
    (if (= (logand s5-0 (minimap-flag racer)) (minimap-flag racer))
        (format #t "racer ")
        )
    (if (= (logand (minimap-flag ctywide) s5-0) (minimap-flag ctywide))
        (format #t "ctywide ")
        )
    (if (= (logand s5-0 (minimap-flag task)) (minimap-flag task))
        (format #t "task ")
        )
    (if (= (logand s5-0 (minimap-flag bigmap-only)) (minimap-flag bigmap-only))
        (format #t "bigmap-only ")
        )
    (if (= (logand s5-0 (minimap-flag enemy)) (minimap-flag enemy))
        (format #t "enemy ")
        )
    (if (= (logand (minimap-flag wasall) s5-0) (minimap-flag wasall))
        (format #t "wasall ")
        )
    (if (= (logand s5-0 (minimap-flag clamp)) (minimap-flag clamp))
        (format #t "clamp ")
        )
    (if (= (logand s5-0 (minimap-flag minimap)) (minimap-flag minimap))
        (format #t "minimap ")
        )
    (if (= (logand s5-0 (minimap-flag flash)) (minimap-flag flash))
        (format #t "flash ")
        )
    (if (= (logand s5-0 (minimap-flag task-graph)) (minimap-flag task-graph))
        (format #t "task-graph ")
        )
    (if (= (logand (minimap-flag transport) s5-0) (minimap-flag transport))
        (format #t "transport ")
        )
    (if (= (logand s5-0 (minimap-flag trail)) (minimap-flag trail))
        (format #t "trail ")
        )
    (if (= (logand s5-0 (minimap-flag frustum)) (minimap-flag frustum))
        (format #t "frustum ")
        )
    (if (= (logand s5-0 (minimap-flag background)) (minimap-flag background))
        (format #t "background ")
        )
    (if (= (logand s5-0 (minimap-flag goal)) (minimap-flag goal))
        (format #t "goal ")
        )
    (if (= (logand s5-0 (minimap-flag fade-out)) (minimap-flag fade-out))
        (format #t "fade-out ")
        )
    (if (= (logand (minimap-flag desert) s5-0) (minimap-flag desert))
        (format #t "desert ")
        )
    (if (= (logand (minimap-flag local-only) s5-0) (minimap-flag local-only))
        (format #t "local-only ")
        )
    )
  (format #t ")~%")
  (format #t "~1Tname: ~A~%" (-> this name))
  (format #t "~1Ticon-xy: #<vector2ub @ #x~X>~%" (-> this icon-xy))
  (let ((t9-28 format)
        (a0-57 #t)
        (a1-28 "~1Tclass: #x~X : ~S~%")
        (a2-5 (-> this class))
        (v1-68 (-> this class))
        )
    (t9-28 a0-57 a1-28 a2-5 (cond
                              ((= v1-68 (minimap-class factory-clamped-tower))
                               "factory-clamped-tower"
                               )
                              ((= v1-68 (minimap-class none))
                               "none"
                               )
                              ((= v1-68 (minimap-class tiny-red-dot))
                               "tiny-red-dot"
                               )
                              ((= v1-68 (minimap-class goal-no-trail))
                               "goal-no-trail"
                               )
                              ((= v1-68 (minimap-class bbush-desa-3))
                               "bbush-desa-3"
                               )
                              ((= v1-68 (minimap-class ruins-hut))
                               "ruins-hut"
                               )
                              ((= v1-68 (minimap-class bbush-port-8))
                               "bbush-port-8"
                               )
                              ((= v1-68 (minimap-class onintent))
                               "onintent"
                               )
                              ((= v1-68 (minimap-class big-red-flashing-clamped-dot))
                               "big-red-flashing-clamped-dot"
                               )
                              ((= v1-68 (minimap-class green-clamped-dot))
                               "green-clamped-dot"
                               )
                              ((= v1-68 (minimap-class projectile))
                               "projectile"
                               )
                              ((= v1-68 (minimap-class bbush-desa-2))
                               "bbush-desa-2"
                               )
                              ((= v1-68 (minimap-class cty-sniper-vicinity))
                               "cty-sniper-vicinity"
                               )
                              ((= v1-68 (minimap-class palace-ruins))
                               "palace-ruins"
                               )
                              ((= v1-68 (minimap-class mine-armor))
                               "mine-armor"
                               )
                              ((= v1-68 (minimap-class racer-target))
                               "racer-target"
                               )
                              ((= v1-68 (minimap-class bbush-slumc-2))
                               "bbush-slumc-2"
                               )
                              ((= v1-68 (minimap-class bbush-desc-2))
                               "bbush-desc-2"
                               )
                              ((= v1-68 (minimap-class bbush-inda-5))
                               "bbush-inda-5"
                               )
                              ((= v1-68 (minimap-class seem-wascitya))
                               "seem-wascitya"
                               )
                              ((= v1-68 (minimap-class bbush-dese-2))
                               "bbush-dese-2"
                               )
                              ((= v1-68 (minimap-class nest-bridge))
                               "nest-bridge"
                               )
                              ((= v1-68 (minimap-class bbush-inda-2))
                               "bbush-inda-2"
                               )
                              ((= v1-68 (minimap-class bbush-wasb-3))
                               "bbush-wasb-3"
                               )
                              ((= v1-68 (minimap-class gun-dark))
                               "gun-dark"
                               )
                              ((= v1-68 (minimap-class sewer-slumb))
                               "sewer-slumb"
                               )
                              ((= v1-68 (minimap-class bbush-desg-2))
                               "bbush-desg-2"
                               )
                              ((= v1-68 (minimap-class parking-spot))
                               "parking-spot"
                               )
                              ((= v1-68 (minimap-class bbush-inda-1))
                               "bbush-inda-1"
                               )
                              ((= v1-68 (minimap-class spargus-city))
                               "spargus-city"
                               )
                              ((= v1-68 (minimap-class gray-clamped-dot))
                               "gray-clamped-dot"
                               )
                              ((= v1-68 (minimap-class volcano-stone-lid))
                               "volcano-stone-lid"
                               )
                              ((= v1-68 (minimap-class bbush-port-7))
                               "bbush-port-7"
                               )
                              ((= v1-68 (minimap-class ruins-goal))
                               "ruins-goal"
                               )
                              ((= v1-68 (minimap-class mine-sign-down))
                               "mine-sign-down"
                               )
                              ((= v1-68 (minimap-class guard))
                               "guard"
                               )
                              ((= v1-68 (minimap-class bbush-desc))
                               "bbush-desc"
                               )
                              ((= v1-68 (minimap-class desertb-race))
                               "desertb-race"
                               )
                              ((= v1-68 (minimap-class factory-clamped-target))
                               "factory-clamped-target"
                               )
                              ((= v1-68 (minimap-class desert-oasis))
                               "desert-oasis"
                               )
                              ((= v1-68 (minimap-class bbush-dese-5))
                               "bbush-dese-5"
                               )
                              ((= v1-68 (minimap-class bbush-dese))
                               "bbush-dese"
                               )
                              ((= v1-68 (minimap-class bbush-sluma-2))
                               "bbush-sluma-2"
                               )
                              ((= v1-68 (minimap-class kleever-arena))
                               "kleever-arena"
                               )
                              ((= v1-68 (minimap-class bbush-desc-5))
                               "bbush-desc-5"
                               )
                              ((= v1-68 (minimap-class bbush-slumb-1))
                               "bbush-slumb-1"
                               )
                              ((= v1-68 (minimap-class bbush-desg))
                               "bbush-desg"
                               )
                              ((= v1-68 (minimap-class bbush-wasa-3))
                               "bbush-wasa-3"
                               )
                              ((= v1-68 (minimap-class bbush-slumb-3))
                               "bbush-slumb-3"
                               )
                              ((= v1-68 (minimap-class bbush-port-6))
                               "bbush-port-6"
                               )
                              ((= v1-68 (minimap-class temple-defend-door-1))
                               "temple-defend-door-1"
                               )
                              ((= v1-68 (minimap-class bbush-desc-4))
                               "bbush-desc-4"
                               )
                              ((= v1-68 (minimap-class templea-door))
                               "templea-door"
                               )
                              ((= v1-68 (minimap-class templeb-watchers))
                               "templeb-watchers"
                               )
                              ((= v1-68 (minimap-class mine-elevator))
                               "mine-elevator"
                               )
                              ((= v1-68 (minimap-class damus-wasdoors))
                               "damus-wasdoors"
                               )
                              ((= v1-68 (minimap-class bbush-inda-4))
                               "bbush-inda-4"
                               )
                              ((= v1-68 (minimap-class bbush-wasa-6))
                               "bbush-wasa-6"
                               )
                              ((= v1-68 (minimap-class big-green-flashing-clamped-dot))
                               "big-green-flashing-clamped-dot"
                               )
                              ((= v1-68 (minimap-class bbush-dese-4))
                               "bbush-dese-4"
                               )
                              ((= v1-68 (minimap-class bbush-genb-2))
                               "bbush-genb-2"
                               )
                              ((= v1-68 (minimap-class mountain-gear))
                               "mountain-gear"
                               )
                              ((= v1-68 (minimap-class big-green-flashing-trail-dot))
                               "big-green-flashing-trail-dot"
                               )
                              ((= v1-68 (minimap-class bbush-desg-4))
                               "bbush-desg-4"
                               )
                              ((= v1-68 (minimap-class bbush-desa))
                               "bbush-desa"
                               )
                              ((= v1-68 (minimap-class bbush-wasa-2))
                               "bbush-wasa-2"
                               )
                              ((= v1-68 (minimap-class bbush-desg-3))
                               "bbush-desg-3"
                               )
                              ((= v1-68 (minimap-class temple-tests-door))
                               "temple-tests-door"
                               )
                              ((= v1-68 (minimap-class medium-green-dot))
                               "medium-green-dot"
                               )
                              ((= v1-68 (minimap-class volcano-monk))
                               "volcano-monk"
                               )
                              ((= v1-68 (minimap-class robot-frustum))
                               "robot-frustum"
                               )
                              ((= v1-68 (minimap-class bbush-port-5))
                               "bbush-port-5"
                               )
                              ((= v1-68 (minimap-class templeb-seem))
                               "templeb-seem"
                               )
                              ((= v1-68 (minimap-class damus-arena))
                               "damus-arena"
                               )
                              ((= v1-68 (minimap-class nest-cocoon))
                               "nest-cocoon"
                               )
                              ((= v1-68 (minimap-class bbush-wasa-5))
                               "bbush-wasa-5"
                               )
                              ((= v1-68 (minimap-class bbush-genb-1))
                               "bbush-genb-1"
                               )
                              ((= v1-68 (minimap-class bbush-dese-3))
                               "bbush-dese-3"
                               )
                              ((= v1-68 (minimap-class red-clamped-dot))
                               "red-clamped-dot"
                               )
                              ((= v1-68 (minimap-class bbush-slumb-4))
                               "bbush-slumb-4"
                               )
                              ((= v1-68 (minimap-class factory))
                               "factory"
                               )
                              ((= v1-68 (minimap-class bbush-port-1))
                               "bbush-port-1"
                               )
                              ((= v1-68 (minimap-class volcano-collapsing-rock))
                               "volcano-collapsing-rock"
                               )
                              ((= v1-68 (minimap-class bbush-desc-3))
                               "bbush-desc-3"
                               )
                              ((= v1-68 (minimap-class bbush-genb-4))
                               "bbush-genb-4"
                               )
                              ((= v1-68 (minimap-class wascity-gungame))
                               "wascity-gungame"
                               )
                              ((= v1-68 (minimap-class wasteland-arena))
                               "wasteland-arena"
                               )
                              ((= v1-68 (minimap-class bbush-wasa-1))
                               "bbush-wasa-1"
                               )
                              ((= v1-68 (minimap-class bbush-port-4))
                               "bbush-port-4"
                               )
                              ((= v1-68 (minimap-class guard-frustum))
                               "guard-frustum"
                               )
                              ((= v1-68 (minimap-class monk-temple))
                               "monk-temple"
                               )
                              ((= v1-68 (minimap-class big-red-flashing-trail-dot))
                               "big-red-flashing-trail-dot"
                               )
                              ((= v1-68 (minimap-class gun-yellow))
                               "gun-yellow"
                               )
                              ((= v1-68 (minimap-class city-transport))
                               "city-transport"
                               )
                              ((= v1-68 (minimap-class atoll-ashelin))
                               "atoll-ashelin"
                               )
                              ((= v1-68 (minimap-class mine-door))
                               "mine-door"
                               )
                              ((= v1-68 (minimap-class metalhead))
                               "metalhead"
                               )
                              ((= v1-68 (minimap-class bbush-indb-2))
                               "bbush-indb-2"
                               )
                              ((= v1-68 (minimap-class wascity-pre-game))
                               "wascity-pre-game"
                               )
                              ((= v1-68 (minimap-class sig-wasdoors))
                               "sig-wasdoors"
                               )
                              ((= v1-68 (minimap-class goal))
                               "goal"
                               )
                              ((= v1-68 (minimap-class stadium))
                               "stadium"
                               )
                              ((= v1-68 (minimap-class bbush-genb-3))
                               "bbush-genb-3"
                               )
                              ((= v1-68 (minimap-class bbush-desb-2))
                               "bbush-desb-2"
                               )
                              ((= v1-68 (minimap-class seem-wascityb))
                               "seem-wascityb"
                               )
                              ((= v1-68 (minimap-class dp-bipedal))
                               "dp-bipedal"
                               )
                              ((= v1-68 (minimap-class bbush-wasa-4))
                               "bbush-wasa-4"
                               )
                              ((= v1-68 (minimap-class desert-corral))
                               "desert-corral"
                               )
                              ((= v1-68 (minimap-class medium-purple-dot))
                               "medium-purple-dot"
                               )
                              ((= v1-68 (minimap-class bbush-desd-2))
                               "bbush-desd-2"
                               )
                              ((= v1-68 (minimap-class templeb-regen))
                               "templeb-regen"
                               )
                              ((= v1-68 (minimap-class gungame))
                               "gungame"
                               )
                              ((= v1-68 (minimap-class goal-no-trail-bigmap))
                               "goal-no-trail-bigmap"
                               )
                              ((= v1-68 (minimap-class big-orange-flashing-clamped-dot))
                               "big-orange-flashing-clamped-dot"
                               )
                              ((= v1-68 (minimap-class desert-transport))
                               "desert-transport"
                               )
                              ((= v1-68 (minimap-class bbush-slumc-1))
                               "bbush-slumc-1"
                               )
                              ((= v1-68 (minimap-class bbush-indb-1))
                               "bbush-indb-1"
                               )
                              ((= v1-68 (minimap-class factoryc-vehicle))
                               "factoryc-vehicle"
                               )
                              ((= v1-68 (minimap-class bbush-desd-5))
                               "bbush-desd-5"
                               )
                              ((= v1-68 (minimap-class templeb-defend))
                               "templeb-defend"
                               )
                              ((= v1-68 (minimap-class bbush-desd))
                               "bbush-desd"
                               )
                              ((= v1-68 (minimap-class freehq))
                               "freehq"
                               )
                              ((= v1-68 (minimap-class bbush-wasb-7))
                               "bbush-wasb-7"
                               )
                              ((= v1-68 (minimap-class temple-defend-door-3))
                               "temple-defend-door-3"
                               )
                              ((= v1-68 (minimap-class templeb-warpgate))
                               "templeb-warpgate"
                               )
                              ((= v1-68 (minimap-class samos-genb))
                               "samos-genb"
                               )
                              ((= v1-68 (minimap-class bbush-desf))
                               "bbush-desf"
                               )
                              ((= v1-68 (minimap-class forest-samos))
                               "forest-samos"
                               )
                              ((= v1-68 (minimap-class bbush-desb-4))
                               "bbush-desb-4"
                               )
                              ((= v1-68 (minimap-class bbush-desh))
                               "bbush-desh"
                               )
                              ((= v1-68 (minimap-class mine-sign-up))
                               "mine-sign-up"
                               )
                              ((= v1-68 (minimap-class desert-temple))
                               "desert-temple"
                               )
                              ((= v1-68 (minimap-class bbush-desd-4))
                               "bbush-desd-4"
                               )
                              ((= v1-68 (minimap-class sewer-kg))
                               "sewer-kg"
                               )
                              ((= v1-68 (minimap-class hiphog))
                               "hiphog"
                               )
                              ((= v1-68 (minimap-class atoll-valve))
                               "atoll-valve"
                               )
                              ((= v1-68 (minimap-class bbush-sluma-1))
                               "bbush-sluma-1"
                               )
                              ((= v1-68 (minimap-class racer-errol))
                               "racer-errol"
                               )
                              ((= v1-68 (minimap-class bbush-wasb-6))
                               "bbush-wasb-6"
                               )
                              ((= v1-68 (minimap-class forest))
                               "forest"
                               )
                              ((= v1-68 (minimap-class bbush-sluma-3))
                               "bbush-sluma-3"
                               )
                              ((= v1-68 (minimap-class bbush-desb))
                               "bbush-desb"
                               )
                              ((= v1-68 (minimap-class bbush-indb-3))
                               "bbush-indb-3"
                               )
                              ((= v1-68 (minimap-class bbush-wasb-2))
                               "bbush-wasb-2"
                               )
                              ((= v1-68 (minimap-class racer))
                               "racer"
                               )
                              ((= v1-68 (minimap-class desert-nest-entrance))
                               "desert-nest-entrance"
                               )
                              ((= v1-68 (minimap-class big-purple-flashing-clamped-dot))
                               "big-purple-flashing-clamped-dot"
                               )
                              ((= v1-68 (minimap-class damus-waspal))
                               "damus-waspal"
                               )
                              ((= v1-68 (minimap-class big-red-flashing-dot))
                               "big-red-flashing-dot"
                               )
                              ((= v1-68 (minimap-class mountain-shard))
                               "mountain-shard"
                               )
                              ((= v1-68 (minimap-class parked-vehicle))
                               "parked-vehicle"
                               )
                              ((= v1-68 (minimap-class temple-defend-door-2))
                               "temple-defend-door-2"
                               )
                              ((= v1-68 (minimap-class kleever-wasdoors))
                               "kleever-wasdoors"
                               )
                              ((= v1-68 (minimap-class waspal))
                               "waspal"
                               )
                              ((= v1-68 (minimap-class bbush-desd-3))
                               "bbush-desd-3"
                               )
                              ((= v1-68 (minimap-class templeb-freeze))
                               "templeb-freeze"
                               )
                              ((= v1-68 (minimap-class desert-marauder-village))
                               "desert-marauder-village"
                               )
                              ((= v1-68 (minimap-class bbush-wasb-5))
                               "bbush-wasb-5"
                               )
                              ((= v1-68 (minimap-class bbush-desb-3))
                               "bbush-desb-3"
                               )
                              ((= v1-68 (minimap-class temple-elev))
                               "temple-elev"
                               )
                              ((= v1-68 (minimap-class bbush-inda-3))
                               "bbush-inda-3"
                               )
                              ((= v1-68 (minimap-class wasdoors))
                               "wasdoors"
                               )
                              ((= v1-68 (minimap-class ruins-elec-gate))
                               "ruins-elec-gate"
                               )
                              ((= v1-68 (minimap-class kleever-wascityb))
                               "kleever-wascityb"
                               )
                              ((= v1-68 (minimap-class mountain-lens))
                               "mountain-lens"
                               )
                              ((= v1-68 (minimap-class templex-darkmaker))
                               "templex-darkmaker"
                               )
                              ((= v1-68 (minimap-class desglide-thermal-dot))
                               "desglide-thermal-dot"
                               )
                              ((= v1-68 (minimap-class bbush-wasb-1))
                               "bbush-wasb-1"
                               )
                              ((= v1-68 (minimap-class vinroom))
                               "vinroom"
                               )
                              ((= v1-68 (minimap-class bbush-post-game))
                               "bbush-post-game"
                               )
                              ((= v1-68 (minimap-class wascity-leaper-race))
                               "wascity-leaper-race"
                               )
                              ((= v1-68 (minimap-class sewer-genb))
                               "sewer-genb"
                               )
                              ((= v1-68 (minimap-class dark-maker))
                               "dark-maker"
                               )
                              ((= v1-68 (minimap-class neo-wasp))
                               "neo-wasp"
                               )
                              ((= v1-68 (minimap-class volcano-dark-maker-idol))
                               "volcano-dark-maker-idol"
                               )
                              ((= v1-68 (minimap-class desglide-ring-dot))
                               "desglide-ring-dot"
                               )
                              ((= v1-68 (minimap-class bbush-wasb-4))
                               "bbush-wasb-4"
                               )
                              (else
                                "*unknown*"
                                )
                              )
           )
    )
  (format #t "~1Tscale: ~f~%" (-> this scale))
  (format #t "~1Tcolor: #x~X~%" (-> this color))
  (label cfg-403)
  this
  )

;; definition of type connection-minimap
(deftype connection-minimap (connection-pers)
  ((next               connection-minimap :override)
   (handle             handle              :overlay-at update-time)
   (position           vector              :overlay-at (-> param 0))
   (alpha              float               :overlay-at (-> param 1))
   (flags              minimap-flag        :overlay-at (-> param 2))
   (class              minimap-class-node  :overlay-at (-> param 3))
   (node               uint16)
   (edge-ry            int16)
   (last-world-pos     vector              :inline)
   (last-relative-pos  vector              :inline)
   )
  )

;; definition for method 3 of type connection-minimap
;; INFO: Used lq/sq
(defmethod inspect ((this connection-minimap))
  (when (not this)
    (set! this this)
    (goto cfg-60)
    )
  (format #t "[~8x] ~A~%" this 'connection-minimap)
  (format #t "~1Tnext: #<connection-minimap @ #x~X>~%" (-> this next))
  (format #t "~1Tkey: ~A~%" (-> this key))
  (format #t "~1Tupdate-time: ~D~%" (-> this handle))
  (format #t "~1Tparam[4] @ #x~X~%" (-> this param))
  (dotimes (s5-0 4)
    (format #t "~T  [~D]~1Tparam: ~A~%" s5-0 (-> this param s5-0))
    )
  (format #t "~1Tparam-int32[4] @ #x~X~%" (-> this param))
  (dotimes (s5-1 4)
    (format #t "~T  [~D]~1Tparam-int32: ~D~%" s5-1 (-> this param s5-1))
    )
  (format #t "~1Tparam-int64[2] @ #x~X~%" (-> this param))
  (dotimes (s5-2 2)
    (format #t "~T  [~D]~1Tparam-int64: ~D~%" s5-2 (-> this param-int64 s5-2))
    )
  (format #t "~1Tparam-float[4] @ #x~X~%" (-> this param))
  (dotimes (s5-3 4)
    (format #t "~T  [~D]~1Tparam-float: ~f~%" s5-3 (the-as float (-> this param s5-3)))
    )
  (format #t "~1Tparam-quat: #x~X~%" (-> this param-quat))
  (format #t "~1Thandle: ~D~%" (-> this handle))
  (format #t "~1Tposition: #<vector @ #x~X>~%" (-> this position))
  (format #t "~1Talpha: ~f~%" (-> this alpha))
  (format #t "~1Tflags: #x~X : (minimap-flag " (-> this flags))
  (let ((s5-4 (-> this flags)))
    (if (= (logand s5-4 (minimap-flag active)) (minimap-flag active))
        (format #t "active ")
        )
    (if (= (logand s5-4 (minimap-flag bigmap)) (minimap-flag bigmap))
        (format #t "bigmap ")
        )
    (if (= (logand (minimap-flag waswide) s5-4) (minimap-flag waswide))
        (format #t "waswide ")
        )
    (if (= (logand s5-4 (minimap-flag fade-in)) (minimap-flag fade-in))
        (format #t "fade-in ")
        )
    (if (= (logand s5-4 (minimap-flag racer)) (minimap-flag racer))
        (format #t "racer ")
        )
    (if (= (logand (minimap-flag ctywide) s5-4) (minimap-flag ctywide))
        (format #t "ctywide ")
        )
    (if (= (logand s5-4 (minimap-flag task)) (minimap-flag task))
        (format #t "task ")
        )
    (if (= (logand s5-4 (minimap-flag bigmap-only)) (minimap-flag bigmap-only))
        (format #t "bigmap-only ")
        )
    (if (= (logand s5-4 (minimap-flag enemy)) (minimap-flag enemy))
        (format #t "enemy ")
        )
    (if (= (logand (minimap-flag wasall) s5-4) (minimap-flag wasall))
        (format #t "wasall ")
        )
    (if (= (logand s5-4 (minimap-flag clamp)) (minimap-flag clamp))
        (format #t "clamp ")
        )
    (if (= (logand s5-4 (minimap-flag minimap)) (minimap-flag minimap))
        (format #t "minimap ")
        )
    (if (= (logand s5-4 (minimap-flag flash)) (minimap-flag flash))
        (format #t "flash ")
        )
    (if (= (logand s5-4 (minimap-flag task-graph)) (minimap-flag task-graph))
        (format #t "task-graph ")
        )
    (if (= (logand (minimap-flag transport) s5-4) (minimap-flag transport))
        (format #t "transport ")
        )
    (if (= (logand s5-4 (minimap-flag trail)) (minimap-flag trail))
        (format #t "trail ")
        )
    (if (= (logand s5-4 (minimap-flag frustum)) (minimap-flag frustum))
        (format #t "frustum ")
        )
    (if (= (logand s5-4 (minimap-flag background)) (minimap-flag background))
        (format #t "background ")
        )
    (if (= (logand s5-4 (minimap-flag goal)) (minimap-flag goal))
        (format #t "goal ")
        )
    (if (= (logand s5-4 (minimap-flag fade-out)) (minimap-flag fade-out))
        (format #t "fade-out ")
        )
    (if (= (logand (minimap-flag desert) s5-4) (minimap-flag desert))
        (format #t "desert ")
        )
    (if (= (logand (minimap-flag local-only) s5-4) (minimap-flag local-only))
        (format #t "local-only ")
        )
    )
  (format #t ")~%")
  (format #t "~1Tclass: #<minimap-class-node @ #x~X>~%" (-> this class))
  (format #t "~1Tnode: ~D~%" (-> this node))
  (format #t "~1Tedge-ry: ~D~%" (-> this edge-ry))
  (format #t "~1Tlast-world-pos: ~`vector`P~%" (-> this last-world-pos))
  (format #t "~1Tlast-relative-pos: ~`vector`P~%" (-> this last-relative-pos))
  (label cfg-60)
  this
  )

;; definition of type engine-minimap
(deftype engine-minimap (engine-pers)
  ((alive-list  connection-minimap :override)
   (dead-list   connection-minimap :override)
   )
  )

;; definition for method 3 of type engine-minimap
(defmethod inspect ((this engine-minimap))
  (when (not this)
    (set! this this)
    (goto cfg-4)
    )
  (format #t "[~8x] ~A~%" this (-> this type))
  (format #t "~1Tname: ~A~%" (-> this name))
  (format #t "~1Tlength: ~D~%" (-> this length))
  (format #t "~1Tallocated-length: ~D~%" (-> this allocated-length))
  (format #t "~1Telement-type: ~A~%" (-> this element-type))
  (format #t "~1Texecute-time: ~D~%" (-> this execute-time))
  (format #t "~1Talive-list: #<connection-minimap @ #x~X>~%" (-> this alive-list))
  (format #t "~1Tdead-list: #<connection-minimap @ #x~X>~%" (-> this dead-list))
  (format #t "~1Tdata[0] @ #x~X~%" (-> this data))
  (label cfg-4)
  this
  )

;; definition of type minimap-trail
(deftype minimap-trail (structure)
  ((used-by         connection-minimap)
   (search-id       uint32)
   (node-count      int16)
   (goal-node-id    int32)
   (node-path-dist  float)
   (last-updated    uint64)
   (cached-info     trail-cached-search-info  :inline)
   (node-id         uint16                    64)
   )
  (:methods
    (get-distance-with-path (_type_ vector vector) float)
    (reset (_type_) none)
    )
  )

;; definition for method 3 of type minimap-trail
(defmethod inspect ((this minimap-trail))
  (when (not this)
    (set! this this)
    (goto cfg-4)
    )
  (format #t "[~8x] ~A~%" this 'minimap-trail)
  (format #t "~1Tused-by: ~`connection-minimap`P~%" (-> this used-by))
  (format #t "~1Tsearch-id: ~D~%" (-> this search-id))
  (format #t "~1Tnode-count: ~D~%" (-> this node-count))
  (format #t "~1Tgoal-node-id: ~D~%" (-> this goal-node-id))
  (format #t "~1Tnode-path-dist: ~f~%" (-> this node-path-dist))
  (format #t "~1Tlast-updated: ~D~%" (-> this last-updated))
  (format #t "~1Tcached-info: #<trail-cached-search-info @ #x~X>~%" (-> this cached-info))
  (format #t "~1Tnode-id[64] @ #x~X~%" (-> this node-id))
  (label cfg-4)
  this
  )

;; definition of type minimap-draw-work
(deftype minimap-draw-work (structure)
  ((buf            dma-buffer)
   (justify-right  symbol)
   (global-flags   uint32)
   (draw-pos       vector4w  :inline)
   (mat            matrix    :inline)
   (corner         vector    4 :inline)
   )
  )

;; definition for method 3 of type minimap-draw-work
(defmethod inspect ((this minimap-draw-work))
  (when (not this)
    (set! this this)
    (goto cfg-4)
    )
  (format #t "[~8x] ~A~%" this 'minimap-draw-work)
  (format #t "~1Tbuf: ~A~%" (-> this buf))
  (format #t "~1Tjustify-right: ~A~%" (-> this justify-right))
  (format #t "~1Tglobal-flags: ~D~%" (-> this global-flags))
  (format #t "~1Tdraw-pos: #<vector4w @ #x~X>~%" (-> this draw-pos))
  (format #t "~1Tmat: #<matrix @ #x~X>~%" (-> this mat))
  (format #t "~1Tcorner[4] @ #x~X~%" (-> this corner))
  (label cfg-4)
  this
  )

;; definition of type minimap
(deftype minimap (structure)
  ((draw-tmpl         dma-gif-packet  :inline)
   (draw2-tmpl        dma-gif-packet  :inline)
   (draw3-tmpl        dma-gif-packet  :inline)
   (draw4-tmpl        dma-gif-packet  :inline)
   (sprite-tmpl       dma-gif-packet  :inline)
   (adgif-tmpl        dma-gif-packet  :inline)
   (color             vector4w        :inline)
   (offset            vector          :inline)
   (minimap-corner    vector          :inline)
   (last-name         string)
   (last-tex          basic)
   (target-inv-scale  float)
   (map-bits          uint64)
   (level             level)
   (ctywide           level)
   (meters-per-texel  float)
   (pos-scale         float)
   (min-inv-scale     float)
   (max-inv-scale     float)
   (inv-scale         float           :overlay-at (-> offset data 1))
   (map-inv-scale     float)
   (icon-inv-scale    float)
   (fade              float           :overlay-at (-> offset data 3))
   (engine            engine-minimap)
   (engine-key        uint32)
   (trail             minimap-trail   6 :inline)
   (race-tex          texture)
   (race-scale        float)
   (race-level        level)
   (sprite2-tmpl      dma-gif-packet  :inline)
   (race-corner       vector          :inline)
   (goal-time         float)
   (frustum-alpha     float)
   )
  (:methods
    (debug-draw (_type_) none)
    (get-trail-for-connection (_type_ connection-minimap symbol) minimap-trail)
    (get-icon-draw-pos (_type_ connection-minimap minimap-trail vector float vector) symbol)
    (add-icon! (_type_ process uint int vector int) connection-minimap)
    (free-trail-by-connection (_type_ connection-minimap) none)
    (update-trails (_type_) none)
    (draw-1 (_type_ dma-buffer vector4w symbol) none)
    (draw-connection (_type_ minimap-draw-work connection-minimap) none)
    (draw-frustum-1 (_type_ minimap-draw-work connection-minimap) none)
    (draw-frustum-2 (_type_ minimap-draw-work connection-minimap) none)
    (sub-draw-1-2 (_type_ minimap-draw-work) none)
    (update! (_type_) symbol)
    (sub-draw-1-1 (_type_ minimap-draw-work) none)
    (set-color (_type_ vector) none)
    (draw-racer-2 (_type_ minimap-draw-work connection-minimap) none)
    (draw-sprite2 (_type_ dma-buffer vector4w symbol) none)
    (set-race-texture (_type_ texture float level) none)
    (draw-racer-1 (_type_ minimap-draw-work connection-minimap float float float) none)
    (set-race-corner (_type_ float float) none)
    )
  )

;; definition for method 3 of type minimap
(defmethod inspect ((this minimap))
  (when (not this)
    (set! this this)
    (goto cfg-4)
    )
  (format #t "[~8x] ~A~%" this 'minimap)
  (format #t "~1Tdraw-tmpl: #<dma-gif-packet @ #x~X>~%" (-> this draw-tmpl))
  (format #t "~1Tdraw2-tmpl: #<dma-gif-packet @ #x~X>~%" (-> this draw2-tmpl))
  (format #t "~1Tdraw3-tmpl: #<dma-gif-packet @ #x~X>~%" (-> this draw3-tmpl))
  (format #t "~1Tdraw4-tmpl: #<dma-gif-packet @ #x~X>~%" (-> this draw4-tmpl))
  (format #t "~1Tsprite-tmpl: #<dma-gif-packet @ #x~X>~%" (-> this sprite-tmpl))
  (format #t "~1Tadgif-tmpl: #<dma-gif-packet @ #x~X>~%" (-> this adgif-tmpl))
  (format #t "~1Tcolor: #<vector4w @ #x~X>~%" (-> this color))
  (format #t "~1Toffset: #<vector @ #x~X>~%" (-> this offset))
  (format #t "~1Tminimap-corner: #<vector @ #x~X>~%" (-> this minimap-corner))
  (format #t "~1Tlast-name: ~A~%" (-> this last-name))
  (format #t "~1Tlast-tex: ~A~%" (-> this last-tex))
  (format #t "~1Ttarget-inv-scale: ~f~%" (-> this target-inv-scale))
  (format #t "~1Tmap-bits: ~D~%" (-> this map-bits))
  (format #t "~1Tlevel: ~A~%" (-> this level))
  (format #t "~1Tctywide: ~A~%" (-> this ctywide))
  (format #t "~1Tmeters-per-texel: ~f~%" (-> this meters-per-texel))
  (format #t "~1Tpos-scale: ~f~%" (-> this pos-scale))
  (format #t "~1Tmin-inv-scale: ~f~%" (-> this min-inv-scale))
  (format #t "~1Tmax-inv-scale: ~f~%" (-> this max-inv-scale))
  (format #t "~1Tinv-scale: ~f~%" (-> this offset y))
  (format #t "~1Tmap-inv-scale: ~f~%" (-> this map-inv-scale))
  (format #t "~1Ticon-inv-scale: ~f~%" (-> this icon-inv-scale))
  (format #t "~1Tfade: ~f~%" (-> this offset w))
  (format #t "~1Tengine: ~A~%" (-> this engine))
  (format #t "~1Tengine-key: ~D~%" (-> this engine-key))
  (format #t "~1Ttrail[6] @ #x~X~%" (-> this trail))
  (format #t "~1Trace-tex: ~A~%" (-> this race-tex))
  (format #t "~1Trace-scale: ~f~%" (-> this race-scale))
  (format #t "~1Trace-level: ~A~%" (-> this race-level))
  (format #t "~1Tsprite2-tmpl: #<dma-gif-packet @ #x~X>~%" (-> this sprite2-tmpl))
  (format #t "~1Trace-corner: #<vector @ #x~X>~%" (-> this race-corner))
  (format #t "~1Tgoal-time: ~f~%" (-> this goal-time))
  (format #t "~1Tfrustum-alpha: ~f~%" (-> this frustum-alpha))
  (label cfg-4)
  this
  )

;; failed to figure out what this is:
0
