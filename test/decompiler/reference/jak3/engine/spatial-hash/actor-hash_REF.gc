;;-*-Lisp-*-
(in-package goal)

;; failed to figure out what this is:
(kmemopen global "actor-hash")

;; definition for symbol *actor-hash*, type spatial-hash
(define *actor-hash* (new 'global 'spatial-hash 4096 256))

;; failed to figure out what this is:
(kmemclose)

;; definition of type actor-cshape-ptr
(deftype actor-cshape-ptr (structure)
  ((cshape  collide-shape)
   )
  )

;; definition for method 3 of type actor-cshape-ptr
(defmethod inspect ((this actor-cshape-ptr))
  (when (not this)
    (set! this this)
    (goto cfg-4)
    )
  (format #t "[~8x] ~A~%" this 'actor-cshape-ptr)
  (format #t "~1Tcshape: ~A~%" (-> this cshape))
  (label cfg-4)
  this
  )

;; definition of type actor-hash-bucket
(deftype actor-hash-bucket (structure)
  ((length      int16)
   (max-length  int16)
   (data        (inline-array actor-cshape-ptr))
   )
  :allow-misaligned
  (:methods
    (add-actor-cshape (_type_ collide-shape) none)
    )
  )

;; definition for method 3 of type actor-hash-bucket
(defmethod inspect ((this actor-hash-bucket))
  (when (not this)
    (set! this this)
    (goto cfg-4)
    )
  (format #t "[~8x] ~A~%" this 'actor-hash-bucket)
  (format #t "~1Tlength: ~D~%" (-> this length))
  (format #t "~1Tmax-length: ~D~%" (-> this max-length))
  (format #t "~1Tdata: #x~X~%" (-> this data))
  (label cfg-4)
  this
  )

;; definition for method 9 of type actor-hash-bucket
;; WARN: Return type mismatch int vs none.
(defmethod add-actor-cshape ((this actor-hash-bucket) (arg0 collide-shape))
  (let ((v1-0 (-> this length)))
    (when (< v1-0 (-> this max-length))
      (set! (-> this data v1-0 cshape) arg0)
      (set! (-> this length) (+ v1-0 1))
      )
    )
  0
  (none)
  )

;; definition of type actor-hash-buckets
(deftype actor-hash-buckets (structure)
  ((hash  spatial-hash)
   (list  engine)
   (data  actor-hash-bucket  4 :inline)
   (tpos  vector             :inline)
   )
  (:methods
    (hash-actors (_type_) none)
    )
  )

;; definition for method 3 of type actor-hash-buckets
(defmethod inspect ((this actor-hash-buckets))
  (when (not this)
    (set! this this)
    (goto cfg-4)
    )
  (format #t "[~8x] ~A~%" this 'actor-hash-buckets)
  (format #t "~1Thash: ~A~%" (-> this hash))
  (format #t "~1Tlist: ~A~%" (-> this list))
  (format #t "~1Tdata[4] @ #x~X~%" (-> this data))
  (format #t "~1Ttpos: #<vector @ #x~X>~%" (-> this tpos))
  (label cfg-4)
  this
  )

;; definition for method 9 of type actor-hash-buckets
;; INFO: Used lq/sq
;; WARN: Return type mismatch int vs none.
(defmethod hash-actors ((this actor-hash-buckets))
  (rlet ((vf0 :class vf)
         (vf4 :class vf)
         (vf5 :class vf)
         (vf6 :class vf)
         )
    (init-vf0-vector)
    (set! (-> this hash) *actor-hash*)
    (set! (-> this list) *collide-hit-by-others-list*)
    (clear-objects! (-> this hash))
    (cond
      ((>= 256 (-> this list length))
       (let ((a0-4 (-> this list alive-list next0)))
         (-> this list)
         (let ((v1-8 (-> a0-4 next0)))
           (while (!= a0-4 (-> this list alive-list-end))
             (let* ((a0-5 (-> (the-as connection a0-4) param1))
                    (a1-0 (-> this hash))
                    (t0-0 (-> (the-as collide-shape a0-5) root-prim prim-core))
                    (a3-0 a0-5)
                    (a2-1 (-> a1-0 object-count))
                    )
               (set! a2-1 (cond
                            ((< a2-1 (-> a1-0 max-object-count))
                             (let ((t1-2 (-> a1-0 sphere-array a2-1))
                                   (t2-2 (-> a1-0 object-array a2-1))
                                   )
                               (let ((t3-1 (new 'stack-no-clear 'inline-array 'vector 2)))
                                 (let ((t5-0 (-> t3-1 0)))
                                   (let ((t4-0 t0-0))
                                     (let ((t6-0 (- (-> t0-0 world-sphere w))))
                                       (.mov vf6 t6-0)
                                       )
                                     (.lvf vf4 (&-> t4-0 world-sphere quad))
                                     )
                                   (.add.x.vf vf5 vf0 vf0 :mask #b1000)
                                   (.add.x.vf vf5 vf4 vf6 :mask #b111)
                                   (.svf (&-> t5-0 quad) vf5)
                                   )
                                 (let ((t5-1 (-> t3-1 1)))
                                   (let ((t4-1 t0-0))
                                     (let ((t6-1 (-> t0-0 world-sphere w)))
                                       (.mov vf6 t6-1)
                                       )
                                     (.lvf vf4 (&-> t4-1 world-sphere quad))
                                     )
                                   (.add.x.vf vf5 vf0 vf0 :mask #b1000)
                                   (.add.x.vf vf5 vf4 vf6 :mask #b111)
                                   (.svf (&-> t5-1 quad) vf5)
                                   )
                                 (dotimes (t4-2 3)
                                   (set! (-> a1-0 box-min t4-2) (fmin (-> a1-0 box-min t4-2) (-> (&-> t3-1 0 data t4-2) 0)))
                                   (set! (-> a1-0 box-max t4-2) (fmax (-> a1-0 box-max t4-2) (-> (&-> t3-1 0 data t4-2) 4)))
                                   )
                                 )
                               (set! (-> t1-2 quad) (-> t0-0 world-sphere quad))
                               (set! (-> t2-2 object) a3-0)
                               )
                             (+! (-> a1-0 object-count) 1)
                             a2-1
                             )
                            (else
                              -1
                              )
                            )
                     )
               (set! (-> (the-as collide-shape a0-5) actor-hash-index) a2-1)
               )
             (set! a0-4 v1-8)
             (-> this list)
             (set! v1-8 (-> v1-8 next0))
             )
           )
         )
       )
      (else
        (set! (-> this tpos quad) (-> (target-pos 0) quad))
        (dotimes (v1-13 4)
          (set! (-> this data v1-13 length) 0)
          )
        (let ((v1-17 (-> this list alive-list next0)))
          (-> this list)
          (let ((s5-1 (-> v1-17 next0)))
            (while (!= v1-17 (-> this list alive-list-end))
              (let* ((s4-0 (-> (the-as connection v1-17) param1))
                     (f0-7 (vector-vector-distance-squared (-> this tpos) (-> (the-as collide-shape s4-0) trans)))
                     (f1-2 102400.0)
                     )
                (cond
                  ((< f0-7 (* f1-2 f1-2))
                   ((method-of-type actor-hash-bucket add-actor-cshape)
                    (the-as actor-hash-bucket (-> this data))
                    (the-as collide-shape s4-0)
                    )
                   )
                  ((let ((f1-5 204800.0))
                     (< f0-7 (* f1-5 f1-5))
                     )
                   (add-actor-cshape (-> this data 1) (the-as collide-shape s4-0))
                   )
                  ((let ((f1-8 307200.0))
                     (< f0-7 (* f1-8 f1-8))
                     )
                   (add-actor-cshape (-> this data 2) (the-as collide-shape s4-0))
                   )
                  (else
                    (add-actor-cshape (-> this data 3) (the-as collide-shape s4-0))
                    )
                  )
                )
              (set! v1-17 s5-1)
              (-> this list)
              (set! s5-1 (-> s5-1 next0))
              )
            )
          )
        (dotimes (v1-34 4)
          (let ((a0-22 (-> this data v1-34)))
            (countdown (a1-10 (-> a0-22 length))
              (let* ((a2-4 (-> a0-22 data a1-10 cshape))
                     (a3-4 (-> this hash))
                     (t2-3 (-> a2-4 root-prim prim-core))
                     (t1-3 a2-4)
                     (t0-3 (-> a3-4 object-count))
                     )
                (set! t0-3
                      (cond
                        ((< t0-3 (-> a3-4 max-object-count))
                         (let ((t3-6 (-> a3-4 sphere-array t0-3))
                               (t4-5 (-> a3-4 object-array t0-3))
                               )
                           (let ((t5-15 (new 'stack-no-clear 'inline-array 'vector 2)))
                             (let ((t7-0 (-> t5-15 0)))
                               (let ((t6-2 t2-3))
                                 (let ((t8-0 (- (-> t2-3 world-sphere w))))
                                   (.mov vf6 t8-0)
                                   )
                                 (.lvf vf4 (&-> t6-2 world-sphere quad))
                                 )
                               (.add.x.vf vf5 vf0 vf0 :mask #b1000)
                               (.add.x.vf vf5 vf4 vf6 :mask #b111)
                               (.svf (&-> t7-0 quad) vf5)
                               )
                             (let ((t7-1 (-> t5-15 1)))
                               (let ((t6-3 t2-3))
                                 (let ((t8-1 (-> t2-3 world-sphere w)))
                                   (.mov vf6 t8-1)
                                   )
                                 (.lvf vf4 (&-> t6-3 world-sphere quad))
                                 )
                               (.add.x.vf vf5 vf0 vf0 :mask #b1000)
                               (.add.x.vf vf5 vf4 vf6 :mask #b111)
                               (.svf (&-> t7-1 quad) vf5)
                               )
                             (dotimes (t6-4 3)
                               (set! (-> a3-4 box-min t6-4) (fmin (-> a3-4 box-min t6-4) (-> (&-> t5-15 0 data t6-4) 0)))
                               (set! (-> a3-4 box-max t6-4) (fmax (-> a3-4 box-max t6-4) (-> (&-> t5-15 0 data t6-4) 4)))
                               )
                             )
                           (set! (-> t3-6 quad) (-> t2-3 world-sphere quad))
                           (set! (-> t4-5 object) t1-3)
                           )
                         (+! (-> a3-4 object-count) 1)
                         t0-3
                         )
                        (else
                          -1
                          )
                        )
                      )
                (set! (-> a2-4 actor-hash-index) t0-3)
                )
              )
            )
          )
        )
      )
    (update-from-spheres (-> this hash))
    0
    (none)
    )
  )

;; definition for symbol *actor-hash-buckets*, type actor-hash-buckets
(define *actor-hash-buckets*
  (new 'static 'actor-hash-buckets
    :data (new 'static 'inline-array actor-hash-bucket 4
      (new 'static 'actor-hash-bucket :max-length #x100 :data (new 'static 'inline-array actor-cshape-ptr 256
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                )
                                      )
      (new 'static 'actor-hash-bucket :max-length #x100 :data (new 'static 'inline-array actor-cshape-ptr 256
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                )
                                      )
      (new 'static 'actor-hash-bucket :max-length #x100 :data (new 'static 'inline-array actor-cshape-ptr 256
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                )
                                      )
      (new 'static 'actor-hash-bucket :max-length #x100 :data (new 'static 'inline-array actor-cshape-ptr 256
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                )
                                      )
      )
    )
  )

;; definition for function update-actor-hash
;; WARN: Return type mismatch int vs none.
(defun update-actor-hash ()
  (local-vars (a0-3 int) (a0-5 int))
  (let* ((v1-1 (-> *perf-stats* data 6))
         (a0-0 (-> v1-1 ctrl))
         )
    (+! (-> v1-1 count) 1)
    (b! (zero? a0-0) cfg-2 :delay (nop!))
    (.mtc0 Perf 0)
    (.sync.l)
    (.sync.p)
    (.mtpc pcr0 0)
    (.mtpc pcr1 0)
    (.sync.l)
    (.sync.p)
    (.mtc0 Perf a0-0)
    )
  (.sync.l)
  (.sync.p)
  (label cfg-2)
  0
  (hash-actors *actor-hash-buckets*)
  (let ((v1-6 (-> *perf-stats* data 6)))
    (b! (zero? (-> v1-6 ctrl)) cfg-4 :delay (nop!))
    (.mtc0 Perf 0)
    (.sync.l)
    (.sync.p)
    (.mfpc a0-3 pcr0)
    (+! (-> v1-6 accum0) a0-3)
    (.mfpc a0-5 pcr1)
    (+! (-> v1-6 accum1) a0-5)
    )
  (label cfg-4)
  0
  0
  (none)
  )




