;;-*-Lisp-*-
(in-package goal)

;; definition of type hover-enemy-info
(deftype hover-enemy-info (structure)
  ((fly-forward-anim     int32)
   (fly-backward-anim    int32)
   (fly-left-anim        int32)
   (fly-right-anim       int32)
   (shoot-anim           int32)
   (main-joint           int32)
   (gun-base             int32)
   (engine-left          int32)
   (engine-right         int32)
   (thrust-rotate-left   float)
   (thrust-rotate-right  float)
   )
  )

;; definition for method 3 of type hover-enemy-info
(defmethod inspect ((this hover-enemy-info))
  (when (not this)
    (set! this this)
    (goto cfg-4)
    )
  (format #t "[~8x] ~A~%" this 'hover-enemy-info)
  (format #t "~1Tfly-forward-anim: ~D~%" (-> this fly-forward-anim))
  (format #t "~1Tfly-backward-anim: ~D~%" (-> this fly-backward-anim))
  (format #t "~1Tfly-left-anim: ~D~%" (-> this fly-left-anim))
  (format #t "~1Tfly-right-anim: ~D~%" (-> this fly-right-anim))
  (format #t "~1Tshoot-anim: ~D~%" (-> this shoot-anim))
  (format #t "~1Tmain-joint: ~D~%" (-> this main-joint))
  (format #t "~1Tgun-base: ~D~%" (-> this gun-base))
  (format #t "~1Tengine-left: ~D~%" (-> this engine-left))
  (format #t "~1Tengine-right: ~D~%" (-> this engine-right))
  (format #t "~1Tthrust-rotate-left: ~f~%" (-> this thrust-rotate-left))
  (format #t "~1Tthrust-rotate-right: ~f~%" (-> this thrust-rotate-right))
  (label cfg-4)
  this
  )

;; definition of type hover-enemy
(deftype hover-enemy (enemy)
  ((hover                       hover-nav-control)
   (hover-info                  hover-enemy-info)
   (formation-entity            entity)
   (fly-anim-speed              float)
   (restart-fly-anims           symbol)
   (main-joint-acc              vector  :inline)
   (main-joint-vel              vector  :inline)
   (main-joint-pos              vector  :inline)
   (thrust                      float   2)
   (rotation-vec                vector  :inline)
   (dest-pos                    vector  :inline)
   (offset                      vector  :inline)
   (surface-normal              vector  :inline)
   (local-dir                   vector  :inline)
   (scale                       float)
   (scale-timer                 uint64)
   (hit-surface?                symbol)
   (knocked-start-level         float)
   (knocked-fall-dist           float)
   (flying-death-anim           int32)
   (flying-death-transv         vector  :inline)
   (flying-death-engine         int32)
   (flying-death-thrust-rotate  float)
   (flying-death-spin           float)
   (flying-death-spin-dest      float)
   (flying-death-spin-axis      vector  :inline)
   )
  (:state-methods
    knocked-recover
    flying-death
    flying-death-explode
    )
  (:methods
    (hover-enemy-method-140 (_type_ symbol) none)
    (hover-enemy-method-141 (_type_ float) none)
    (hover-enemy-method-142 (_type_) none)
    (hover-enemy-method-143 (_type_ int float) none)
    (hover-enemy-method-144 (_type_) none)
    (hover-enemy-method-145 (_type_ int float int int) none)
    (hover-enemy-method-146 (_type_) none)
    (hover-enemy-method-147 (_type_) none)
    (hover-enemy-method-148 (_type_) none)
    (hover-enemy-method-149 (_type_) none)
    (hover-enemy-method-150 (_type_) enemy-info)
    (hover-enemy-method-151 (_type_) hover-enemy-info)
    (hover-enemy-method-152 (_type_) hover-nav-params)
    (hover-enemy-method-153 (_type_) none)
    (hover-enemy-method-154 (_type_) none)
    (hover-enemy-method-155 (_type_) none)
    )
  )

;; definition for method 3 of type hover-enemy
(defmethod inspect ((this hover-enemy))
  (when (not this)
    (set! this this)
    (goto cfg-4)
    )
  (let ((t9-0 (method-of-type enemy inspect)))
    (t9-0 this)
    )
  (format #t "~2Thover: ~A~%" (-> this hover))
  (format #t "~2Thover-info: #<hover-enemy-info @ #x~X>~%" (-> this hover-info))
  (format #t "~2Tformation-entity: ~A~%" (-> this formation-entity))
  (format #t "~2Tfly-anim-speed: ~f~%" (-> this fly-anim-speed))
  (format #t "~2Trestart-fly-anims: ~A~%" (-> this restart-fly-anims))
  (format #t "~2Tmain-joint-acc: #<vector @ #x~X>~%" (-> this main-joint-acc))
  (format #t "~2Tmain-joint-vel: #<vector @ #x~X>~%" (-> this main-joint-vel))
  (format #t "~2Tmain-joint-pos: #<vector @ #x~X>~%" (-> this main-joint-pos))
  (format #t "~2Tthrust[2] @ #x~X~%" (-> this thrust))
  (format #t "~2Trotation-vec: #<vector @ #x~X>~%" (-> this rotation-vec))
  (format #t "~2Tdest-pos: #<vector @ #x~X>~%" (-> this dest-pos))
  (format #t "~2Toffset: #<vector @ #x~X>~%" (-> this offset))
  (format #t "~2Tsurface-normal: #<vector @ #x~X>~%" (-> this surface-normal))
  (format #t "~2Tlocal-dir: #<vector @ #x~X>~%" (-> this local-dir))
  (format #t "~2Tscale: ~f~%" (-> this scale))
  (format #t "~2Tscale-timer: ~D~%" (-> this scale-timer))
  (format #t "~2Thit-surface?: ~A~%" (-> this hit-surface?))
  (format #t "~2Tknocked-start-level: ~f~%" (-> this knocked-start-level))
  (format #t "~2Tknocked-fall-dist: ~f~%" (-> this knocked-fall-dist))
  (format #t "~2Tflying-death-anim: ~D~%" (-> this flying-death-anim))
  (format #t "~2Tflying-death-transv: #<vector @ #x~X>~%" (-> this flying-death-transv))
  (format #t "~2Tflying-death-engine: ~D~%" (-> this flying-death-engine))
  (format #t "~2Tflying-death-thrust-rotate: ~f~%" (-> this flying-death-thrust-rotate))
  (format #t "~2Tflying-death-spin: ~f~%" (-> this flying-death-spin))
  (format #t "~2Tflying-death-spin-dest: ~f~%" (-> this flying-death-spin-dest))
  (format #t "~2Tflying-death-spin-axis: #<vector @ #x~X>~%" (-> this flying-death-spin-axis))
  (label cfg-4)
  this
  )

;; failed to figure out what this is:
0
