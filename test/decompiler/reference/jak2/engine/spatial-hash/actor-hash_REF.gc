;;-*-Lisp-*-
(in-package goal)

;; failed to figure out what this is:
(kmemopen global "actor-hash")

;; definition for symbol *actor-hash*, type spatial-hash
(define *actor-hash* (new 'global 'spatial-hash 4096 256))

;; failed to figure out what this is:
(kmemclose)

;; definition of type actor-cshape-ptr
(deftype actor-cshape-ptr (structure)
  ((cshape collide-shape  :offset-assert   0)
   )
  :method-count-assert 9
  :size-assert         #x4
  :flag-assert         #x900000004
  )

;; definition for method 3 of type actor-cshape-ptr
(defmethod inspect actor-cshape-ptr ((obj actor-cshape-ptr))
  (when (not obj)
    (set! obj obj)
    (goto cfg-4)
    )
  (format #t "[~8x] ~A~%" obj 'actor-cshape-ptr)
  (format #t "~1Tcshape: ~A~%" (-> obj cshape))
  (label cfg-4)
  obj
  )

;; definition of type actor-hash-bucket
(deftype actor-hash-bucket (structure)
  ((length     int16                            :offset-assert   0)
   (max-length int16                            :offset-assert   2)
   (data       (inline-array actor-cshape-ptr)  :offset-assert   4)
   )
  :allow-misaligned
  :method-count-assert 10
  :size-assert         #x8
  :flag-assert         #xa00000008
  (:methods
    (add-actor-cshape (_type_ collide-shape) none 9)
    )
  )

;; definition for method 3 of type actor-hash-bucket
(defmethod inspect actor-hash-bucket ((obj actor-hash-bucket))
  (when (not obj)
    (set! obj obj)
    (goto cfg-4)
    )
  (format #t "[~8x] ~A~%" obj 'actor-hash-bucket)
  (format #t "~1Tlength: ~D~%" (-> obj length))
  (format #t "~1Tmax-length: ~D~%" (-> obj max-length))
  (format #t "~1Tdata: #x~X~%" (-> obj data))
  (label cfg-4)
  obj
  )

;; definition for method 9 of type actor-hash-bucket
;; WARN: Return type mismatch int vs none.
(defmethod add-actor-cshape actor-hash-bucket ((obj actor-hash-bucket) (arg0 collide-shape))
  (let ((v1-0 (-> obj length)))
    (when (< v1-0 (-> obj max-length))
      (set! (-> obj data v1-0 cshape) arg0)
      (set! (-> obj length) (+ v1-0 1))
      )
    )
  0
  (none)
  )

;; definition of type actor-hash-buckets
(deftype actor-hash-buckets (structure)
  ((hash spatial-hash                :offset-assert   0)
   (list engine                      :offset-assert   4)
   (data actor-hash-bucket 4 :inline :offset-assert   8)
   (tpos vector            :inline   :offset-assert  80)
   )
  :method-count-assert 10
  :size-assert         #x60
  :flag-assert         #xa00000060
  (:methods
    (hash-actors (_type_) none 9)
    )
  )

;; definition for method 3 of type actor-hash-buckets
(defmethod inspect actor-hash-buckets ((obj actor-hash-buckets))
  (when (not obj)
    (set! obj obj)
    (goto cfg-4)
    )
  (format #t "[~8x] ~A~%" obj 'actor-hash-buckets)
  (format #t "~1Thash: ~A~%" (-> obj hash))
  (format #t "~1Tlist: ~A~%" (-> obj list))
  (format #t "~1Tdata[4] @ #x~X~%" (-> obj data))
  (format #t "~1Ttpos: #<vector @ #x~X>~%" (-> obj tpos))
  (label cfg-4)
  obj
  )

;; definition for method 9 of type actor-hash-buckets
;; INFO: Used lq/sq
;; WARN: Return type mismatch int vs none.
(defmethod hash-actors actor-hash-buckets ((obj actor-hash-buckets))
  (local-vars (sv-16 hash-object-info) (sv-32 collide-prim-core) (sv-48 collide-shape) (sv-64 hash-object-info))
  (set! (-> obj hash) *actor-hash*)
  (set! (-> obj list) *collide-hit-by-others-list*)
  (clear-objects! (-> obj hash))
  (cond
    ((>= 256 (-> obj list length))
     (let ((v1-5 (-> obj list alive-list next0)))
       (-> obj list)
       (let ((s5-0 (-> v1-5 next0)))
         (while (!= v1-5 (-> obj list alive-list-end))
           (let* ((s4-0 (the-as collide-shape (-> (the-as connection v1-5) param1)))
                  (s3-0 (-> obj hash))
                  (s1-0 (-> s4-0 root-prim prim-core))
                  (s0-0 s4-0)
                  (s2-0 (-> s3-0 object-count))
                  )
             (set! s2-0
                   (cond
                     ((< s2-0 (-> s3-0 max-object-count))
                      (let ((a0-7 (-> s3-0 sphere-array s2-0)))
                        (set! sv-16 (-> s3-0 object-array s2-0))
                        (mem-copy! (the-as pointer a0-7) (the-as pointer s1-0) 16)
                        )
                      (set! (-> sv-16 object) s0-0)
                      (dotimes (v1-12 3)
                        (set! (-> s3-0 box-min v1-12)
                              (fmin (-> s3-0 box-min v1-12) (- (-> s1-0 world-sphere data v1-12) (-> s1-0 world-sphere w)))
                              )
                        (set! (-> s3-0 box-max v1-12)
                              (fmax (-> s3-0 box-max v1-12) (+ (-> s1-0 world-sphere data v1-12) (-> s1-0 world-sphere w)))
                              )
                        )
                      (+! (-> s3-0 object-count) 1)
                      s2-0
                      )
                     (else
                       -1
                       )
                     )
                   )
             (set! (-> s4-0 actor-hash-index) s2-0)
             )
           (set! v1-5 s5-0)
           (-> obj list)
           (set! s5-0 (-> s5-0 next0))
           )
         )
       )
     )
    (else
      (set! (-> obj tpos quad) (-> (target-pos 0) quad))
      (dotimes (v1-21 4)
        (set! (-> obj data v1-21 length) 0)
        )
      (let ((v1-25 (-> obj list alive-list next0)))
        (-> obj list)
        (let ((s5-2 (-> v1-25 next0)))
          (while (!= v1-25 (-> obj list alive-list-end))
            (let* ((s4-1 (the-as collide-shape (-> (the-as connection v1-25) param1)))
                   (f0-4 (vector-vector-distance-squared (-> obj tpos) (-> s4-1 trans)))
                   (f1-4 102400.0)
                   )
              (cond
                ((< f0-4 (* f1-4 f1-4))
                 ((method-of-type actor-hash-bucket add-actor-cshape) (the-as actor-hash-bucket (-> obj data)) s4-1)
                 )
                ((let ((f1-7 204800.0))
                   (< f0-4 (* f1-7 f1-7))
                   )
                 (add-actor-cshape (-> obj data 1) s4-1)
                 )
                ((let ((f1-10 307200.0))
                   (< f0-4 (* f1-10 f1-10))
                   )
                 (add-actor-cshape (-> obj data 2) s4-1)
                 )
                (else
                  (add-actor-cshape (-> obj data 3) s4-1)
                  )
                )
              )
            (set! v1-25 s5-2)
            (-> obj list)
            (set! s5-2 (-> s5-2 next0))
            )
          )
        )
      (dotimes (s5-3 4)
        (let ((s4-2 (-> obj data s5-3)))
          (countdown (s3-1 (-> s4-2 length))
            (let ((s2-1 (-> s4-2 data s3-1 cshape))
                  (s1-1 (-> obj hash))
                  )
              (set! sv-32 (-> s2-1 root-prim prim-core))
              (set! sv-48 s2-1)
              (let ((s0-1 (-> s1-1 object-count)))
                (set! s0-1
                      (cond
                        ((< s0-1 (-> s1-1 max-object-count))
                         (let ((a0-40 (-> s1-1 sphere-array s0-1)))
                           (set! sv-64 (-> s1-1 object-array s0-1))
                           (mem-copy! (the-as pointer a0-40) (the-as pointer sv-32) 16)
                           )
                         (set! (-> sv-64 object) sv-48)
                         (dotimes (v1-53 3)
                           (set! (-> s1-1 box-min v1-53)
                                 (fmin (-> s1-1 box-min v1-53) (- (-> sv-32 world-sphere data v1-53) (-> sv-32 world-sphere w)))
                                 )
                           (set! (-> s1-1 box-max v1-53)
                                 (fmax (-> s1-1 box-max v1-53) (+ (-> sv-32 world-sphere data v1-53) (-> sv-32 world-sphere w)))
                                 )
                           )
                         (+! (-> s1-1 object-count) 1)
                         s0-1
                         )
                        (else
                          -1
                          )
                        )
                      )
                (set! (-> s2-1 actor-hash-index) s0-1)
                )
              )
            )
          )
        )
      )
    )
  (update-from-spheres (-> obj hash))
  0
  (none)
  )

;; definition for symbol *actor-hash-buckets*, type actor-hash-buckets
(define *actor-hash-buckets*
  (new 'static 'actor-hash-buckets
    :data (new 'static 'inline-array actor-hash-bucket 4
      (new 'static 'actor-hash-bucket :max-length #x100 :data (new 'static 'inline-array actor-cshape-ptr 256
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                )
                                      )
      (new 'static 'actor-hash-bucket :max-length #x100 :data (new 'static 'inline-array actor-cshape-ptr 256
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                )
                                      )
      (new 'static 'actor-hash-bucket :max-length #x100 :data (new 'static 'inline-array actor-cshape-ptr 256
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                )
                                      )
      (new 'static 'actor-hash-bucket :max-length #x100 :data (new 'static 'inline-array actor-cshape-ptr 256
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                (new 'static 'actor-cshape-ptr)
                                                                )
                                      )
      )
    )
  )

;; definition for function update-actor-hash
;; WARN: Return type mismatch int vs none.
(defun update-actor-hash ()
  (local-vars (a0-3 int) (a0-5 int))
  (let* ((v1-1 (-> *perf-stats* data 6))
         (a0-0 (-> v1-1 ctrl))
         )
    (+! (-> v1-1 count) 1)
    (b! (zero? a0-0) cfg-2 :delay (nop!))
    (.mtc0 Perf 0)
    (.sync.l)
    (.sync.p)
    (.mtpc pcr0 0)
    (.mtpc pcr1 0)
    (.sync.l)
    (.sync.p)
    (.mtc0 Perf a0-0)
    )
  (.sync.l)
  (.sync.p)
  (label cfg-2)
  0
  (hash-actors *actor-hash-buckets*)
  (let ((v1-6 (-> *perf-stats* data 6)))
    (b! (zero? (-> v1-6 ctrl)) cfg-4 :delay (nop!))
    (.mtc0 Perf 0)
    (.sync.l)
    (.sync.p)
    (.mfpc a0-3 pcr0)
    (+! (-> v1-6 accum0) a0-3)
    (.mfpc a0-5 pcr1)
    (+! (-> v1-6 accum1) a0-5)
    )
  (label cfg-4)
  0
  0
  (none)
  )




