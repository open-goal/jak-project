;;-*-Lisp-*-
(in-package goal)

#|

  This file runs the game-specific version of the pckernel.
	See pckernel-common.gc for the bulk of the pckernel.

 |#



;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
;;;; file I/O
;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;


(defmethod handle-input-settings pc-settings-jak1 ((obj pc-settings-jak1) (file file-stream))
  "handle the text parsing input for the 'settings' group"

	((method-of-type pc-settings handle-input-settings) obj file)
  (case-str *pc-temp-string*
    (("money-starburst?") (set! (-> obj money-starburst?) (file-stream-read-symbol file)))
    (("extra-hud?") (set! (-> obj extra-hud?) (file-stream-read-symbol file)))
    )
  0)

(defmethod handle-output-settings pc-settings-jak1 ((obj pc-settings-jak1) (file file-stream))
  "handle the text writing output for the 'settings' group"
  
	((method-of-type pc-settings handle-output-settings) obj file)
  (format file "  (money-starburst? ~A)~%" (-> obj money-starburst?))
  (format file "  (extra-hud? ~A)~%" (-> obj extra-hud?))
  0)

;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
;;;; PC settings
;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;


(define *pc-settings* (new 'global 'pc-settings-jak1))

