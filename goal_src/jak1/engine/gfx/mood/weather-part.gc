;;-*-Lisp-*-
(in-package goal)

;; name: weather-part.gc
;; name in dgo: weather-part
;; dgos: GAME, ENGINE

;; DECOMP BEGINS

(defpartgroup group-rain-screend-drop-real
  :id 188
  :flags (screen-space)
  :bounds (static-bspherem 0 0 0 16)
  :parts ((sp-item 18 :binding 19)
    (sp-item 19 :flags (start-dead launch-asap) :binding 20)
    (sp-item 19 :flags (start-dead launch-asap) :binding 20)
    (sp-item 19 :flags (start-dead launch-asap) :binding 20)
    (sp-item 19 :flags (start-dead launch-asap) :binding 20)
    (sp-item 19 :flags (start-dead launch-asap) :binding 20)
    (sp-item 19 :flags (start-dead launch-asap) :binding 20)
    (sp-item 19 :flags (start-dead launch-asap) :binding 20)
    (sp-item 19 :flags (start-dead launch-asap) :binding 20)
    (sp-item 19 :flags (start-dead launch-asap) :binding 20)
    (sp-item 19 :flags (start-dead launch-asap) :binding 20)
    (sp-item 19 :flags (start-dead launch-asap) :binding 20)
    (sp-item 19 :flags (start-dead launch-asap) :binding 20)
    (sp-item 19 :flags (start-dead launch-asap) :binding 20)
    (sp-item 19 :flags (start-dead launch-asap) :binding 20)
    (sp-item 19 :flags (start-dead launch-asap) :binding 20)
    (sp-item 19 :flags (start-dead launch-asap) :binding 20)
    (sp-item 20 :flags (start-dead launch-asap))
    (sp-item 20 :flags (start-dead launch-asap))
    (sp-item 20 :flags (start-dead launch-asap))
    (sp-item 20 :flags (start-dead launch-asap))
    (sp-item 20 :flags (start-dead launch-asap))
    (sp-item 20 :flags (start-dead launch-asap))
    (sp-item 20 :flags (start-dead launch-asap))
    (sp-item 20 :flags (start-dead launch-asap))
    (sp-item 20 :flags (start-dead launch-asap))
    (sp-item 20 :flags (start-dead launch-asap))
    (sp-item 20 :flags (start-dead launch-asap))
    (sp-item 20 :flags (start-dead launch-asap))
    (sp-item 20 :flags (start-dead launch-asap))
    (sp-item 20 :flags (start-dead launch-asap))
    (sp-item 20 :flags (start-dead launch-asap))
    (sp-item 20 :flags (start-dead launch-asap))
    (sp-item 21 :binding 22)
    (sp-item 22 :flags (start-dead launch-asap) :binding 23)
    (sp-item 22 :flags (start-dead launch-asap) :binding 23)
    (sp-item 22 :flags (start-dead launch-asap) :binding 23)
    (sp-item 22 :flags (start-dead launch-asap) :binding 23)
    (sp-item 22 :flags (start-dead launch-asap) :binding 23)
    (sp-item 22 :flags (start-dead launch-asap) :binding 23)
    (sp-item 22 :flags (start-dead launch-asap) :binding 23)
    (sp-item 22 :flags (start-dead launch-asap) :binding 23)
    (sp-item 22 :flags (start-dead launch-asap) :binding 23)
    (sp-item 22 :flags (start-dead launch-asap) :binding 23)
    (sp-item 22 :flags (start-dead launch-asap) :binding 23)
    (sp-item 22 :flags (start-dead launch-asap) :binding 23)
    (sp-item 22 :flags (start-dead launch-asap) :binding 23)
    (sp-item 22 :flags (start-dead launch-asap) :binding 23)
    (sp-item 22 :flags (start-dead launch-asap) :binding 23)
    (sp-item 22 :flags (start-dead launch-asap) :binding 23)
    (sp-item 23 :flags (start-dead launch-asap))
    (sp-item 23 :flags (start-dead launch-asap))
    (sp-item 23 :flags (start-dead launch-asap))
    (sp-item 23 :flags (start-dead launch-asap))
    (sp-item 23 :flags (start-dead launch-asap))
    (sp-item 23 :flags (start-dead launch-asap))
    (sp-item 23 :flags (start-dead launch-asap))
    (sp-item 23 :flags (start-dead launch-asap))
    (sp-item 23 :flags (start-dead launch-asap))
    (sp-item 23 :flags (start-dead launch-asap))
    (sp-item 23 :flags (start-dead launch-asap))
    (sp-item 23 :flags (start-dead launch-asap))
    (sp-item 23 :flags (start-dead launch-asap))
    (sp-item 23 :flags (start-dead launch-asap))
    (sp-item 23 :flags (start-dead launch-asap))
    (sp-item 23 :flags (start-dead launch-asap))
    )
  )

(define group-rain-screend-drop (-> *part-group-id-table* 188))

(defpart 21
  :init-specs ((:texture (new 'static 'texture-id :index #x12 :page #x2))
    (:num 0.1)
    (:x (meters -4.5) (meters 9))
    (:y (meters -3) (meters 6))
    (:scale-x (meters 2.5))
    (:rot-z (degrees 0) (degrees 360))
    (:scale-y :copy scale-x)
    (:r 128.0)
    (:g 128.0)
    (:b 128.0)
    (:a 12.0)
    (:scalevel-x (meters 0.16666667))
    (:scalevel-y :copy scalevel-x)
    (:fade-a -0.8)
    (:timer (seconds 0.035))
    (:flags (bit2 bit3 bit14))
    )
  )

(defpart 22
  :init-specs ((:texture (new 'static 'texture-id :index #x9 :page #x2))
    (:num 1.0)
    (:scale-x (meters 1.5))
    (:scale-y :copy scale-x)
    (:r 128.0)
    (:g 128.0)
    (:b 255.0)
    (:a 20.0)
    (:scalevel-x (meters 0.033333335))
    (:scalevel-y :copy scalevel-x)
    (:fade-a -0.8)
    (:accel-y (meters -0.00066666666))
    (:timer (seconds 0.9))
    (:flags (bit2 bit3 bit14))
    (:next-time (seconds 0.05))
    (:next-launcher 24)
    )
  )

(defpart 24
  :init-specs ((:scalevel-x (meters 0.004166667)) (:scalevel-y :copy scalevel-x) (:fade-a -0.06666667))
  )

(defpart 23
  :init-specs ((:num 1.0)
    (:rot-x 12)
    (:r 4096.0)
    (:g 3276.8)
    (:b 3276.8)
    (:fade-r 6.068148)
    (:fade-g 68.26667)
    (:fade-b 3.034074)
    (:accel-y (meters -0.00066666666))
    (:timer (seconds 0.9))
    (:flags (aux-list))
    (:next-time (seconds 0.1))
    (:next-launcher 25)
    )
  )

(defpart 25
  :init-specs ((:fade-g -5.1200004))
  )

(defpart 18
  :init-specs ((:texture (new 'static 'texture-id :index #x12 :page #x2))
    (:num 0.1)
    (:x (meters -4.5) (meters 9))
    (:y (meters -3) (meters 6))
    (:scale-x (meters 4))
    (:rot-z (degrees 0) (degrees 360))
    (:scale-y :copy scale-x)
    (:r 128.0)
    (:g 128.0)
    (:b 128.0)
    (:a 12.0)
    (:scalevel-x (meters 0.26666668))
    (:scalevel-y :copy scalevel-x)
    (:fade-a -0.8)
    (:timer (seconds 0.035))
    (:flags (bit2 bit3 bit14))
    )
  )

(defpart 19
  :init-specs ((:texture (new 'static 'texture-id :index #x9 :page #x2))
    (:num 1.0)
    (:scale-x (meters 2.6))
    (:scale-y :copy scale-x)
    (:r 128.0)
    (:g 128.0)
    (:b 255.0)
    (:a 20.0)
    (:scalevel-x (meters 0.06666667))
    (:scalevel-y :copy scalevel-x)
    (:fade-a -0.8)
    (:accel-y (meters -0.00066666666))
    (:timer (seconds 0.9))
    (:flags (bit2 bit3 bit14))
    (:next-time (seconds 0.05))
    (:next-launcher 26)
    )
  )

(defpart 26
  :init-specs ((:scalevel-x (meters 0.008333334)) (:scalevel-y :copy scalevel-x) (:fade-a -0.06666667))
  )

(defpart 20
  :init-specs ((:num 1.0)
    (:rot-x 24)
    (:r 12288.0)
    (:g 6553.6)
    (:b 6553.6)
    (:fade-r 12.136296)
    (:fade-g 136.53334)
    (:fade-b 6.068148)
    (:accel-y (meters -0.00066666666))
    (:timer (seconds 0.9))
    (:flags (aux-list))
    (:next-time (seconds 0.1))
    (:next-launcher 27)
    )
  )

(defpart 27
  :init-specs ((:fade-g -10.240001))
  )

(defpartgroup group-stars
  :id 34
  :flags (always-draw)
  :bounds (static-bspherem 0 0 0 8)
  :parts ((sp-item 28) (sp-item 29) (sp-item 30))
  )

(defpart 28
  :init-specs ((:texture (new 'static 'texture-id :index #xf :page #x2))
    (:num 1.0)
    (:scale-x (meters 40) (meters 40))
    (:scale-y :copy scale-x)
    (:r 256.0)
    (:g 256.0)
    (:b 256.0)
    (:a 0.0)
    (:fade-a 0.42666668)
    (:timer (seconds -0.005))
    (:flags (bit2 bit3 bit14))
    (:next-time (seconds 0.2) (seconds 0.797))
    (:next-launcher 31)
    (:conerot-x (degrees -89) (degrees 178))
    (:conerot-y (degrees 0) (degrees 1440))
    (:conerot-radius (meters 5000))
    (:rotate-y (degrees 0) (degrees 360))
    )
  )

(defpart 31
  :init-specs ((:fade-a 0.0) (:next-time (seconds 99999)) (:next-launcher 32))
  )

(defpart 32
  :init-specs ((:fade-a -0.42666668))
  )

(defpart 29
  :init-specs ((:texture (new 'static 'texture-id :index #xf :page #x2))
    (:num 1.0)
    (:scale-x (meters 40) (meters 40))
    (:scale-y :copy scale-x)
    (:r 256.0)
    (:g 256.0)
    (:b 256.0)
    (:a 0.0)
    (:fade-a 0.42666668)
    (:timer (seconds -0.005))
    (:flags (bit2 bit3 bit14))
    (:next-time (seconds 0.2) (seconds 0.797))
    (:next-launcher 31)
    (:conerot-x (degrees 30) (degrees 59))
    (:conerot-y (degrees 0) (degrees 2880))
    (:conerot-radius (meters 5000))
    (:rotate-y (degrees 0) (degrees 360))
    )
  )

(defpart 30
  :init-specs ((:texture (new 'static 'texture-id :index #xf :page #x2))
    (:num 1.0)
    (:scale-x (meters 40) (meters 40))
    (:scale-y :copy scale-x)
    (:r 128.0)
    (:g 128.0)
    (:b 128.0)
    (:a 0.0)
    (:fade-a 0.42666668)
    (:timer (seconds -0.005))
    (:flags (bit2 bit3 bit14))
    (:next-time (seconds 0.2) (seconds 0.797))
    (:next-launcher 31)
    (:conerot-x (degrees 60) (degrees 29))
    (:conerot-y (degrees 0) (degrees 5760))
    (:conerot-radius (meters 5000))
    (:rotate-y (degrees 0) (degrees 360))
    )
  )

(defpart 33
  :init-specs ((:texture (new 'static 'texture-id :index #xf :page #x2))
    (:num 4.0)
    (:x (meters 10) (meters 10))
    (:y (meters 2) (meters 14))
    (:scale-x (meters 0.2) (meters 0.1))
    (:rot-x 4)
    (:rot-z (degrees 0) (degrees 360))
    (:scale-y :copy scale-x)
    (:r 255.0)
    (:g 255.0)
    (:b 255.0)
    (:a 0.0)
    (:vel-y (meters -0.01) (meters -0.0033333334))
    (:rotvel-z (degrees -1.2) (degrees 2.4))
    (:fade-a 0.85333335)
    (:timer (seconds 5))
    (:flags (bit2 bit12 bit14))
    (:next-time (seconds 0.25) (seconds 0.247))
    (:next-launcher 35)
    (:rotate-y (degrees 0) (degrees 180))
    )
  )

(defpart 34
  :init-specs ((:texture (new 'static 'texture-id :index #xf :page #x2))
    (:num 0.0)
    (:x (meters 0) (meters 20))
    (:y (meters 16))
    (:scale-x (meters 0.2) (meters 0.1))
    (:rot-x 4)
    (:rot-z (degrees 0) (degrees 360))
    (:scale-y :copy scale-x)
    (:r 255.0)
    (:g 255.0)
    (:b 255.0)
    (:a 0.0)
    (:vel-y (meters -0.01) (meters -0.0033333334))
    (:rotvel-z (degrees -1.2) (degrees 2.4))
    (:fade-a 0.85333335)
    (:timer (seconds 5))
    (:flags (bit2 bit12 bit14))
    (:next-time (seconds 0.25) (seconds 0.247))
    (:next-launcher 35)
    (:rotate-y (degrees 0) (degrees 360))
    )
  )

(defpart 35
  :init-specs ((:fade-a 0.0) (:next-time (seconds 4)) (:next-launcher 36))
  )

(defpart 36
  :init-specs ((:fade-a -0.85333335))
  )

(defun update-snow ((arg0 target))
  (let ((target-position (-> arg0 control trans)))
    (let ((f0-0 (lerp-scale 0.0 1.0 (vector-length (-> arg0 control transv)) 2048.0 40960.0)))
      (set! (-> *part-id-table* 34 init-specs 1 initial-valuef) (- 1.0 f0-0))
      (set! (-> *part-id-table* 33 init-specs 1 initial-valuef) (* 4.0 f0-0))
      )
    (set! (-> *part-id-table* 33 init-specs 19 initial-valuef)
          (+ 32768.0 (vector-y-angle (-> arg0 control transv)))
          )
    (launch-particles (-> *part-id-table* 34) target-position)
    (launch-particles (-> *part-id-table* 33) target-position)
    )
  0
  (none)
  )

(defpart 37
  :init-specs ((:texture (new 'static 'texture-id :index #x4 :page #x2))
    (:num 1.5)
    (:x (meters 0) (meters 20))
    (:y (meters 16))
    (:scale-x (meters 0.03) (meters 0.03))
    (:scale-y (meters 0.5) (meters 0.5))
    (:r 50.0)
    (:g 80.0 55.0)
    (:b 50.0 50.0)
    (:a 16.0 32.0)
    (:vel-y (meters -0.06666667) (meters -0.13333334))
    (:timer (seconds 0.8))
    (:flags (bit2 bit14))
    (:userdata 0.0)
    (:func 'check-drop-level-rain)
    (:rotate-y (degrees 0) (degrees 360))
    )
  )

(defpart 38
  :init-specs ((:texture (new 'static 'texture-id :index #x4 :page #x2))
    (:num 4.5)
    (:x (meters 0) (meters 20))
    (:y (meters 16))
    (:scale-x (meters 0.03) (meters 0.03))
    (:scale-y (meters 0.5) (meters 0.5))
    (:r 50.0)
    (:g 80.0 55.0)
    (:b 50.0 50.0)
    (:a 16.0 32.0)
    (:vel-y (meters -0.06666667) (meters -0.033333335))
    (:timer (seconds 0.8))
    (:flags (bit2 bit14))
    (:rotate-y (degrees 0) (degrees 360))
    )
  )

(defpart 39
  :init-specs ((:texture (new 'static 'texture-id :index #x9 :page #x2))
    (:num 0.0 1 2.0)
    (:scale-x (meters 0.05) (meters 0.075))
    (:scale-y :copy scale-x)
    (:r 110.0 32.0)
    (:g 128.0 32.0)
    (:b 64.0 64.0)
    (:a 64.0 64.0)
    (:vel-y (meters 0.006666667) (meters 0.013333334))
    (:fade-a -0.85333335)
    (:accel-y (meters -0.00066666666))
    (:timer (seconds 0.5))
    (:flags (bit2 bit3 bit14))
    (:conerot-x (degrees 25.000002) (degrees 40))
    (:conerot-y (degrees 0) (degrees 360))
    )
  )

(defpart 40
  :init-specs ((:texture (new 'static 'texture-id :index #x1e :page #x2))
    (:num 1.0)
    (:y (meters 0.02))
    (:scale-x (meters 1) (meters 1))
    (:rot-y (degrees 0) (degrees 360))
    (:scale-y :copy scale-x)
    (:r 110.0 32.0)
    (:g 128.0 32.0)
    (:b 96.0 32.0)
    (:a 16.0 32.0)
    (:scalevel-x (meters 0.006666667) (meters 0.006666667))
    (:scalevel-y :copy scalevel-x)
    (:fade-a -0.4)
    (:timer (seconds 0.4))
    (:flags (bit2 bit3 bit14))
    (:rotate-y (degrees 0) (degrees 360))
    )
  )

(defun check-drop-level-rain ((arg0 sparticle-system) (arg1 sparticle-cpuinfo) (arg2 vector))
  (when (< (-> arg2 y) (-> arg1 user-float))
    (let ((gp-0 (new 'stack-no-clear 'vector)))
      (sp-kill-particle arg0 arg1)
      (set-vector! gp-0 (-> arg2 x) (-> arg1 user-float) (-> arg2 z) 1.0)
      (launch-particles :rate 1.0 (-> *part-id-table* 39) gp-0)
      (launch-particles :system *sp-particle-system-3d* :rate 1.0 (-> *part-id-table* 40) gp-0)
      )
    )
  (none)
  )

(defun update-rain ((arg0 target))
  (let ((a2-0 (new 'stack-no-clear 'vector)))
    (set! (-> a2-0 x) (-> arg0 control transv x))
    (set! (-> a2-0 y) 0.0)
    (set! (-> a2-0 z) (-> arg0 control transv z))
    (set! (-> a2-0 w) 1.0)
    (let ((gp-0 (vector+float*! (new 'stack-no-clear 'vector) (-> arg0 control trans) a2-0 0.0)))
      (let* ((s5-0 (matrix-local->world #f #f))
             (f28-0 (lerp-scale 122.88 245.76 (fabs (-> s5-0 vector 2 y)) 0.0 0.7))
             (f30-0 (lerp-scale 2048.0 245.76 (fabs (-> s5-0 vector 2 y)) 0.0 0.7))
             )
        (let ((f26-0 (lerp-scale 0.0 0.1 (-> s5-0 vector 2 y) 0.3 0.7))
              (f0-10 (lerp-scale 1.0 0.1 (-> s5-0 vector 2 y) 0.3 0.7))
              )
          (if (< 0.0 f26-0)
              (send-event *camera* 'part-water-drip f26-0 f0-10)
              )
          )
        (set! (-> *part-id-table* 37 init-specs 4 initial-valuef) f28-0)
        (set! (-> *part-id-table* 37 init-specs 4 random-rangef) f28-0)
        (set! (-> *part-id-table* 38 init-specs 4 initial-valuef) f28-0)
        (set! (-> *part-id-table* 38 init-specs 4 random-rangef) f28-0)
        (set! (-> *part-id-table* 37 init-specs 5 initial-valuef) f30-0)
        (set! (-> *part-id-table* 37 init-specs 5 random-rangef) f30-0)
        (set! (-> *part-id-table* 38 init-specs 5 initial-valuef) f30-0)
        (set! (-> *part-id-table* 38 init-specs 5 random-rangef) f30-0)
        )
      (launch-particles (-> *part-id-table* 37) gp-0)
      (launch-particles (-> *part-id-table* 38) gp-0)
      )
    )
  0
  (none)
  )

(defbehavior cam-master-effect camera-master ()
  (when (< (+ (-> *display* base-frame-counter) (seconds -10)) (-> self water-drip-time))
    (set! (-> *part-id-table* 21 init-specs 1 initial-valuef) (-> self water-drip-mult))
    (set! (-> *part-id-table* 18 init-specs 1 initial-valuef) (* 0.9 (-> self water-drip-mult)))
    (set! (-> *part-id-table* 22 init-specs 11 initial-valuef) (* -2.7306666 (-> self water-drip-speed)))
    (set! (-> *part-id-table* 23 init-specs 8 initial-valuef) (* -2.7306666 (-> self water-drip-speed)))
    (set! (-> *part-id-table* 19 init-specs 11 initial-valuef) (* -2.7306666 (-> self water-drip-speed)))
    (set! (-> *part-id-table* 20 init-specs 8 initial-valuef) (* -2.7306666 (-> self water-drip-speed)))
    (spawn (-> self water-drip) *zero-vector*)
    )
  0
  (none)
  )

(defun sparticle-track-sun ((arg0 int) (arg1 sparticle-cpuinfo) (arg2 matrix))
  (-> arg1 key)
  (let ((s5-0 (the int (-> arg1 user-float))))
    (let* ((a1-1 (math-camera-pos))
           (a2-1 (-> *sky-parms* upload-data sun (/ s5-0 4)))
           (v1-3 (vector+float*! (new 'stack-no-clear 'vector) a1-1 (the-as vector a2-1) 4096.0))
           )
      (set! (-> arg2 vector 0 x) (-> v1-3 x))
      (set! (-> arg2 vector 0 y) (-> v1-3 y))
      (set! (-> arg2 vector 0 z) (-> v1-3 z))
      )
    (if (!= (-> arg2 vector 2 w) 0.0)
        (set! (-> arg2 vector 2 w) (* 128.0 (-> *time-of-day-context* sun-fade)))
        )
    (cond
      ((zero? s5-0)
       (set! (-> arg2 vector 2 x) (-> *time-of-day-context* current-sun sun-color x))
       (set! (-> arg2 vector 2 y) (-> *time-of-day-context* current-sun sun-color y))
       (set! (-> arg2 vector 2 z) (-> *time-of-day-context* current-sun sun-color z))
       )
      ((or (= s5-0 1) (= s5-0 2))
       (set! (-> arg2 vector 2 x) (* 0.25 (-> *time-of-day-context* current-sun sun-color x)))
       (set! (-> arg2 vector 2 y) (* 0.25 (-> *time-of-day-context* current-sun sun-color y)))
       (set! (-> arg2 vector 2 z) (* 0.25 (-> *time-of-day-context* current-sun sun-color z)))
       )
      )
    )
  0
  (none)
  )

(defpartgroup group-sun
  :id 35
  :flags (always-draw)
  :bounds (static-bspherem 0 0 0 70)
  :parts ((sp-item 1950) (sp-item 1951) (sp-item 1952))
  )

(defpart 1950
  :init-specs ((:texture (new 'static 'texture-id :index #x4 :page #x2))
    (:num 1.0)
    (:scale-x (meters 1200))
    (:scale-y :copy scale-x)
    (:r 255.0)
    (:g 255.0)
    (:b 128.0)
    (:a 128.0)
    (:timer (seconds -0.005))
    (:flags (bit2 bit3 bit12 bit14))
    (:userdata 0.0)
    (:func 'sparticle-track-sun)
    )
  )

(defpart 1951
  :init-specs ((:texture (new 'static 'texture-id :index #x35 :page #x2))
    (:num 1.0)
    (:scale-x (meters 2800))
    (:rot-z (degrees 0))
    (:scale-y (meters 2200))
    (:r 64.0)
    (:g 64.0)
    (:b 32.0)
    (:a 128.0)
    (:rotvel-z (degrees -0.05))
    (:timer (seconds -0.005))
    (:flags (bit2 bit3 bit14))
    (:userdata 1.0)
    (:func 'sparticle-track-sun)
    )
  )

(defpart 1952
  :init-specs ((:texture (new 'static 'texture-id :index #x35 :page #x2))
    (:num 1.0)
    (:scale-x (meters 2200))
    (:rot-z (degrees 0))
    (:scale-y (meters 2800))
    (:r 64.0)
    (:g 64.0)
    (:b 32.0)
    (:a 128.0)
    (:rotvel-z (degrees 0.05))
    (:timer (seconds -0.005))
    (:flags (bit2 bit3 bit14))
    (:userdata 2.0)
    (:func 'sparticle-track-sun)
    )
  )

(defpartgroup group-green-sun
  :id 36
  :flags (always-draw)
  :bounds (static-bspherem 0 0 0 70)
  :parts ((sp-item 1974) (sp-item 1975) (sp-item 1976))
  )

(defpart 1974
  :init-specs ((:texture (new 'static 'texture-id :index #x4 :page #x2))
    (:num 1.0)
    (:scale-x (meters 600))
    (:scale-y :copy scale-x)
    (:r 0.0)
    (:g 255.0)
    (:b 0.0)
    (:a 0.0)
    (:timer (seconds -0.005))
    (:flags (bit2 bit3 bit14))
    (:userdata 4.0)
    (:func 'sparticle-track-sun)
    )
  )

(defpart 1975
  :init-specs ((:texture (new 'static 'texture-id :index #x35 :page #x2))
    (:num 1.0)
    (:scale-x (meters 1400))
    (:rot-z (degrees 0))
    (:scale-y (meters 1100))
    (:r 0.0)
    (:g 64.0)
    (:b 0.0)
    (:a 128.0)
    (:rotvel-z (degrees -0.05))
    (:timer (seconds -0.005))
    (:flags (bit2 bit3 bit14))
    (:userdata 5.0)
    (:func 'sparticle-track-sun)
    )
  )

(defpart 1976
  :init-specs ((:texture (new 'static 'texture-id :index #x35 :page #x2))
    (:num 1.0)
    (:scale-x (meters 1100))
    (:rot-z (degrees 0))
    (:scale-y (meters 1400))
    (:r 0.0)
    (:g 64.0)
    (:b 0.0)
    (:a 128.0)
    (:rotvel-z (degrees 0.05))
    (:timer (seconds -0.005))
    (:flags (bit2 bit3 bit14))
    (:userdata 6.0)
    (:func 'sparticle-track-sun)
    )
  )
