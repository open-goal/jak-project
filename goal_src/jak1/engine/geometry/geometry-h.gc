;;-*-Lisp-*-
(in-package goal)

;; name: geometry-h.gc
;; name in dgo: geometry-h
;; dgos: GAME, ENGINE

(defconstant MAX_CURVE_CONTROL_POINTS 256)
(defun-extern quaternion-from-two-vectors-max-angle! quaternion vector vector float quaternion)

;; DECOMP BEGINS

;; A 3 dimensional polynomial spline with arbitrarily placed knot points
;; It's used for camera paths and similar and can be generated by offline tools.
(deftype curve (structure)
  ((cverts      (inline-array vector))
   (num-cverts  int32)
   (knots       (pointer float))
   (num-knots   int32)
   (length      float)
   )
  )

;; unused plane type that would likely trigger some action on crossing.
(deftype border-plane (basic)
  ((name    symbol)
   (action  basic)
   (slot    int8)
   (trans   vector  :inline)
   (normal  vector  :inline)
   )
  (:methods
    (debug-draw! (_type_) none)
    (point-past-plane? (_type_ vector) symbol)
    )
  )
