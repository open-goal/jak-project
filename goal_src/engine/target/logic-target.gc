;;-*-Lisp-*-
(in-package goal)

;; name: logic-target.gc
;; name in dgo: logic-target
;; dgos: GAME, ENGINE


;; temp, this function is massive and a whole can of worms. Just do nothing for now, it's fine.
(defun init-target ((cont continue-point))
  
  "NOTHING11!!!!"
  (looping-code)
  
  (the object 0)
  )

(defun stop ((game-mode symbol))
  "Stop the target system"

  (when *target*
    (kill-by-name 'target *active-pool*)
    (set! *target* #f)
    )
  (set! (-> *game-info* mode) game-mode)
  0
  )

(defun start ((game-mode symbol) (cont continue-point))
  "Start the target system"

  (set! (-> *level* border?) #f)
  (set! (-> *setting-control* default border-mode) #f)
  (stop game-mode)
  (let ((v1-3 (make-init-process *target-dead-pool* *target-pool* target init-target cont)))
      (if v1-3
        (set! *target* (the target (-> v1-3 0 self)))
        (set! *target* #f)
        )
      )
  *target*
  )

