;;-*-Lisp-*-
(in-package goal)

;; name: cam-start.gc
;; name in dgo: cam-start
;; dgos: GAME, ENGINE

;; DECOMP BEGINS

(defun cam-stop ()
  (kill-by-name 'camera-master *active-pool*)
  (kill-by-name 'camera-slave *active-pool*)
  (kill-by-name 'camera-combiner *active-pool*)
  (set! *camera* #f)
  (set! *camera-combiner* #f)
  (set! *camera-base-mode* cam-string)
  (none)
  )

(defun cam-start ((arg0 symbol))
  (cam-stop)
  (let ((s5-0 (get-process *camera-dead-pool* camera-combiner #x4000)))
    (when s5-0
      (let ((t9-2 (method-of-type camera-combiner activate)))
        (t9-2 (the-as camera-combiner s5-0) *camera-pool* 'camera-combiner (the-as pointer #x70004000))
        )
      (run-now-in-process s5-0 cam-combiner-init)
      (-> s5-0 ppointer)
      )
    )
  (set! *camera*
        (the-as camera-master
          (ppointer->process
            (process-spawn-function camera-master cam-master-init :from *camera-master-dead-pool* :to *camera-pool*)
            )
          )
        )
  (if arg0
      (reset-cameras)
      )
  (none)
  )

(cam-start #f)




