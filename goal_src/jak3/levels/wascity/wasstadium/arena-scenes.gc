;;-*-Lisp-*-
(in-package goal)

;; name: arena-scenes.gc
;; name in dgo: arena-scenes
;; dgos: WASSTADA

;; DECOMP BEGINS

(defskelgroup skel-kanga-lizard-movie kanga-lizard kanga-lizard-lod0-jg kanga-lizard-idle-ja
              ((kanga-lizard-lod0-mg (meters 999999)))
              :bounds (static-spherem 0 0 0 2)
              :shadow kanga-lizard-shadow-mg
              :origin-joint-index 3
              )

(defskelgroup skel-wstd-gate-pass wstd-gate-pass wstd-gate-pass-lod0-jg wstd-gate-pass-idle-ja
              ((wstd-gate-pass-lod0-mg (meters 999999)))
              :bounds (static-spherem 0 0 0 0.5)
              :origin-joint-index 3
              )

(defskelgroup skel-blue-gun-mod-one blue-gun-mod-one blue-gun-mod-one-lod0-jg blue-gun-mod-one-idle-ja
              ((blue-gun-mod-one-lod0-mg (meters 999999)))
              :bounds (static-spherem 0 0 0 0.5)
              :origin-joint-index 3
              )

(defskelgroup skel-precursor-ship precursor-ship precursor-ship-lod0-jg precursor-ship-idle-ja
              ((precursor-ship-lod0-mg (meters 999999)))
              :bounds (static-spherem 0 0 0 75)
              :origin-joint-index 3
              )

(defskelgroup skel-jakc-feet jakc-feet jakc-feet-lod0-jg jakc-feet-idle-ja
              ((jakc-feet-lod0-mg (meters 999999)))
              :bounds (static-spherem 0 0 0 75)
              :origin-joint-index 3
              )

(defskelgroup skel-onin-simple onin-simple onin-simple-lod0-jg onin-simple-idle-ja
              ((onin-simple-lod0-mg (meters 999999)))
              :bounds (static-spherem 0 0 0 10)
              :origin-joint-index 3
              )

(defskelgroup skel-keira-simple keira-simple keira-simple-lod0-jg keira-simple-idle-ja
              ((keira-simple-lod0-mg (meters 999999)))
              :bounds (static-spherem 0 0 0 10)
              :origin-joint-index 3
              )

(defskelgroup skel-torn-simple torn-simple torn-simple-lod0-jg torn-simple-idle-ja
              ((torn-simple-lod0-mg (meters 999999)))
              :bounds (static-spherem 0 0 0 10)
              :origin-joint-index 3
              )

(defskelgroup skel-precursor-ship-door precursor-ship-door precursor-ship-door-lod0-jg precursor-ship-door-idle-ja
              ((precursor-ship-door-lod0-mg (meters 999999)))
              :bounds (static-spherem 0 10 0 30)
              :origin-joint-index 3
              )

(defskelgroup skel-ottsel-dummy-outro ottsel-dummy ottsel-dummy-lod0-jg ottsel-dummy-idle-ja
              ((ottsel-dummy-lod0-mg (meters 999999)))
              :bounds (static-spherem 0 0 0 2.5)
              :shadow ottsel-dummy-shadow-mg
              :origin-joint-index 3
              )

(load-scene
  (new 'static 'scene
    :name "intro-training"
    :extra #f
    :info #f
    :scene-flags (scene-flags scf1 scf2 scf3 scf4)
    :mask-to-clear (process-mask movie projectile)
    :entity "scene-stage-104"
    :art-group "scenecamera"
    :anim "intro-training"
    :parts 28
    :command-list '((0
        (setting-reset part-bounds-check mode #f)
        (want-display 'wasstada 'special)
        (save)
        (apply ,(lambda :behavior scene-player
                  ()
                  (let ((gp-0 (level-get *level* 'ljkfeet)))
                    (when gp-0
                      (clear-mood-context (-> gp-0 mood-context))
                      (if #f
                          ((the-as (function mood-context none) #f) (-> gp-0 mood-context))
                          )
                      (set! (-> gp-0 info mood-func) 'update-mood-waspala)
                      (logclear! (-> gp-0 info level-flags) (level-flags lf9))
                      )
                    )
                  (none)
                  )
               )
        (kill "part-spawner-1603")
        (reset-cloth "damus-highres")
        )
      (1 (reset-cloth "damus-highres"))
      (60
        (part-tracker
          "group-waspala-water-jak-ring"
          entity
          "jakc-feet"
          joint
          "Rknee"
          track
          #t
          duration
          (frame-range 60 1290)
          )
        (part-tracker
          "group-waspala-water-jak-ring"
          entity
          "jakc-feet"
          joint
          "Lknee"
          track
          #t
          duration
          (frame-range 60 1290)
          )
        )
      (80
        (part-tracker
          "group-waspala-water-daxter-ring"
          entity
          "sidekick-highres"
          joint
          "chest"
          track
          #f
          duration
          (frame-range 80 410)
          )
        )
      (88
        (part-tracker
          "group-waspala-gargle-bubbles"
          entity
          "sidekick-highres"
          joint
          "tongueTip"
          track
          #t
          duration
          (frame-range 88 141)
          )
        )
      (217
        (part-tracker
          "group-waspala-hands-water-trail"
          entity
          "particleman"
          joint
          "particleJ"
          track
          #t
          duration
          (frame-range 217 233)
          )
        (part-tracker
          "group-waspala-hands-water-trail"
          entity
          "particleman"
          joint
          "particleO"
          track
          #t
          duration
          (frame-range 217 233)
          )
        )
      (222
        (part-tracker
          "group-waspala-hands-water-trail"
          entity
          "particleman"
          joint
          "particleQ"
          track
          #t
          duration
          (frame-range 222 249)
          )
        (part-tracker
          "group-waspala-hands-water-trail"
          entity
          "particleman"
          joint
          "particleR"
          track
          #t
          duration
          (frame-range 222 249)
          )
        )
      (238
        (part-tracker
          "group-waspala-hands-water-trail"
          entity
          "particleman"
          joint
          "particleS"
          track
          #t
          duration
          (frame-range 238 241)
          )
        (part-tracker
          "group-waspala-hands-water-trail"
          entity
          "particleman"
          joint
          "particleT"
          track
          #t
          duration
          (frame-range 238 241)
          )
        )
      (243
        (part-tracker
          "group-waspala-hands-water-trail"
          entity
          "particleman"
          joint
          "particleD"
          track
          #t
          duration
          (frame-range 243 261)
          )
        (part-tracker
          "group-waspala-hands-water-trail"
          entity
          "particleman"
          joint
          "particleE"
          track
          #t
          duration
          (frame-range 243 261)
          )
        )
      (268
        (part-tracker
          "group-waspala-hands-water-trail"
          entity
          "particleman"
          joint
          "particleJ"
          track
          #t
          duration
          (frame-range 268 299)
          )
        (part-tracker
          "group-waspala-hands-water-trail"
          entity
          "particleman"
          joint
          "particleO"
          track
          #t
          duration
          (frame-range 268 299)
          )
        )
      (311
        (part-tracker
          "group-waspala-hands-water-trail"
          entity
          "particleman"
          joint
          "particleE"
          track
          #t
          duration
          (frame-range 311 312)
          )
        )
      (319
        (part-tracker
          "group-waspala-hands-water-trail"
          entity
          "particleman"
          joint
          "particleD"
          track
          #t
          duration
          (frame-range 319 320)
          )
        )
      (346
        (part-tracker
          "group-waspala-farticle-bubbles"
          entity
          "particleman"
          joint
          "particleP"
          track
          #f
          duration
          (frame-range 346 360)
          )
        )
      (350 (setting-reset part-bounds-check mode #f))
      (626
        (part-tracker
          "group-waspala-water-daxter-ring"
          entity
          "sidekick-highres"
          joint
          "main"
          track
          #f
          duration
          (frame-range 626 747)
          )
        )
      (1007
        (part-tracker
          "group-waspala-squeeze-water"
          entity
          "particleman"
          joint
          "particleA"
          track
          #t
          duration
          (frame-range 1007 1036)
          )
        )
      (1039
        (part-tracker
          "group-waspala-squeeze-water"
          entity
          "particleman"
          joint
          "particleB"
          track
          #t
          duration
          (frame-range 1039 1040)
          )
        )
      (1045
        (part-tracker
          "group-waspala-squeeze-water"
          entity
          "particleman"
          joint
          "particleC"
          track
          #t
          duration
          (frame-range 1045 1046)
          )
        )
      (2485 (fadeout (frame-time-30 15)))
      (10000
        (apply ,(lambda :behavior scene-player
                  ()
                  (let ((gp-0 (level-get *level* 'ljkfeet)))
                    (when gp-0
                      (clear-mood-context (-> gp-0 mood-context))
                      (if #f
                          ((the-as (function mood-context none) #f) (-> gp-0 mood-context))
                          )
                      (set! (-> gp-0 info mood-func) 'update-mood-copy-wasstada)
                      (logclear! (-> gp-0 info level-flags) (level-flags lf9))
                      )
                    )
                  (cond
                    ((-> self aborted?)
                     (task-close! "arena-training-1-introduction")
                     )
                    (else
                      (set-setting! 'borrow '((wasstada 0 wasstadb display) (waspala 0 lwstdpck special)) 0.0 0)
                      (apply-settings *setting-control*)
                      )
                    )
                  (none)
                  )
               )
        )
      )
    :cut-list '(358 410 497 582 624 739 975 1102 1202 1280 1620 1718 1914 1987 2079 2264 2365 2440)
    :wait-ground-time (seconds 1)
    :actor (new 'static 'boxed-array :type scene-actor
      (new 'static 'scene-actor
        :name "scenecamera"
        :level #f
        :art-group "skel-scenecamera"
        :prefix ""
        :draw-frames '((min max))
        :scissor-frames '()
        :shadow-frames '((min max))
        :cloth-reset-frames '()
        :cloth-commands '()
        :camera 4
        :shadow-flags -1
        :shadow-volume-joint #f
        )
      (new 'static 'scene-actor
        :name "particleman"
        :level 'waspala
        :art-group "skel-particleman"
        :prefix ""
        :draw-frames '((min max))
        :scissor-frames '()
        :shadow-frames '((min max))
        :cloth-reset-frames '()
        :cloth-commands '()
        :shadow-flags -1
        :shadow-volume-joint #f
        )
      (new 'static 'scene-actor
        :name "jakc-feet"
        :level 'ljkfeet
        :art-group "skel-jakc-feet"
        :prefix ""
        :draw-frames '((min max))
        :scissor-frames '()
        :shadow-frames '((min max))
        :cloth-reset-frames '(1718)
        :cloth-commands '()
        :flags #x1
        :shadow-flags -1
        :shadow-volume-joint #f
        :no-draw-seg #x1d2
        )
      (new 'static 'scene-actor
        :name "sidekick-highres"
        :level 'waspala
        :art-group "skel-sidekick-highres"
        :prefix ""
        :draw-frames '((min max))
        :scissor-frames '()
        :shadow-frames '((min max))
        :cloth-reset-frames '()
        :cloth-commands '()
        :flags #x1
        :shadow-flags -1
        :shadow-volume-joint #f
        )
      (new 'static 'scene-actor
        :name "damus-highres"
        :level 'waspala
        :art-group "skel-damus-highres"
        :prefix ""
        :draw-frames '((min 1620) (1718 1987) (2079 2264) (2365 max))
        :scissor-frames '()
        :shadow-frames '((min max))
        :cloth-reset-frames '(1698)
        :cloth-commands '()
        :flags #x1
        :shadow-flags -1
        :shadow-volume-joint #f
        )
      )
    :load-point "waspala-intro-training"
    :end-point "wasstada-jump-training"
    :borrow '((waspala 0 ljkfeet special))
    :music-delay 1500.0
    :scene-task #x7
    :on-running '(sound-play-loop "pal-movie-amb")
    :on-complete #f
    )
  )

(load-scene (new 'static 'scene
              :name "arena-training-1-intro"
              :extra #f
              :info #f
              :scene-flags (scene-flags scf1 scf2 scf3 scf4)
              :mask-to-clear (process-mask movie projectile)
              :entity "scene-stage-106"
              :art-group "scenecamera"
              :anim "arena-training-1-intro"
              :parts 16
              :command-list '((0
                  (want-display 'wasstada 'display)
                  (want-display 'waspala 'special)
                  (save)
                  (apply ,(lambda :behavior scene-player
                            ()
                            (let ((gp-0 (level-get *level* 'waspala)))
                              (when gp-0
                                (clear-mood-context (-> gp-0 mood-context))
                                (if #f
                                    ((the-as (function mood-context none) #f) (-> gp-0 mood-context))
                                    )
                                (set! (-> gp-0 info mood-func) 'update-mood-copy-wasstada)
                                (logclear! (-> gp-0 info level-flags) (level-flags lf9))
                                )
                              )
                            (none)
                            )
                         )
                  (fadein (frame-time-30 15))
                  )
                (1828 (fadeout (frame-time-30 30)))
                (10000
                  (apply ,(lambda :behavior scene-player
                            ()
                            (let ((gp-0 (level-get *level* 'waspala)))
                              (when gp-0
                                (clear-mood-context (-> gp-0 mood-context))
                                (if #f
                                    ((the-as (function mood-context none) #f) (-> gp-0 mood-context))
                                    )
                                (set! (-> gp-0 info mood-func) 'update-mood-waspala)
                                (logclear! (-> gp-0 info level-flags) (level-flags lf9))
                                )
                              )
                            (none)
                            )
                         )
                  (task-close! "arena-training-1-introduction")
                  )
                )
              :cut-list '(1 610 668 765 806 849 876 911 1071 1105 1168 1236 1389 1461 1495 1604 1636 1668)
              :wait-ground-time (seconds 1)
              :actor (new 'static 'boxed-array :type scene-actor
                (new 'static 'scene-actor
                  :name "scenecamera"
                  :level #f
                  :art-group "skel-scenecamera"
                  :prefix ""
                  :draw-frames '((min max))
                  :scissor-frames '()
                  :shadow-frames '((min max))
                  :cloth-reset-frames '()
                  :cloth-commands '()
                  :camera 4
                  :shadow-flags -1
                  :shadow-volume-joint #f
                  )
                (new 'static 'scene-actor
                  :name "jakc-highres"
                  :level 'lwstdpck
                  :art-group "skel-jakc-highres"
                  :prefix ""
                  :draw-frames '((min max))
                  :scissor-frames '()
                  :shadow-frames '((min max))
                  :cloth-reset-frames '(610 1071 1105 1604 1636 1688 1752 1801)
                  :cloth-commands '(((min max) set-flags local-space))
                  :flags #x1
                  :shadow-flags -1
                  :shadow-volume-joint #f
                  :no-draw-seg #x80
                  )
                (new 'static 'scene-actor
                  :name "sidekick-highres"
                  :level 'waspala
                  :art-group "skel-sidekick-highres"
                  :prefix ""
                  :draw-frames '((min max))
                  :scissor-frames '()
                  :shadow-frames '((min max))
                  :cloth-reset-frames '()
                  :cloth-commands '()
                  :flags #x1
                  :shadow-flags -1
                  :shadow-volume-joint #f
                  )
                (new 'static 'scene-actor
                  :name "damus-highres"
                  :level 'waspala
                  :art-group "skel-damus-highres"
                  :prefix ""
                  :draw-frames '((min max))
                  :scissor-frames '()
                  :shadow-frames '((min max))
                  :cloth-reset-frames '()
                  :cloth-commands '()
                  :flags #x1
                  :shadow-flags -1
                  :shadow-volume-joint #f
                  )
                (new 'static 'scene-actor
                  :name "pecker-highres"
                  :level 'lwstdpck
                  :art-group "skel-pecker-highres"
                  :prefix ""
                  :draw-frames '((min max))
                  :scissor-frames '()
                  :shadow-frames '((min max))
                  :cloth-reset-frames '()
                  :cloth-commands '()
                  :flags #x1
                  :shadow-flags -1
                  :shadow-volume-joint #f
                  )
                )
              :load-point "waspala-intro-training"
              :end-point "wasstada-jump-training"
              :borrow '((wasstada 0 wasstadb display) (waspala 0 lwstdpck special))
              :sfx-volume -1.0
              :ambient-volume -1.0
              :music-delay 1500.0
              :scene-task #x7
              :on-running #f
              :on-complete #f
              )
            )

(load-scene (new 'static 'scene
              :name "arena-fight-1-intro"
              :extra #f
              :info #f
              :scene-flags (scene-flags scf1 scf2 scf3 scf4)
              :mask-to-clear (process-mask movie projectile)
              :entity "scene-stage-106"
              :art-group "scenecamera"
              :anim "arena-fight-1-intro"
              :parts 10
              :command-list '((240 (apply ,(lambda :behavior scene-player
                               ()
                               (set-setting! 'borrow '((wasstada 0 wasstadc display)) 0.0 0)
                               (apply-settings *setting-control*)
                               (none)
                               )
                            )
                     )
                (1120 (fadeout (frame-time-30 30)))
                (10000 (task-close! "arena-fight-1-introduction"))
                )
              :cut-list '(31 111 171 226 295 359 390 443 518 610 709 734 786 895 942 1006 1077 1105)
              :wait-ground-time (seconds 1)
              :actor (new 'static 'boxed-array :type scene-actor
                (new 'static 'scene-actor
                  :name "scenecamera"
                  :level #f
                  :art-group "skel-scenecamera"
                  :prefix ""
                  :draw-frames '((min max))
                  :scissor-frames '()
                  :shadow-frames '((min max))
                  :cloth-reset-frames '()
                  :cloth-commands '()
                  :camera 4
                  :shadow-flags -1
                  :shadow-volume-joint #f
                  )
                (new 'static 'scene-actor
                  :name "jakc-highres"
                  :level 'arenacst
                  :art-group "skel-jakc-highres"
                  :prefix ""
                  :draw-frames '((min max))
                  :scissor-frames '()
                  :shadow-frames '((min max))
                  :cloth-reset-frames '()
                  :cloth-commands '()
                  :flags #x1
                  :shadow-flags -1
                  :shadow-volume-joint #f
                  :no-draw-seg #x80
                  )
                (new 'static 'scene-actor
                  :name "sidekick-highres"
                  :level 'arenacst
                  :art-group "skel-sidekick-highres"
                  :prefix ""
                  :draw-frames '((min max))
                  :scissor-frames '((786 1006))
                  :shadow-frames '((min max))
                  :cloth-reset-frames '()
                  :cloth-commands '()
                  :flags #x1
                  :shadow-flags -1
                  :shadow-volume-joint #f
                  )
                (new 'static 'scene-actor
                  :name "damus-highres"
                  :level 'arenacst
                  :art-group "skel-damus-highres"
                  :prefix ""
                  :draw-frames '((min max))
                  :scissor-frames '()
                  :shadow-frames '()
                  :cloth-reset-frames '()
                  :cloth-commands '()
                  :flags #x1
                  :shadow-flags -1
                  :shadow-volume-joint #f
                  )
                (new 'static 'scene-actor
                  :name "pecker-highres"
                  :level 'arenacst
                  :art-group "skel-pecker-highres"
                  :prefix ""
                  :draw-frames '((min max))
                  :scissor-frames '((600 800))
                  :shadow-frames '()
                  :cloth-reset-frames '()
                  :cloth-commands '()
                  :flags #x1
                  :shadow-flags -1
                  :shadow-volume-joint #f
                  )
                (new 'static 'scene-actor
                  :name "gun"
                  :level #f
                  :art-group "skel-gun"
                  :prefix ""
                  :draw-frames '((min max))
                  :scissor-frames '()
                  :shadow-frames '((min max))
                  :cloth-reset-frames '()
                  :cloth-commands '()
                  :flags #x1
                  :shadow-flags -1
                  :shadow-volume-joint #f
                  )
                )
              :load-point "wasstada-pre-fight-1"
              :end-point "wasstada-fight"
              :borrow '((wasstada 0 wasstadb display))
              :sfx-volume -1.0
              :ambient-volume -1.0
              :music-delay 1500.0
              :scene-task #xa
              :on-running #f
              :on-complete #f
              )
            )

(load-scene
  (new 'static 'scene
    :name "arena-fight-1-res"
    :extra #f
    :info #f
    :scene-flags (scene-flags scf1 scf2 scf3 scf4)
    :mask-to-clear (process-mask movie projectile)
    :entity "scene-stage-106"
    :art-group "scenecamera"
    :anim "arena-fight-1-res"
    :parts 19
    :command-list '((0 (fadein (frame-time-30 15)))
      (68 (apply ,(lambda :behavior scene-player
                    ()
                    (when (not (-> self aborted?))
                      (set! (-> *display* force-sync) (the-as uint 192))
                      (persist-with-delay *setting-control* 'blur-a (seconds 4.4) 'blur-a 'abs 0.8 0)
                      (sound-play "trans3")
                      )
                    (none)
                    )
                 )
          )
      (686 (apply ,(lambda :behavior scene-player
                     ()
                     (let ((v1-0 (process-by-name "damus-highres" *active-pool*)))
                       (if v1-0
                           (set! (-> (the-as process-drawable v1-0) draw shadow) #f)
                           )
                       )
                     (none)
                     )
                  )
           )
      (1120 (hide-cloth "seem-highres"))
      (1695 (fadeout (frame-time-30 15)))
      (10000
        (apply ,(lambda :behavior scene-player
                  ()
                  (persist-with-delay *setting-control* 'blur-a-speed (seconds 1) 'blur-a-speed 'abs 1000.0 0)
                  (persist-with-delay *setting-control* 'blur-a (seconds 1.1) 'blur-a 'abs 0.0 0)
                  (none)
                  )
               )
        (send-event self 'user-data-set! (task-closed? "arena-fight-1-throne"))
        (task-close! "arena-fight-1-throne")
        )
      )
    :cut-list '(111 186 276 386 503 571 636 686 786 881 966 1036 1121 1226 1311 1401 1556 1606 1646)
    :wait-ground-time (seconds 1)
    :actor (new 'static 'boxed-array :type scene-actor
      (new 'static 'scene-actor
        :name "scenecamera"
        :level #f
        :art-group "skel-scenecamera"
        :prefix ""
        :draw-frames '((min max))
        :scissor-frames '()
        :shadow-frames '((min max))
        :cloth-reset-frames '()
        :cloth-commands '()
        :camera 4
        :shadow-flags -1
        :shadow-volume-joint #f
        )
      (new 'static 'scene-actor
        :name "jakc-highres"
        :level 'arenacst
        :art-group "skel-jakc-highres"
        :prefix ""
        :draw-frames '((min max))
        :scissor-frames '()
        :shadow-frames '((min max))
        :cloth-reset-frames '(373 663 865 1293)
        :cloth-commands '()
        :flags #x1
        :shadow-flags -1
        :shadow-volume-joint #f
        :no-draw-seg #x3a2
        )
      (new 'static 'scene-actor
        :name "sidekick-highres"
        :level 'arenacst
        :art-group "skel-sidekick-highres"
        :prefix ""
        :draw-frames '((min max))
        :scissor-frames '()
        :shadow-frames '((min max))
        :cloth-reset-frames '()
        :cloth-commands '()
        :flags #x1
        :shadow-flags -1
        :shadow-volume-joint #f
        )
      (new 'static 'scene-actor
        :name "damus-highres"
        :level 'arenacst
        :art-group "skel-damus-highres"
        :prefix ""
        :draw-frames '((min max))
        :scissor-frames '()
        :shadow-frames '((min 186) (276 686) (786 max))
        :cloth-reset-frames '()
        :cloth-commands '()
        :flags #x1
        :shadow-flags -1
        :shadow-volume-joint #f
        )
      (new 'static 'scene-actor
        :name "pecker-highres"
        :level 'arenacst
        :art-group "skel-pecker-highres"
        :prefix ""
        :draw-frames '((min max))
        :scissor-frames '()
        :shadow-frames '((min 186) (276 686) (786 max))
        :cloth-reset-frames '()
        :cloth-commands '()
        :flags #x1
        :shadow-flags -1
        :shadow-volume-joint #f
        )
      (new 'static 'scene-actor
        :name "gun-yellow-up"
        :level 'arenacst
        :art-group "skel-gun-yellow-up"
        :prefix ""
        :draw-frames '((min max))
        :scissor-frames '()
        :shadow-frames '((min max))
        :cloth-reset-frames '()
        :cloth-commands '()
        :flags #x1
        :shadow-flags -1
        :shadow-volume-joint #f
        )
      (new 'static 'scene-actor
        :name "battle-amulet"
        :level 'arenacst
        :art-group "skel-battle-amulet"
        :prefix ""
        :draw-frames '((min max))
        :scissor-frames '()
        :shadow-frames '((min max))
        :cloth-reset-frames '()
        :cloth-commands '()
        :flags #x1
        :shadow-flags -1
        :shadow-volume-joint #f
        )
      (new 'static 'scene-actor
        :name "wstd-gate-pass"
        :level 'arenacst
        :art-group "skel-wstd-gate-pass"
        :prefix ""
        :draw-frames '((min max))
        :scissor-frames '()
        :shadow-frames '((min max))
        :cloth-reset-frames '()
        :cloth-commands '()
        :flags #x1
        :shadow-flags -1
        :shadow-volume-joint #f
        )
      (new 'static 'scene-actor
        :name "seem-highres"
        :level 'arenacst
        :art-group "skel-seem-highres"
        :prefix ""
        :draw-frames '((min max))
        :scissor-frames '()
        :shadow-frames '((min max))
        :cloth-reset-frames '()
        :cloth-commands '()
        :flags #x1
        :shadow-flags -1
        :shadow-volume-joint #f
        )
      )
    :load-point "wasstada-fight"
    :end-point "wasstada-win"
    :borrow '()
    :sfx-volume -1.0
    :ambient-volume -1.0
    :music-delay 1500.0
    :scene-task #xd
    :on-running #f
    :on-complete '(unless (send-event self 'user-data) (talker-spawn "powup001"))
    )
  )

(load-scene (new 'static 'scene
              :name "wascity-chase-intro"
              :extra #f
              :info #f
              :scene-flags (scene-flags scf1 scf2 scf3 scf4)
              :mask-to-clear (process-mask movie projectile)
              :entity "scene-stage-108"
              :art-group "scenecamera"
              :anim "wascity-chase-intro"
              :parts 13
              :command-list '((0
                  (send-event "wstd-door-1" 'open (seconds 60) #t)
                  (apply ,(lambda :behavior scene-player () (kill-by-type flut *active-pool*) (none)))
                  )
                (1460 (fadeout (frame-time-30 10)))
                (10000 (task-close! "wascity-chase-introduction"))
                )
              :cut-list '(107 187 300 407 467 533 566 736 795 879 969 1041 1151 1277 1323 1409)
              :wait-ground-time (seconds 1)
              :actor (new 'static 'boxed-array :type scene-actor
                (new 'static 'scene-actor
                  :name "scenecamera"
                  :level #f
                  :art-group "skel-scenecamera"
                  :prefix ""
                  :draw-frames '((min max))
                  :scissor-frames '()
                  :shadow-frames '((min max))
                  :cloth-reset-frames '()
                  :cloth-commands '()
                  :camera 4
                  :shadow-flags -1
                  :shadow-volume-joint #f
                  )
                (new 'static 'scene-actor
                  :name "jakc-highres"
                  :level 'ljndklev
                  :art-group "skel-jakc-highres"
                  :prefix ""
                  :draw-frames '((min max))
                  :scissor-frames '()
                  :shadow-frames '((min max))
                  :cloth-reset-frames '()
                  :cloth-commands '()
                  :shadow-mask #x1e
                  :shadow-values #x11110
                  :flags #x1
                  :shadow-flags -1
                  :shadow-volume-joint #f
                  :no-draw-seg #x80
                  )
                (new 'static 'scene-actor
                  :name "sidekick-highres"
                  :level 'ljndklev
                  :art-group "skel-sidekick-highres"
                  :prefix ""
                  :draw-frames '((min max))
                  :scissor-frames '()
                  :shadow-frames '((min max))
                  :cloth-reset-frames '()
                  :cloth-commands '()
                  :shadow-mask #x1e
                  :shadow-values #x11110
                  :flags #x1
                  :shadow-flags -1
                  :shadow-volume-joint #f
                  )
                (new 'static 'scene-actor
                  :name "kleever-highres"
                  :level 'ljndklev
                  :art-group "skel-kleever-highres"
                  :prefix ""
                  :draw-frames '((min max))
                  :scissor-frames '((min max))
                  :shadow-frames '((min max))
                  :cloth-reset-frames '()
                  :cloth-commands '()
                  :shadow-mask #x1e
                  :shadow-values #x11110
                  :flags #x1
                  :shadow-flags -1
                  :shadow-volume-joint #f
                  )
                (new 'static 'scene-actor
                  :name "flut"
                  :level 'waswide
                  :art-group "skel-flut"
                  :prefix ""
                  :draw-frames '((min max))
                  :scissor-frames '()
                  :shadow-frames '((min max))
                  :cloth-reset-frames '()
                  :cloth-commands '()
                  :shadow-mask #x1e
                  :shadow-values #x11110
                  :flags #x1
                  :shadow-flags -1
                  :shadow-volume-joint #f
                  )
                (new 'static 'scene-actor
                  :name "kanga-lizard-movie"
                  :level 'wascitya
                  :art-group "skel-kanga-lizard-movie"
                  :prefix ""
                  :draw-frames '((min max))
                  :scissor-frames '()
                  :shadow-frames '((min max))
                  :cloth-reset-frames '()
                  :cloth-commands '()
                  :shadow-mask #x1e
                  :shadow-values #x11110
                  :flags #x1
                  :shadow-flags -1
                  :shadow-volume-joint #f
                  )
                )
              :load-point "wasstada-wascity-chase"
              :end-point "wasstada-entrance"
              :borrow '((wasstada 0 ljndklev special))
              :sfx-volume -1.0
              :ambient-volume -1.0
              :music-delay 1500.0
              :scene-task #xe
              :on-running #f
              :on-complete #f
              )
            )

(load-scene (new 'static 'scene
              :name "arena-fight-2-res"
              :extra #f
              :info #f
              :scene-flags (scene-flags scf1 scf2 scf3 scf4)
              :mask-to-clear (process-mask movie projectile)
              :entity "scene-stage-106"
              :art-group "scenecamera"
              :anim "arena-fight-2-res"
              :parts 15
              :command-list '((10000 (send-event self 'user-data-set! (task-closed? "arena-fight-2-resolution"))))
              :cut-list '(82 134 213 294 419 551 606 720 790 867 930 988 1021 1087 1146 1168 1256 1511 1543 1608 1648)
              :wait-ground-time (seconds 1)
              :actor (new 'static 'boxed-array :type scene-actor
                (new 'static 'scene-actor
                  :name "scenecamera"
                  :level #f
                  :art-group "skel-scenecamera"
                  :prefix ""
                  :draw-frames '((min max))
                  :scissor-frames '()
                  :shadow-frames '((min max))
                  :cloth-reset-frames '()
                  :cloth-commands '()
                  :camera 4
                  :shadow-flags -1
                  :shadow-volume-joint #f
                  )
                (new 'static 'scene-actor
                  :name "jakc-highres"
                  :level 'arenacst
                  :art-group "skel-jakc-highres"
                  :prefix ""
                  :draw-frames '((min 1543) (1608 max))
                  :scissor-frames '()
                  :shadow-frames '((min max))
                  :cloth-reset-frames '(909)
                  :cloth-commands '()
                  :flags #x1
                  :shadow-flags -1
                  :shadow-volume-joint #f
                  :no-draw-seg #x80
                  )
                (new 'static 'scene-actor
                  :name "sidekick-highres"
                  :level 'arenacst
                  :art-group "skel-sidekick-highres"
                  :prefix ""
                  :draw-frames '((min max))
                  :scissor-frames '()
                  :shadow-frames '((min max))
                  :cloth-reset-frames '()
                  :cloth-commands '()
                  :flags #x1
                  :shadow-flags -1
                  :shadow-volume-joint #f
                  )
                (new 'static 'scene-actor
                  :name "damus-highres"
                  :level 'arenacst
                  :art-group "skel-damus-highres"
                  :prefix ""
                  :draw-frames '((min max))
                  :scissor-frames '()
                  :shadow-frames '((min max))
                  :cloth-reset-frames '()
                  :cloth-commands '()
                  :flags #x1
                  :shadow-flags -1
                  :shadow-volume-joint #f
                  )
                (new 'static 'scene-actor
                  :name "pecker-highres"
                  :level 'arenacst
                  :art-group "skel-pecker-highres"
                  :prefix ""
                  :draw-frames '((min max))
                  :scissor-frames '((1021 1146))
                  :shadow-frames '((min max))
                  :cloth-reset-frames '()
                  :cloth-commands '()
                  :flags #x1
                  :shadow-flags -1
                  :shadow-volume-joint #f
                  )
                (new 'static 'scene-actor
                  :name "gun-yellow-up"
                  :level 'arenacst
                  :art-group "skel-gun-yellow-up"
                  :prefix ""
                  :draw-frames '((min max))
                  :scissor-frames '()
                  :shadow-frames '((min max))
                  :cloth-reset-frames '()
                  :cloth-commands '()
                  :flags #x1
                  :shadow-flags -1
                  :shadow-volume-joint #f
                  )
                (new 'static 'scene-actor
                  :name "battle-amulet"
                  :level 'arenacst
                  :art-group "skel-battle-amulet"
                  :prefix ""
                  :draw-frames '((min max))
                  :scissor-frames '()
                  :shadow-frames '((min max))
                  :cloth-reset-frames '()
                  :cloth-commands '()
                  :flags #x1
                  :shadow-flags -1
                  :shadow-volume-joint #f
                  )
                )
              :load-point "wasstada-fight"
              :end-point "wasstada-win"
              :borrow '((wasstada 0 wasstadc display))
              :sfx-volume -1.0
              :ambient-volume -1.0
              :music-delay 1500.0
              :scene-task #x2b
              :on-running #f
              :on-complete '(unless (send-event self 'user-data) (talker-spawn "powup003"))
              )
            )

(load-scene (new 'static 'scene
              :name "arena-fight-3-intro"
              :extra #f
              :info #f
              :scene-flags (scene-flags scf1 scf2 scf3 scf4)
              :mask-to-clear (process-mask movie projectile)
              :entity "scene-stage-106"
              :art-group "scenecamera"
              :anim "arena-fight-3-intro"
              :parts 8
              :command-list '((940 (fadeout (frame-time-30 10)))
                (10000
                  (send-event self 'user-data-set! (task-closed? "arena-fight-3-introduction"))
                  (task-close! "arena-fight-3-introduction")
                  )
                )
              :cut-list '(54 154 371 418 492 636 749 795 828 867 917)
              :wait-ground-time (seconds 1)
              :actor (new 'static 'boxed-array :type scene-actor
                (new 'static 'scene-actor
                  :name "scenecamera"
                  :level #f
                  :art-group "skel-scenecamera"
                  :prefix ""
                  :draw-frames '((min max))
                  :scissor-frames '()
                  :shadow-frames '((min max))
                  :cloth-reset-frames '()
                  :cloth-commands '()
                  :camera 4
                  :shadow-flags -1
                  :shadow-volume-joint #f
                  )
                (new 'static 'scene-actor
                  :name "jakc-highres"
                  :level 'arenacst
                  :art-group "skel-jakc-highres"
                  :prefix ""
                  :draw-frames '((min max))
                  :scissor-frames '()
                  :shadow-frames '((min max))
                  :cloth-reset-frames '()
                  :cloth-commands '()
                  :flags #x1
                  :shadow-flags -1
                  :shadow-volume-joint #f
                  :no-draw-seg #x80
                  )
                (new 'static 'scene-actor
                  :name "sidekick-highres"
                  :level 'arenacst
                  :art-group "skel-sidekick-highres"
                  :prefix ""
                  :draw-frames '((min max))
                  :scissor-frames '()
                  :shadow-frames '((min max))
                  :cloth-reset-frames '()
                  :cloth-commands '()
                  :flags #x1
                  :shadow-flags -1
                  :shadow-volume-joint #f
                  )
                (new 'static 'scene-actor
                  :name "damus-highres"
                  :level 'arenacst
                  :art-group "skel-damus-highres"
                  :prefix ""
                  :draw-frames '((min max))
                  :scissor-frames '((382 526))
                  :shadow-frames '()
                  :cloth-reset-frames '()
                  :cloth-commands '()
                  :flags #x1
                  :shadow-flags -1
                  :shadow-volume-joint #f
                  )
                (new 'static 'scene-actor
                  :name "pecker-highres"
                  :level 'arenacst
                  :art-group "skel-pecker-highres"
                  :prefix ""
                  :draw-frames '((min max))
                  :scissor-frames '()
                  :shadow-frames '()
                  :cloth-reset-frames '()
                  :cloth-commands '()
                  :flags #x1
                  :shadow-flags -1
                  :shadow-volume-joint #f
                  )
                (new 'static 'scene-actor
                  :name "blue-gun-mod-one"
                  :level 'arenacst
                  :art-group "skel-blue-gun-mod-one"
                  :prefix ""
                  :draw-frames '((min max))
                  :scissor-frames '()
                  :shadow-frames '((min max))
                  :cloth-reset-frames '()
                  :cloth-commands '()
                  :flags #x1
                  :shadow-flags -1
                  :shadow-volume-joint #f
                  )
                )
              :load-point "wasstada-fight"
              :end-point "wasstada-pre-fight-1"
              :borrow '((wasstada 0 wasstadc display))
              :sfx-volume -1.0
              :ambient-volume -1.0
              :music-delay 1500.0
              :scene-task #x3f
              :on-running #f
              :on-complete '(unless (send-event self 'user-data) (talker-spawn "powup008"))
              )
            )

(load-scene
  (new 'static 'scene
    :name "arena-fight-3-res"
    :extra #f
    :info #f
    :scene-flags (scene-flags scf1 scf2 scf3 scf4)
    :mask-to-clear (process-mask movie projectile)
    :entity "scene-stage-106"
    :art-group "scenecamera"
    :anim "arena-fight-3-res"
    :parts 10
    :command-list '((1114 (fadeout (frame-time-30 10))) (10000 (apply ,(lambda :behavior scene-player
                                                           ()
                                                           (if (-> self aborted?)
                                                               (task-close! "nest-eggs-introduction")
                                                               )
                                                           (none)
                                                           )
                                                        )
                                                 )
      )
    :cut-list '(83 108 158 181 245 282 365 470 550 608 652 690 743 822 885 993 1074)
    :wait-ground-time (seconds 1)
    :actor (new 'static 'boxed-array :type scene-actor
      (new 'static 'scene-actor
        :name "scenecamera"
        :level #f
        :art-group "skel-scenecamera"
        :prefix ""
        :draw-frames '((min max))
        :scissor-frames '()
        :shadow-frames '((min max))
        :cloth-reset-frames '()
        :cloth-commands '()
        :camera 4
        :shadow-flags -1
        :shadow-volume-joint #f
        )
      (new 'static 'scene-actor
        :name "jakc-highres"
        :level 'arenacst
        :art-group "skel-jakc-highres"
        :prefix ""
        :draw-frames '((min 550) (608 652) (743 max))
        :scissor-frames '()
        :shadow-frames '((min max))
        :cloth-reset-frames '()
        :cloth-commands '()
        :flags #x1
        :shadow-flags -1
        :shadow-volume-joint #f
        :no-draw-seg #x80
        )
      (new 'static 'scene-actor
        :name "sidekick-highres"
        :level 'arenacst
        :art-group "skel-sidekick-highres"
        :prefix ""
        :draw-frames '((min 550) (608 652) (743 max))
        :scissor-frames '()
        :shadow-frames '((min max))
        :cloth-reset-frames '()
        :cloth-commands '()
        :flags #x1
        :shadow-flags -1
        :shadow-volume-joint #f
        )
      (new 'static 'scene-actor
        :name "gun"
        :level #f
        :art-group "skel-gun"
        :prefix ""
        :draw-frames '((min max))
        :scissor-frames '()
        :shadow-frames '((min max))
        :cloth-reset-frames '()
        :cloth-commands '()
        :flags #x1
        :shadow-flags -1
        :shadow-volume-joint #f
        )
      (new 'static 'scene-actor
        :name "sig-highres"
        :level 'arenacst
        :art-group "skel-sig-highres"
        :prefix ""
        :draw-frames '((min max))
        :scissor-frames '((652 690))
        :shadow-frames '((min max))
        :cloth-reset-frames '()
        :cloth-commands '()
        :flags #x1
        :shadow-flags -1
        :shadow-volume-joint #f
        )
      (new 'static 'scene-actor
        :name "damus-highres"
        :level 'arenacst
        :art-group "skel-damus-highres"
        :prefix ""
        :draw-frames '((min max))
        :scissor-frames '()
        :shadow-frames '((min max))
        :cloth-reset-frames '()
        :cloth-commands '()
        :flags #x1
        :shadow-flags -1
        :shadow-volume-joint #f
        )
      (new 'static 'scene-actor
        :name "wlander-male"
        :level 'waswide
        :art-group "skel-wlander-male"
        :prefix ""
        :draw-frames '((min max))
        :scissor-frames '()
        :shadow-frames '((min max))
        :cloth-reset-frames '()
        :cloth-commands '()
        :flags #x1
        :shadow-flags -1
        :shadow-volume-joint #f
        :draw-seg #x3fe0000
        :no-draw-seg #xffffffffffffffff
        )
      )
    :load-point "wasstada-fight"
    :end-point "waspala-nest"
    :borrow '((wasstada 0 wasstadc display))
    :sfx-volume -1.0
    :ambient-volume -1.0
    :music-delay 1500.0
    :scene-task #x41
    :on-running #f
    :on-complete #f
    )
  )
