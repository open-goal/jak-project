;;-*-Lisp-*-
(in-package goal)

;; name: mhcity-obs.gc
;; name in dgo: mhcity-obs
;; dgos: CWI

;; DECOMP BEGINS

(defpartgroup group-mhcity-dark-eco-door
  :id 328
  :flags (sp0 sp4 sp6)
  :bounds (static-bspherem 0 0 0 20)
  :rotate ((degrees 0) (degrees 180) (degrees 0))
  :parts ((sp-item 1387 :flags (is-3d sp6 sp7))
    (sp-item 1388 :flags (is-3d sp6 sp7))
    (sp-item 1389 :flags (is-3d sp6 sp7))
    (sp-item 1390 :flags (is-3d sp6 sp7))
    (sp-item 1391 :flags (is-3d sp6 sp7))
    (sp-item 1392 :flags (is-3d sp6 sp7))
    (sp-item 1393 :flags (is-3d sp6 sp7))
    (sp-item 1394 :flags (is-3d sp6 sp7))
    (sp-item 1395 :flags (is-3d sp6 sp7))
    (sp-item 1396 :flags (is-3d sp6 sp7))
    (sp-item 1397 :flags (is-3d sp6 sp7))
    (sp-item 1398 :flags (is-3d sp6 sp7))
    (sp-item 1399 :flags (is-3d sp6 sp7))
    (sp-item 1400 :flags (is-3d sp6 sp7))
    (sp-item 1401 :flags (is-3d sp6 sp7))
    (sp-item 1402 :flags (is-3d sp6 sp7))
    (sp-item 1403 :flags (is-3d sp6 sp7))
    (sp-item 1404 :flags (is-3d sp6 sp7))
    (sp-item 1405 :flags (is-3d sp6 sp7))
    (sp-item 1406 :flags (is-3d sp6 sp7))
    (sp-item 1407 :flags (is-3d sp6 sp7))
    (sp-item 1408 :flags (is-3d sp6 sp7))
    (sp-item 1409 :flags (is-3d sp6 sp7))
    (sp-item 1410 :flags (is-3d sp6 sp7))
    (sp-item 1411 :flags (is-3d sp6 sp7))
    (sp-item 1412 :flags (is-3d sp6 sp7))
    (sp-item 1413 :flags (is-3d sp6 sp7))
    (sp-item 1414 :flags (is-3d sp6 sp7))
    (sp-item 1415 :flags (is-3d sp6 sp7))
    (sp-item 1416 :flags (is-3d sp6 sp7))
    (sp-item 1417 :fade-after (meters 50) :falloff-to (meters 80) :flags (sp7))
    )
  )

(defpart 1387
  :init-specs ((:texture (vol-light level-default-sprite))
    (:num 1.0)
    (:x (meters -1.7))
    (:y (meters 9.6))
    (:z (meters 3))
    (:scale-x (meters 5))
    (:rot-x (degrees 0))
    (:rot-y (degrees 0))
    (:rot-z (degrees -67))
    (:scale-y (meters 6))
    (:r 64.0)
    (:g 64.0)
    (:b 128.0)
    (:a 80.0)
    (:timer (seconds 0.017))
    (:flags (sp-cpuinfo-flag-2 sp-cpuinfo-flag-3))
    (:rotate-y (degrees 0))
    )
  )

(defpart 1388
  :init-specs ((:texture (vol-light level-default-sprite))
    (:num 1.0)
    (:x (meters 0))
    (:y (meters 6.5))
    (:z (meters 3))
    (:scale-x (meters 5.7))
    (:rot-x (degrees 0))
    (:rot-y (degrees 0))
    (:rot-z (degrees -85))
    (:scale-y (meters 6))
    (:r 64.0)
    (:g 64.0)
    (:b 128.0)
    (:a 80.0)
    (:timer (seconds 0.017))
    (:flags (sp-cpuinfo-flag-2 sp-cpuinfo-flag-3))
    (:rotate-y (degrees 0))
    )
  )

(defpart 1389
  :init-specs ((:texture (vol-light level-default-sprite))
    (:num 1.0)
    (:x (meters 0.4))
    (:y (meters 7.5))
    (:z (meters 3))
    (:scale-x (meters 3))
    (:rot-x (degrees 0))
    (:rot-y (degrees 0))
    (:rot-z (degrees 50.000004))
    (:scale-y (meters 6))
    (:r 64.0)
    (:g 64.0)
    (:b 128.0)
    (:a 80.0)
    (:timer (seconds 0.017))
    (:flags (sp-cpuinfo-flag-2 sp-cpuinfo-flag-3))
    (:rotate-y (degrees 0))
    )
  )

(defpart 1390
  :init-specs ((:texture (vol-light level-default-sprite))
    (:num 1.0)
    (:x (meters 0.5))
    (:y (meters 6.3))
    (:z (meters 3))
    (:scale-x (meters 4))
    (:rot-x (degrees 0))
    (:rot-y (degrees 0))
    (:rot-z (degrees -60))
    (:scale-y (meters 6))
    (:r 64.0)
    (:g 64.0)
    (:b 128.0)
    (:a 80.0)
    (:timer (seconds 0.017))
    (:flags (sp-cpuinfo-flag-2 sp-cpuinfo-flag-3))
    (:rotate-y (degrees 0))
    )
  )

(defpart 1391
  :init-specs ((:texture (vol-light level-default-sprite))
    (:num 1.0)
    (:x (meters -1.85))
    (:y (meters 10.9))
    (:z (meters 3))
    (:scale-x (meters 5))
    (:rot-x (degrees 0))
    (:rot-y (degrees 0))
    (:rot-z (degrees 20))
    (:scale-y (meters 6))
    (:r 64.0)
    (:g 64.0)
    (:b 128.0)
    (:a 80.0)
    (:timer (seconds 0.017))
    (:flags (sp-cpuinfo-flag-2 sp-cpuinfo-flag-3))
    (:rotate-y (degrees 0))
    )
  )

(defpart 1392
  :init-specs ((:texture (vol-light level-default-sprite))
    (:num 1.0)
    (:x (meters 0.8))
    (:y (meters 4))
    (:z (meters 3))
    (:scale-x (meters 6))
    (:rot-x (degrees 0))
    (:rot-y (degrees 0))
    (:rot-z (degrees 70))
    (:scale-y (meters 6))
    (:r 64.0)
    (:g 64.0)
    (:b 128.0)
    (:a 80.0)
    (:timer (seconds 0.017))
    (:flags (sp-cpuinfo-flag-2 sp-cpuinfo-flag-3))
    (:rotate-y (degrees 0))
    )
  )

(defpart 1393
  :init-specs ((:texture (vol-light level-default-sprite))
    (:num 1.0)
    (:x (meters 1.8))
    (:y (meters 4.5))
    (:z (meters 3))
    (:scale-x (meters 4))
    (:rot-x (degrees 0))
    (:rot-y (degrees 0))
    (:rot-z (degrees -60))
    (:scale-y (meters 6))
    (:r 64.0)
    (:g 64.0)
    (:b 128.0)
    (:a 80.0)
    (:timer (seconds 0.017))
    (:flags (sp-cpuinfo-flag-2 sp-cpuinfo-flag-3))
    (:rotate-y (degrees 0))
    )
  )

(defpart 1394
  :init-specs ((:texture (vol-light level-default-sprite))
    (:num 1.0)
    (:x (meters 1.5))
    (:y (meters 4))
    (:z (meters 3))
    (:scale-x (meters 4))
    (:rot-x (degrees 0))
    (:rot-y (degrees 0))
    (:rot-z (degrees 30))
    (:scale-y (meters 6))
    (:r 64.0)
    (:g 64.0)
    (:b 128.0)
    (:a 80.0)
    (:timer (seconds 0.017))
    (:flags (sp-cpuinfo-flag-2 sp-cpuinfo-flag-3))
    (:rotate-y (degrees 0))
    )
  )

(defpart 1395
  :init-specs ((:texture (vol-light level-default-sprite))
    (:num 1.0)
    (:x (meters -3))
    (:y (meters 5.3))
    (:z (meters 3))
    (:scale-x (meters 6))
    (:rot-x (degrees 0))
    (:rot-y (degrees 0))
    (:rot-z (degrees -61))
    (:scale-y (meters 6))
    (:r 64.0)
    (:g 64.0)
    (:b 128.0)
    (:a 80.0)
    (:timer (seconds 0.017))
    (:flags (sp-cpuinfo-flag-2 sp-cpuinfo-flag-3))
    (:rotate-y (degrees 0))
    )
  )

(defpart 1396
  :init-specs ((:texture (vol-light level-default-sprite))
    (:num 1.0)
    (:x (meters 2.6))
    (:y (meters 8))
    (:z (meters 3))
    (:scale-x (meters 6))
    (:rot-x (degrees 0))
    (:rot-y (degrees 0))
    (:rot-z (degrees -65))
    (:scale-y (meters 6))
    (:r 64.0)
    (:g 64.0)
    (:b 128.0)
    (:a 80.0)
    (:timer (seconds 0.017))
    (:flags (sp-cpuinfo-flag-2 sp-cpuinfo-flag-3))
    (:rotate-y (degrees 0))
    )
  )

(defpart 1397
  :init-specs ((:texture (vol-light level-default-sprite))
    (:num 1.0)
    (:x (meters -1.3))
    (:y (meters 20.6))
    (:z (meters 3))
    (:scale-x (meters 5))
    (:rot-x (degrees 0))
    (:rot-y (degrees 0))
    (:rot-z (degrees 56.000004))
    (:scale-y (meters 6))
    (:r 64.0)
    (:g 64.0)
    (:b 128.0)
    (:a 80.0)
    (:timer (seconds 0.017))
    (:flags (sp-cpuinfo-flag-2 sp-cpuinfo-flag-3))
    (:rotate-y (degrees 0))
    )
  )

(defpart 1398
  :init-specs ((:texture (vol-light level-default-sprite))
    (:num 1.0)
    (:x (meters -2.2))
    (:y (meters 17.9))
    (:z (meters 3))
    (:scale-x (meters 5.7))
    (:rot-x (degrees 0))
    (:rot-y (degrees 0))
    (:rot-z (degrees -18))
    (:scale-y (meters 6))
    (:r 64.0)
    (:g 64.0)
    (:b 128.0)
    (:a 80.0)
    (:timer (seconds 0.017))
    (:flags (sp-cpuinfo-flag-2 sp-cpuinfo-flag-3))
    (:rotate-y (degrees 0))
    )
  )

(defpart 1399
  :init-specs ((:texture (vol-light level-default-sprite))
    (:num 1.0)
    (:x (meters -7.8))
    (:y (meters 16.8))
    (:z (meters 3))
    (:scale-x (meters 6))
    (:rot-x (degrees 0))
    (:rot-y (degrees 0))
    (:rot-z (degrees 55))
    (:scale-y (meters 6))
    (:r 64.0)
    (:g 64.0)
    (:b 128.0)
    (:a 80.0)
    (:timer (seconds 0.017))
    (:flags (sp-cpuinfo-flag-2 sp-cpuinfo-flag-3))
    (:rotate-y (degrees 0))
    )
  )

(defpart 1400
  :init-specs ((:texture (vol-light level-default-sprite))
    (:num 1.0)
    (:x (meters 0))
    (:y (meters 16.5))
    (:z (meters 3))
    (:scale-x (meters 4))
    (:rot-x (degrees 0))
    (:rot-y (degrees 0))
    (:rot-z (degrees -50.000004))
    (:scale-y (meters 6))
    (:r 64.0)
    (:g 64.0)
    (:b 128.0)
    (:a 80.0)
    (:timer (seconds 0.017))
    (:flags (sp-cpuinfo-flag-2 sp-cpuinfo-flag-3))
    (:rotate-y (degrees 0))
    )
  )

(defpart 1401
  :init-specs ((:texture (vol-light level-default-sprite))
    (:num 1.0)
    (:x (meters -5.85))
    (:y (meters 20.9))
    (:z (meters 3))
    (:scale-x (meters 5))
    (:rot-x (degrees 0))
    (:rot-y (degrees 0))
    (:rot-z (degrees 80))
    (:scale-y (meters 6))
    (:r 64.0)
    (:g 64.0)
    (:b 128.0)
    (:a 80.0)
    (:timer (seconds 0.017))
    (:flags (sp-cpuinfo-flag-2 sp-cpuinfo-flag-3))
    (:rotate-y (degrees 0))
    )
  )

(defpart 1402
  :init-specs ((:texture (vol-light level-default-sprite))
    (:num 1.0)
    (:x (meters -3.8))
    (:y (meters 15))
    (:z (meters 3))
    (:scale-x (meters 6))
    (:rot-x (degrees 0))
    (:rot-y (degrees 0))
    (:rot-z (degrees 30))
    (:scale-y (meters 6))
    (:r 64.0)
    (:g 64.0)
    (:b 128.0)
    (:a 80.0)
    (:timer (seconds 0.017))
    (:flags (sp-cpuinfo-flag-2 sp-cpuinfo-flag-3))
    (:rotate-y (degrees 0))
    )
  )

(defpart 1403
  :init-specs ((:texture (vol-light level-default-sprite))
    (:num 1.0)
    (:x (meters -7))
    (:y (meters 14.6))
    (:z (meters 3))
    (:scale-x (meters 5))
    (:rot-x (degrees 0))
    (:rot-y (degrees 0))
    (:rot-z (degrees -20))
    (:scale-y (meters 6))
    (:r 64.0)
    (:g 64.0)
    (:b 128.0)
    (:a 80.0)
    (:timer (seconds 0.017))
    (:flags (sp-cpuinfo-flag-2 sp-cpuinfo-flag-3))
    (:rotate-y (degrees 0))
    )
  )

(defpart 1404
  :init-specs ((:texture (vol-light level-default-sprite))
    (:num 1.0)
    (:x (meters -5.5))
    (:y (meters 13))
    (:z (meters 3))
    (:scale-x (meters 6))
    (:rot-x (degrees 0))
    (:rot-y (degrees 0))
    (:rot-z (degrees -10))
    (:scale-y (meters 6))
    (:r 64.0)
    (:g 64.0)
    (:b 128.0)
    (:a 80.0)
    (:timer (seconds 0.017))
    (:flags (sp-cpuinfo-flag-2 sp-cpuinfo-flag-3))
    (:rotate-y (degrees 0))
    )
  )

(defpart 1405
  :init-specs ((:texture (vol-light level-default-sprite))
    (:num 1.0)
    (:x (meters -7.9))
    (:y (meters 14.2))
    (:z (meters 3))
    (:scale-x (meters 4))
    (:rot-x (degrees 0))
    (:rot-y (degrees 0))
    (:rot-z (degrees -60))
    (:scale-y (meters 6))
    (:r 64.0)
    (:g 64.0)
    (:b 128.0)
    (:a 80.0)
    (:timer (seconds 0.017))
    (:flags (sp-cpuinfo-flag-2 sp-cpuinfo-flag-3))
    (:rotate-y (degrees 0))
    )
  )

(defpart 1406
  :init-specs ((:texture (vol-light level-default-sprite))
    (:num 1.0)
    (:x (meters -2.8))
    (:y (meters 20))
    (:z (meters 3))
    (:scale-x (meters 5))
    (:rot-x (degrees 0))
    (:rot-y (degrees 0))
    (:rot-z (degrees -58))
    (:scale-y (meters 6))
    (:r 64.0)
    (:g 64.0)
    (:b 128.0)
    (:a 80.0)
    (:timer (seconds 0.017))
    (:flags (sp-cpuinfo-flag-2 sp-cpuinfo-flag-3))
    (:rotate-y (degrees 0))
    )
  )

(defpart 1407
  :init-specs ((:texture (vol-light level-default-sprite))
    (:num 1.0)
    (:x (meters 1.3))
    (:y (meters 20.6))
    (:z (meters 3))
    (:scale-x (meters 5))
    (:rot-x (degrees 0))
    (:rot-y (degrees 0))
    (:rot-z (degrees 56.000004))
    (:scale-y (meters 6))
    (:r 64.0)
    (:g 64.0)
    (:b 128.0)
    (:a 80.0)
    (:timer (seconds 0.017))
    (:flags (sp-cpuinfo-flag-2 sp-cpuinfo-flag-3))
    (:rotate-y (degrees 0))
    )
  )

(defpart 1408
  :init-specs ((:texture (vol-light level-default-sprite))
    (:num 1.0)
    (:x (meters 2.2))
    (:y (meters 17.9))
    (:z (meters 3))
    (:scale-x (meters 5.7))
    (:rot-x (degrees 0))
    (:rot-y (degrees 0))
    (:rot-z (degrees -18))
    (:scale-y (meters 6))
    (:r 64.0)
    (:g 64.0)
    (:b 128.0)
    (:a 80.0)
    (:timer (seconds 0.017))
    (:flags (sp-cpuinfo-flag-2 sp-cpuinfo-flag-3))
    (:rotate-y (degrees 0))
    )
  )

(defpart 1409
  :init-specs ((:texture (vol-light level-default-sprite))
    (:num 1.0)
    (:x (meters 7.8))
    (:y (meters 16.8))
    (:z (meters 3))
    (:scale-x (meters 6))
    (:rot-x (degrees 0))
    (:rot-y (degrees 0))
    (:rot-z (degrees 55))
    (:scale-y (meters 6))
    (:r 64.0)
    (:g 64.0)
    (:b 128.0)
    (:a 80.0)
    (:timer (seconds 0.017))
    (:flags (sp-cpuinfo-flag-2 sp-cpuinfo-flag-3))
    (:rotate-y (degrees 0))
    )
  )

(defpart 1410
  :init-specs ((:texture (vol-light level-default-sprite))
    (:num 1.0)
    (:x (meters 2))
    (:y (meters 16.5))
    (:z (meters 3))
    (:scale-x (meters 4))
    (:rot-x (degrees 0))
    (:rot-y (degrees 0))
    (:rot-z (degrees -50.000004))
    (:scale-y (meters 6))
    (:r 64.0)
    (:g 64.0)
    (:b 128.0)
    (:a 80.0)
    (:timer (seconds 0.017))
    (:flags (sp-cpuinfo-flag-2 sp-cpuinfo-flag-3))
    (:rotate-y (degrees 0))
    )
  )

(defpart 1411
  :init-specs ((:texture (vol-light level-default-sprite))
    (:num 1.0)
    (:x (meters 5.85))
    (:y (meters 20.9))
    (:z (meters 3))
    (:scale-x (meters 5))
    (:rot-x (degrees 0))
    (:rot-y (degrees 0))
    (:rot-z (degrees 80))
    (:scale-y (meters 6))
    (:r 64.0)
    (:g 64.0)
    (:b 128.0)
    (:a 80.0)
    (:timer (seconds 0.017))
    (:flags (sp-cpuinfo-flag-2 sp-cpuinfo-flag-3))
    (:rotate-y (degrees 0))
    )
  )

(defpart 1412
  :init-specs ((:texture (vol-light level-default-sprite))
    (:num 1.0)
    (:x (meters 3.8))
    (:y (meters 15))
    (:z (meters 3))
    (:scale-x (meters 6))
    (:rot-x (degrees 0))
    (:rot-y (degrees 0))
    (:rot-z (degrees 30))
    (:scale-y (meters 6))
    (:r 64.0)
    (:g 64.0)
    (:b 128.0)
    (:a 80.0)
    (:timer (seconds 0.017))
    (:flags (sp-cpuinfo-flag-2 sp-cpuinfo-flag-3))
    (:rotate-y (degrees 0))
    )
  )

(defpart 1413
  :init-specs ((:texture (vol-light level-default-sprite))
    (:num 1.0)
    (:x (meters 7))
    (:y (meters 14.6))
    (:z (meters 3))
    (:scale-x (meters 5))
    (:rot-x (degrees 0))
    (:rot-y (degrees 0))
    (:rot-z (degrees -20))
    (:scale-y (meters 6))
    (:r 64.0)
    (:g 64.0)
    (:b 128.0)
    (:a 80.0)
    (:timer (seconds 0.017))
    (:flags (sp-cpuinfo-flag-2 sp-cpuinfo-flag-3))
    (:rotate-y (degrees 0))
    )
  )

(defpart 1414
  :init-specs ((:texture (vol-light level-default-sprite))
    (:num 1.0)
    (:x (meters 5.5))
    (:y (meters 13))
    (:z (meters 3))
    (:scale-x (meters 6))
    (:rot-x (degrees 0))
    (:rot-y (degrees 0))
    (:rot-z (degrees -10))
    (:scale-y (meters 6))
    (:r 64.0)
    (:g 64.0)
    (:b 128.0)
    (:a 80.0)
    (:timer (seconds 0.017))
    (:flags (sp-cpuinfo-flag-2 sp-cpuinfo-flag-3))
    (:rotate-y (degrees 0))
    )
  )

(defpart 1415
  :init-specs ((:texture (vol-light level-default-sprite))
    (:num 1.0)
    (:x (meters 7.9))
    (:y (meters 14.2))
    (:z (meters 3))
    (:scale-x (meters 4))
    (:rot-x (degrees 0))
    (:rot-y (degrees 0))
    (:rot-z (degrees -60))
    (:scale-y (meters 6))
    (:r 64.0)
    (:g 64.0)
    (:b 128.0)
    (:a 80.0)
    (:timer (seconds 0.017))
    (:flags (sp-cpuinfo-flag-2 sp-cpuinfo-flag-3))
    (:rotate-y (degrees 0))
    )
  )

(defpart 1416
  :init-specs ((:texture (vol-light level-default-sprite))
    (:num 1.0)
    (:x (meters 2.8))
    (:y (meters 20))
    (:z (meters 3))
    (:scale-x (meters 5))
    (:rot-x (degrees 0))
    (:rot-y (degrees 0))
    (:rot-z (degrees -58))
    (:scale-y (meters 6))
    (:r 64.0)
    (:g 64.0)
    (:b 128.0)
    (:a 80.0)
    (:timer (seconds 0.017))
    (:flags (sp-cpuinfo-flag-2 sp-cpuinfo-flag-3))
    (:rotate-y (degrees 0))
    )
  )

(defpart 1417
  :init-specs ((:texture (dust-sparkle mhcitya-sprite))
    (:num 0.0 0.2)
    (:x (meters -9) (meters 18))
    (:y (meters 10) (meters 10))
    (:z (meters -4) (meters 8))
    (:scale-x (meters 2) (meters 2))
    (:scale-y :copy scale-x)
    (:r 80.0)
    (:g 60.0)
    (:b 255.0)
    (:a 0.0)
    (:fade-a 1.28)
    (:accel-y (meters -0.001))
    (:friction 0.95)
    (:timer (seconds 10))
    (:flags (sp-cpuinfo-flag-2))
    (:next-time (seconds 0.335))
    (:next-launcher 1418)
    )
  )

(defpart 1418
  :init-specs ((:fade-a -0.102 -0.102))
  )

(deftype mhcity-dark-eco-door (process-focusable)
  ((should-break?  symbol)
   (broken-door    handle)
   )
  (:state-methods
    idle
    cracked
    cracked-idle
    broken
    broken-idle
    )
  )


(defskelgroup skel-mhcity-dark-eco-door mhcity-dark-eco-door mhcity-dark-eco-door-lod0-jg mhcity-dark-eco-door-idle-ja
              ((mhcity-dark-eco-door-lod0-mg (meters 999999)))
              :bounds (static-spherem 0 10 0 22)
              )

(defskelgroup skel-mhcity-dark-eco-door-broken mhcity-dark-eco-door-break mhcity-dark-eco-door-break-lod0-jg mhcity-dark-eco-door-break-idle-ja
              ((mhcity-dark-eco-door-break-lod0-mg (meters 999999)))
              :bounds (static-spherem 0 10 0 22)
              )

(defmethod init-from-entity! ((this mhcity-dark-eco-door) (arg0 entity-actor))
  (let ((s4-0 (new 'process 'collide-shape this (collide-list-enum usually-hit-by-player))))
    (set! (-> s4-0 penetrated-by) (penetrate))
    (let ((v1-2 (new 'process 'collide-shape-prim-mesh s4-0 (the-as uint 0) (the-as uint 0))))
      (set! (-> v1-2 prim-core collide-as) (collide-spec obstacle))
      (set! (-> v1-2 prim-core collide-with)
            (collide-spec jak enemy vehicle-sphere hit-by-others-list player-list projectile tobot)
            )
      (set! (-> v1-2 prim-core action) (collide-action solid))
      (set! (-> v1-2 transform-index) 3)
      (set-vector! (-> v1-2 local-sphere) 0.0 40960.0 0.0 90112.0)
      (set! (-> s4-0 total-prims) (the-as uint 1))
      (set! (-> s4-0 root-prim) v1-2)
      )
    (set! (-> s4-0 nav-radius) (* 0.75 (-> s4-0 root-prim local-sphere w)))
    (let ((v1-5 (-> s4-0 root-prim)))
      (set! (-> s4-0 backup-collide-as) (-> v1-5 prim-core collide-as))
      (set! (-> s4-0 backup-collide-with) (-> v1-5 prim-core collide-with))
      )
    (set! (-> this root) s4-0)
    )
  (process-drawable-from-entity! this arg0)
  (set! (-> this broken-door) (the-as handle #f))
  (cond
    ((task-node-closed? (game-task-node city-destroy-darkeco-resolution))
     (process-entity-status! this (entity-perm-status dead) #t)
     (deactivate this)
     (go empty-state)
     )
    ((task-node-closed? (game-task-node city-destroy-darkeco-orbs))
     (initialize-skeleton
       this
       (the-as
         skeleton-group
         (art-group-get-by-name *level* "skel-mhcity-dark-eco-door" (the-as (pointer level) #f))
         )
       (the-as pair 0)
       )
     (let ((s5-2 (-> this skel status)))
       (logior! (-> this skel status) (joint-control-status sync-math))
       (ja-post)
       (update-transforms (-> this root))
       (set! (-> this skel status) s5-2)
       )
     (go (method-of-object this cracked))
     )
    (else
      (initialize-skeleton
        this
        (the-as
          skeleton-group
          (art-group-get-by-name *level* "skel-mhcity-dark-eco-door" (the-as (pointer level) #f))
          )
        (the-as pair 0)
        )
      (go (method-of-object this idle))
      )
    )
  )

(deftype mhcity-dark-eco-door-broken (process-drawable)
  ()
  (:state-methods
    crack
    shatter
    )
  )


(defbehavior mhcity-dark-eco-door-broken-init-by-other mhcity-dark-eco-door-broken ((arg0 process-drawable))
  (set! (-> self level) (level-get *level* 'mhcitya))
  (set! (-> self root) (new 'process 'trsqv))
  (set! (-> self root trans quad) (-> arg0 root trans quad))
  (quaternion-copy! (-> self root quat) (-> arg0 root quat))
  (initialize-skeleton
    self
    (the-as
      skeleton-group
      (art-group-get-by-name *level* "skel-mhcity-dark-eco-door-broken" (the-as (pointer level) #f))
      )
    (the-as pair 0)
    )
  (set! (-> self draw light-index) (the-as uint 10))
  (set! (-> self part) (create-launch-control (-> *part-group-id-table* 328) self))
  (go-virtual crack)
  )

(defstate crack (mhcity-dark-eco-door-broken)
  :virtual #t
  :event (behavior ((proc process) (argc int) (message symbol) (block event-message-block))
    (case message
      (('shatter)
       (go-virtual shatter)
       )
      )
    )
  :trans (behavior ()
    (let ((gp-0 (quaternion->matrix (new 'stack-no-clear 'matrix) (-> self root quat))))
      (matrix<-trans gp-0 (-> self root trans))
      (spawn-from-mat (-> self part) gp-0)
      )
    )
  :code (behavior ()
    (ja-no-eval :group! (-> self draw art-group data 3) :num! (seek! max 0.5) :frame-num 0.0)
    (until (ja-done? 0)
      (suspend)
      (ja :num! (seek! max 0.5))
      )
    (sleep-code)
    )
  :post ja-post
  )

(defstate shatter (mhcity-dark-eco-door-broken)
  :virtual #t
  :code (behavior ()
    (let ((v1-0 (new 'stack-no-clear 'vector)))
      (set! (-> v1-0 quad) (-> self root trans quad))
      (+! (-> v1-0 y) 40960.0)
      (cond
        ((logtest? (-> *part-group-id-table* 327 flags) (sp-group-flag sp13))
         (set! (-> *launch-matrix* trans quad) (-> v1-0 quad))
         (part-tracker-spawn part-tracker-subsampler :to *entity-pool* :group (-> *part-group-id-table* 327))
         )
        (else
          (set! (-> *launch-matrix* trans quad) (-> v1-0 quad))
          (part-tracker-spawn part-tracker :to *entity-pool* :group (-> *part-group-id-table* 327))
          )
        )
      )
    (ja-no-eval :group! (-> self draw art-group data 4) :num! (seek!) :frame-num 0.0)
    (until (ja-done? 0)
      (suspend)
      (ja :num! (seek!))
      )
    (logior! (-> self draw status) (draw-control-status no-draw))
    (suspend-for (seconds 0.5))
    (task-node-close! (game-task-node city-destroy-darkeco-resolution) 'event)
    (sleep-code)
    )
  :post ja-post
  )

(defstate broken-idle (mhcity-dark-eco-door)
  :virtual #t
  :enter (behavior ()
    (logior! (-> self draw status) (draw-control-status no-draw))
    (let ((v1-4 (-> self root root-prim)))
      (set! (-> v1-4 prim-core collide-as) (collide-spec))
      (set! (-> v1-4 prim-core collide-with) (collide-spec))
      )
    0
    )
  :code (behavior ()
    (transform-and-sleep-code)
    )
  :post ja-post
  )

(defstate idle (mhcity-dark-eco-door)
  :virtual #t
  :event (behavior ((proc process) (argc int) (message symbol) (block event-message-block))
    (case message
      (('break)
       (let ((v0-0 #t))
         (set! (-> self should-break?) v0-0)
         v0-0
         )
       )
      )
    )
  :code (behavior ()
    (set! (-> self should-break?) #f)
    (ja-channel-push! 1 0)
    (until #f
      ;; og:preserve-this somehow they put the "start" symbol in here
      ; (ja-no-eval :group! mhcity-dark-eco-door-idle-ja :num! (loop!) :frame-num (the-as float start))
      (ja-no-eval :group! mhcity-dark-eco-door-idle-ja :num! (loop!) :frame-num 0.0)
      (until #f
        (if (or (-> self should-break?) (task-node-closed? (game-task-node city-destroy-darkeco-orbs)))
            (goto cfg-9)
            )
        (ja :num! (loop!))
        (suspend)
        )
      #f
      (label cfg-9)
      (ja-channel-push! 1 (seconds 0.5))
      (ja :group! mhcity-dark-eco-door-idle-ja :num! (seek! 15.0) :frame-num 15.0)
      (suspend-for (seconds 0.5))
      (go-virtual cracked)
      )
    #f
    )
  :post transform-post
  )

(defstate cracked (mhcity-dark-eco-door)
  :virtual #t
  :enter (behavior ()
    (sound-play "door-crack")
    (logior! (-> self draw status) (draw-control-status no-draw))
    (let ((gp-1 (get-process *default-dead-pool* mhcity-dark-eco-door-broken #x4000 1)))
      (set! (-> self broken-door)
            (process->handle (-> (when gp-1
                                   (let ((t9-3 (method-of-type mhcity-dark-eco-door-broken activate)))
                                     (t9-3
                                       (the-as mhcity-dark-eco-door-broken gp-1)
                                       self
                                       "mhcity-dark-eco-door-broken"
                                       (the-as pointer #x70004000)
                                       )
                                     )
                                   (run-now-in-process gp-1 mhcity-dark-eco-door-broken-init-by-other self)
                                   (-> gp-1 ppointer)
                                   )
                                 0
                                 )
                             )
            )
      )
    (go-virtual cracked-idle)
    )
  :code sleep-code
  :post transform-post
  )

(defstate cracked-idle (mhcity-dark-eco-door)
  :virtual #t
  :event (behavior ((proc process) (argc int) (message symbol) (block event-message-block))
    (case message
      (('attack)
       (let ((a0-2 (the-as object (-> block param 1))))
         (if (logtest? (penetrate dark-smack) (-> (the-as attack-info a0-2) penetrate-using))
             (go-virtual broken)
             )
         )
       )
      )
    )
  :enter (behavior ()
    (ja-channel-push! 1 0)
    (ja :group! mhcity-dark-eco-door-idle-ja :num! (seek! 15.0) :frame-num 15.0)
    )
  :code sleep-code
  :post ja-post
  )

(defstate broken (mhcity-dark-eco-door)
  :virtual #t
  :enter (behavior ()
    (sound-play "door-explode")
    (logior! (-> self draw status) (draw-control-status no-draw))
    (send-event (handle->process (-> self broken-door)) 'shatter)
    (let ((v1-11 (-> self root root-prim)))
      (set! (-> v1-11 prim-core collide-as) (collide-spec))
      (set! (-> v1-11 prim-core collide-with) (collide-spec))
      )
    0
    )
  :code transform-and-sleep-code
  :post ja-post
  )

(defskelgroup skel-mhcity-puffer mhcity-puffer mhcity-puffer-lod0-jg mhcity-puffer-idle-ja
              ((mhcity-puffer-lod0-mg (meters 999999)))
              :bounds (static-spherem 0 0 0 3)
              )

(deftype mhcity-lump (process-hidden)
  ()
  )


(deftype mhcity-dark-eco-nodule (process-drawable)
  ()
  (:state-methods
    idle
    explode
    )
  )


(defskelgroup skel-mhcity-dark-eco-nodule mhcity-dark-eco-nodule mhcity-dark-eco-nodule-lod0-jg mhcity-dark-eco-nodule-idle-ja
              ((mhcity-dark-eco-nodule-lod0-mg (meters 999999)))
              :bounds (static-spherem 0 0 0 4)
              )

(define *darkeco-nodule-task-nodes* (the-as array (new 'static 'boxed-array :type uint16)))

(defmethod init-from-entity! ((this mhcity-dark-eco-nodule) (arg0 entity-actor))
  (set! (-> this root) (new 'process 'trsqv))
  (initialize-skeleton
    this
    (the-as
      skeleton-group
      (art-group-get-by-name *level* "skel-mhcity-dark-eco-nodule" (the-as (pointer level) #f))
      )
    (the-as pair 0)
    )
  (process-drawable-from-entity! this arg0)
  (set! (-> this entity) arg0)
  (logclear! (-> this mask) (process-mask actor-pause))
  (setup-masks (-> this draw) 0 1)
  (res-lump-value arg0 'behavior-type uint128 :time -1000000000.0)
  (cond
    ((task-node-closed? (game-task-node city-destroy-darkeco-resolution))
     (process-entity-status! this (entity-perm-status dead) #t)
     (deactivate this)
     )
    (else
      (go (method-of-object this idle))
      )
    )
  )

(defmethod run-logic? ((this mhcity-dark-eco-nodule))
  "Should this process be run? Checked by execute-process-tree."
  #t
  )

(defstate idle (mhcity-dark-eco-nodule)
  :virtual #t
  :event (behavior ((proc process) (argc int) (message symbol) (block event-message-block))
    (case message
      (('explode)
       (go-virtual explode)
       #t
       )
      )
    )
  :code (behavior ()
    (ja-channel-push! 1 0)
    (until #f
      (ja-no-eval :group! mhcity-dark-eco-nodule-idle-ja :num! (seek!) :frame-num 0.0)
      (until (ja-done? 0)
        (suspend)
        (ja :num! (seek!))
        )
      )
    #f
    )
  :post ja-post
  )

(defstate explode (mhcity-dark-eco-nodule)
  :virtual #t
  :code (behavior ()
    (sound-play "egg-explode")
    (cond
      ((logtest? (-> *part-group-id-table* 326 flags) (sp-group-flag sp13))
       (set! (-> *launch-matrix* trans quad) (-> self root trans quad))
       (part-tracker-spawn part-tracker-subsampler :to *entity-pool* :group (-> *part-group-id-table* 326))
       )
      (else
        (set! (-> *launch-matrix* trans quad) (-> self root trans quad))
        (part-tracker-spawn part-tracker :to *entity-pool* :group (-> *part-group-id-table* 326))
        )
      )
    (suspend-for (seconds 0.1))
    (process-entity-status! self (entity-perm-status dead) #t)
    )
  :post ja-post
  )

(deftype mhcity-ambient-killable (process-focusable)
  ((hit-points      float)
   (drop-type       int32)
   (drop-amount     float)
   (sphere-size     float)
   (last-attack-id  uint32)
   )
  (:state-methods
    die-hidden
    )
  (:methods
    (init-collision! (_type_) none)
    (init-fields! (_type_) none)
    )
  )


(defbehavior mhcity-ambient-killable-event-handler mhcity-ambient-killable ((arg0 process) (arg1 int) (arg2 symbol) (arg3 event-message-block))
  (case arg2
    (('attack)
     (let ((v1-1 (the-as attack-info (-> arg3 param 1))))
       (when (!= (-> v1-1 id) (-> self last-attack-id))
         (set! (-> self last-attack-id) (-> v1-1 id))
         (let ((f0-1 (if (logtest? (attack-mask damage) (-> v1-1 mask))
                         (-> v1-1 damage)
                         (penetrate-using->damage (-> v1-1 penetrate-using))
                         )
                     )
               )
           (set! (-> self hit-points) (- (-> self hit-points) f0-1))
           )
         (if (>= 0.0 (-> self hit-points))
             (go-virtual die-hidden)
             )
         )
       )
     )
    )
  )

;; WARN: Return type mismatch float vs none.
(defmethod init-fields! ((this mhcity-ambient-killable))
  (set! (-> this sphere-size) 4096.0)
  (set! (-> this hit-points) 1.0)
  (set! (-> this drop-type) 7)
  (set! (-> this drop-amount) 1.0)
  (none)
  )

(defstate die-hidden (mhcity-ambient-killable)
  :virtual #t
  :enter (behavior ()
    (sound-play "egg-explode")
    (cond
      ((logtest? (-> *part-group-id-table* 325 flags) (sp-group-flag sp13))
       (set! (-> *launch-matrix* trans quad) (-> self root trans quad))
       (part-tracker-spawn part-tracker-subsampler :to *entity-pool* :group (-> *part-group-id-table* 325))
       )
      (else
        (set! (-> *launch-matrix* trans quad) (-> self root trans quad))
        (part-tracker-spawn part-tracker :to *entity-pool* :group (-> *part-group-id-table* 325))
        )
      )
    (logior! (-> self draw status) (draw-control-status no-draw))
    (let ((v1-37 (-> self root root-prim)))
      (set! (-> v1-37 prim-core collide-as) (collide-spec))
      (set! (-> v1-37 prim-core collide-with) (collide-spec))
      )
    0
    (transform-post)
    (birth-pickup-at-point
      (-> self root trans)
      (the-as pickup-type (-> self drop-type))
      (-> self drop-amount)
      #t
      *entity-pool*
      (the-as fact-info #f)
      )
    )
  :code sleep-code
  )

;; WARN: Return type mismatch int vs search-info-flag.
(defmethod process-mask->search-info-flag ((this mhcity-ambient-killable))
  (the-as search-info-flag 2)
  )

;; WARN: Return type mismatch collide-shape vs none.
(defmethod init-collision! ((this mhcity-ambient-killable))
  (let ((s5-0 (new 'process 'collide-shape this (collide-list-enum usually-hit-by-player))))
    (set! (-> s5-0 penetrated-by) (penetrate
                                    generic-attack
                                    lunge
                                    flop
                                    punch
                                    spin
                                    roll
                                    uppercut
                                    bonk
                                    tube
                                    flut-attack
                                    board
                                    mech-punch
                                    dark-punch
                                    dark-smack
                                    flut
                                    )
          )
    (let ((v1-3 (new 'process 'collide-shape-prim-sphere s5-0 (the-as uint 0))))
      (set! (-> v1-3 prim-core collide-as) (collide-spec crate))
      (set! (-> v1-3 prim-core collide-with)
            (collide-spec jak vehicle-sphere hit-by-player-list hit-by-others-list player-list projectile)
            )
      (set! (-> v1-3 prim-core action) (collide-action solid))
      (set-vector! (-> v1-3 local-sphere) 0.0 0.0 0.0 (-> this sphere-size))
      (set! (-> s5-0 total-prims) (the-as uint 1))
      (set! (-> s5-0 root-prim) v1-3)
      )
    (set! (-> s5-0 nav-radius) (* 0.75 (-> s5-0 root-prim local-sphere w)))
    (let ((v1-6 (-> s5-0 root-prim)))
      (set! (-> s5-0 backup-collide-as) (-> v1-6 prim-core collide-as))
      (set! (-> s5-0 backup-collide-with) (-> v1-6 prim-core collide-with))
      )
    (set! (-> this root) s5-0)
    )
  (none)
  )

(deftype mhcity-vein-writhing-large (mhcity-ambient-killable)
  ()
  (:state-methods
    idle
    )
  )


(defskelgroup skel-mhcity-vein-writhing-large mhcity-vein-writhing-large mhcity-vein-writhing-large-lod0-jg mhcity-vein-writhing-large-idle-ja
              ((mhcity-vein-writhing-large-lod0-mg (meters 999999)))
              :bounds (static-spherem 0 0 0 4)
              )

(defmethod init-from-entity! ((this mhcity-vein-writhing-large) (arg0 entity-actor))
  (init-fields! this)
  (init-collision! this)
  (initialize-skeleton
    this
    (the-as
      skeleton-group
      (art-group-get-by-name *level* "skel-mhcity-vein-writhing-large" (the-as (pointer level) #f))
      )
    (the-as pair 0)
    )
  (process-drawable-from-entity! this arg0)
  (logclear! (-> this mask) (process-mask actor-pause))
  (go (method-of-object this idle))
  )

(defstate idle (mhcity-vein-writhing-large)
  :virtual #t
  :event mhcity-ambient-killable-event-handler
  :code (behavior ()
    (until #f
      (ja-channel-push! 1 (seconds 0.25))
      (ja-no-eval :group! mhcity-vein-writhing-large-idle-ja :num! (seek! max 0.25) :frame-num 0.0)
      (until (ja-done? 0)
        (suspend)
        (ja :num! (seek! max 0.25))
        )
      )
    #f
    )
  :post ja-post
  )

(deftype mhcity-vein-writhing-small (mhcity-ambient-killable)
  ()
  (:state-methods
    idle
    )
  )


(defskelgroup skel-mhcity-vein-writhing-small mhcity-vein-writhing-small mhcity-vein-writhing-small-lod0-jg mhcity-vein-writhing-small-idle-ja
              ((mhcity-vein-writhing-small-lod0-mg (meters 999999)))
              :bounds (static-spherem 0 0 0 4)
              )

(defmethod init-from-entity! ((this mhcity-vein-writhing-small) (arg0 entity-actor))
  (init-fields! this)
  (init-collision! this)
  (initialize-skeleton
    this
    (the-as
      skeleton-group
      (art-group-get-by-name *level* "skel-mhcity-vein-writhing-small" (the-as (pointer level) #f))
      )
    (the-as pair 0)
    )
  (process-drawable-from-entity! this arg0)
  (logclear! (-> this mask) (process-mask actor-pause))
  (go (method-of-object this idle))
  )

(defstate idle (mhcity-vein-writhing-small)
  :virtual #t
  :event mhcity-ambient-killable-event-handler
  :code (behavior ()
    (until #f
      (ja-channel-push! 1 (seconds 0.25))
      (ja-no-eval :group! mhcity-vein-writhing-small-idle-ja :num! (seek! max 0.25) :frame-num 0.0)
      (until (ja-done? 0)
        (suspend)
        (ja :num! (seek! max 0.25))
        )
      )
    #f
    )
  :post ja-post
  )

(deftype mhcity-claw-finger-small (mhcity-ambient-killable)
  ((twitch-speed          float)
   (twitch-angle-current  float)
   (twitch-angle-dest     float)
   (base-quat             quaternion  :inline)
   (jitter-count          int8)
   )
  (:state-methods
    idle
    )
  )


(defskelgroup skel-mhcity-claw-finger-small mhcity-claw-finger-small mhcity-claw-finger-small-lod0-jg mhcity-claw-finger-small-idle-ja
              ((mhcity-claw-finger-small-lod0-mg (meters 999999)))
              :bounds (static-spherem 0 0 0 4)
              )

(defmethod init-from-entity! ((this mhcity-claw-finger-small) (arg0 entity-actor))
  (set! (-> this sphere-size) 12288.0)
  (set! (-> this hit-points) 1.0)
  (set! (-> this drop-type) 7)
  (set! (-> this drop-amount) 2.0)
  (init-collision! this)
  (initialize-skeleton
    this
    (the-as
      skeleton-group
      (art-group-get-by-name *level* "skel-mhcity-claw-finger-small" (the-as (pointer level) #f))
      )
    (the-as pair 0)
    )
  (process-drawable-from-entity! this arg0)
  (logclear! (-> this mask) (process-mask actor-pause))
  (go (method-of-object this idle))
  )

(defstate idle (mhcity-claw-finger-small)
  :virtual #t
  :event mhcity-ambient-killable-event-handler
  :enter (behavior ()
    (quaternion-copy! (-> self base-quat) (-> self root quat))
    (set! (-> self twitch-angle-current) (-> self twitch-angle-dest))
    )
  :trans (behavior ()
    (set! (-> self twitch-angle-current) (deg-seek
                                           (-> self twitch-angle-current)
                                           (-> self twitch-angle-dest)
                                           (* (-> self twitch-speed) (seconds-per-frame))
                                           )
          )
    (quaternion-rotate-local-y! (-> self root quat) (-> self base-quat) (-> self twitch-angle-current))
    (when (= (the int (-> self twitch-angle-current)) (the int (-> self twitch-angle-dest)))
      (let ((gp-0 (or (> (-> self jitter-count) 0)
                      (>= (mod (the-as int (rand-uint31-gen *random-generator*)) 9) 7)
                      (< (vector-vector-xz-distance (-> self root trans) (target-pos 0)) 53248.0)
                      )
                  )
            )
        (let* ((f30-0 -1820.4445)
               (f28-0 10012.444)
               (v1-11 (/ (the-as int (rand-uint31-gen *random-generator*)) 256))
               (v1-12 (the-as number (logior #x3f800000 v1-11)))
               )
          (set! (-> self twitch-angle-dest) (+ f30-0 (* f28-0 (+ -1.0 (the-as float v1-12)))))
          )
        (cond
          ((not gp-0)
           (let* ((f30-1 2730.6667)
                  (f28-1 3640.889)
                  (v1-17 (/ (the-as int (rand-uint31-gen *random-generator*)) 256))
                  (v1-18 (the-as number (logior #x3f800000 v1-17)))
                  )
             (set! (-> self twitch-speed) (+ f30-1 (* f28-1 (+ -1.0 (the-as float v1-18)))))
             )
           (cond
             ((< (-> self twitch-angle-current) 1820.4445)
              (let* ((f30-2 4551.1113)
                     (f28-2 3640.8887)
                     (v1-24 (/ (the-as int (rand-uint31-gen *random-generator*)) 256))
                     (v1-25 (the-as number (logior #x3f800000 v1-24)))
                     )
                (set! (-> self twitch-angle-dest) (+ f30-2 (* f28-2 (+ -1.0 (the-as float v1-25)))))
                )
              )
             (else
               (let* ((f30-3 -1820.4445)
                      (f28-3 2730.6667)
                      (v1-30 (/ (the-as int (rand-uint31-gen *random-generator*)) 256))
                      (v1-31 (the-as number (logior #x3f800000 v1-30)))
                      )
                 (set! (-> self twitch-angle-dest) (+ f30-3 (* f28-3 (+ -1.0 (the-as float v1-31)))))
                 )
               )
             )
           )
          (else
            (cond
              ((< (-> self twitch-angle-current) 0.0)
               (let* ((f30-4 910.2222)
                      (f28-4 1820.4446)
                      (v1-36 (/ (the-as int (rand-uint31-gen *random-generator*)) 256))
                      (v1-37 (the-as number (logior #x3f800000 v1-36)))
                      )
                 (set! (-> self twitch-angle-dest) (+ f30-4 (* f28-4 (+ -1.0 (the-as float v1-37)))))
                 )
               )
              (else
                (let* ((f30-5 -2730.6667)
                       (f28-5 1820.4446)
                       (v1-43 (/ (the-as int (rand-uint31-gen *random-generator*)) 256))
                       (v1-44 (the-as number (logior #x3f800000 v1-43)))
                       )
                  (set! (-> self twitch-angle-dest) (+ f30-5 (* f28-5 (+ -1.0 (the-as float v1-44)))))
                  )
                )
              )
            (if (<= (-> self jitter-count) 0)
                (set! (-> self jitter-count) (+ (mod (the-as int (rand-uint31-gen *random-generator*)) 3) 2))
                )
            (let* ((f30-6 12743.111)
                   (f28-6 3640.8887)
                   (v1-55 (/ (the-as int (rand-uint31-gen *random-generator*)) 256))
                   (v1-56 (the-as number (logior #x3f800000 v1-55)))
                   )
              (set! (-> self twitch-speed) (+ f30-6 (* f28-6 (+ -1.0 (the-as float v1-56)))))
              )
            (+! (-> self jitter-count) -1)
            )
          )
        )
      )
    )
  :code sleep-code
  :post ja-post
  )

(deftype mhcity-twitch-blade (process-drawable)
  ()
  (:state-methods
    idle
    )
  )


(defskelgroup skel-mhcity-twitch-blade mhcity-twitch-blade mhcity-twitch-blade-lod0-jg mhcity-twitch-blade-idle-ja
              ((mhcity-twitch-blade-lod0-mg (meters 999999)))
              :bounds (static-spherem 0 0 0 4)
              )

(defstate idle (mhcity-twitch-blade)
  :virtual #t
  :code (behavior ()
    (until #f
      (ja-no-eval :group! (ja-group) :num! (seek!) :frame-num 0.0)
      (until (ja-done? 0)
        (suspend)
        (ja :num! (seek!))
        )
      )
    #f
    )
  :post ja-post
  )

(defmethod init-from-entity! ((this mhcity-twitch-blade) (arg0 entity-actor))
  (set! (-> this root) (new 'process 'trsqv))
  (process-drawable-from-entity! this arg0)
  (initialize-skeleton
    this
    (the-as skeleton-group (art-group-get-by-name *level* "skel-mhcity-twitch-blade" (the-as (pointer level) #f)))
    (the-as pair 0)
    )
  (go (method-of-object this idle))
  )

(deftype mhcity-vine-wriggler (mhcity-ambient-killable)
  ()
  (:state-methods
    idle
    )
  )


(defskelgroup skel-mhcity-vine-wriggler mhcity-vine-wriggler mhcity-vine-wriggler-lod0-jg mhcity-vine-wriggler-idle-ja
              ((mhcity-vine-wriggler-lod0-mg (meters 999999)))
              :bounds (static-spherem 0 0 0 4)
              )

(defstate idle (mhcity-vine-wriggler)
  :virtual #t
  :event mhcity-ambient-killable-event-handler
  :code (behavior ()
    (until #f
      (ja-no-eval :group! (ja-group) :num! (seek!) :frame-num 0.0)
      (until (ja-done? 0)
        (suspend)
        (ja :num! (seek!))
        )
      )
    #f
    )
  :post ja-post
  )

(defmethod init-from-entity! ((this mhcity-vine-wriggler) (arg0 entity-actor))
  (init-fields! this)
  (init-collision! this)
  (process-drawable-from-entity! this arg0)
  (initialize-skeleton
    this
    (the-as
      skeleton-group
      (art-group-get-by-name *level* "skel-mhcity-vine-wriggler" (the-as (pointer level) #f))
      )
    (the-as pair 0)
    )
  (transform-post)
  (go (method-of-object this idle))
  )

(deftype mhcity-vine-wriggler-big (mhcity-ambient-killable)
  ()
  (:state-methods
    idle
    )
  )


(defskelgroup skel-mhcity-vine-wriggler-big mhcity-vine-wriggler-big mhcity-vine-wriggler-big-lod0-jg mhcity-vine-wriggler-big-idle-ja
              ((mhcity-vine-wriggler-big-lod0-mg (meters 999999)))
              :bounds (static-spherem 0 0 0 8)
              )

(defstate idle (mhcity-vine-wriggler-big)
  :virtual #t
  :event mhcity-ambient-killable-event-handler
  :code (behavior ()
    (until #f
      (ja-no-eval :group! (ja-group) :num! (seek!) :frame-num 0.0)
      (until (ja-done? 0)
        (suspend)
        (ja :num! (seek!))
        )
      )
    #f
    )
  :post ja-post
  )

(defmethod init-from-entity! ((this mhcity-vine-wriggler-big) (arg0 entity-actor))
  (init-fields! this)
  (init-collision! this)
  (process-drawable-from-entity! this arg0)
  (initialize-skeleton
    this
    (the-as
      skeleton-group
      (art-group-get-by-name *level* "skel-mhcity-vine-wriggler-big" (the-as (pointer level) #f))
      )
    (the-as pair 0)
    )
  (transform-post)
  (go (method-of-object this idle))
  )

(deftype mhcity-de-tower-undervines (mhcity-ambient-killable)
  ()
  (:state-methods
    idle
    )
  )


(defskelgroup skel-mhcity-de-tower-undervines mhcity-de-tower-undervines 0 2
              ((1 (meters 999999)))
              :bounds (static-spherem 0 0 0 8)
              )

(defstate idle (mhcity-de-tower-undervines)
  :virtual #t
  :event mhcity-ambient-killable-event-handler
  :code (behavior ()
    (until #f
      (ja-no-eval :group! (ja-group) :num! (seek!) :frame-num 0.0)
      (until (ja-done? 0)
        (suspend)
        (ja :num! (seek!))
        )
      )
    #f
    )
  :post ja-post
  )

(defmethod init-from-entity! ((this mhcity-de-tower-undervines) (arg0 entity-actor))
  (init-fields! this)
  (init-collision! this)
  (process-drawable-from-entity! this arg0)
  (initialize-skeleton
    this
    (the-as
      skeleton-group
      (art-group-get-by-name *level* "skel-mhcity-de-tower-undervines" (the-as (pointer level) #f))
      )
    (the-as pair 0)
    )
  (transform-post)
  (go (method-of-object this idle))
  )

(deftype mhcity-grunt-egg-c (mhcity-ambient-killable)
  ()
  (:state-methods
    idle
    )
  )


(defskelgroup skel-mhcity-grunt-egg-c mhcity-grunt-egg-c mhcity-grunt-egg-c-lod0-jg mhcity-grunt-egg-c-idle-ja
              ((mhcity-grunt-egg-c-lod0-mg (meters 999999)))
              :bounds (static-spherem 0 0 0 8)
              )

(defstate idle (mhcity-grunt-egg-c)
  :virtual #t
  :event mhcity-ambient-killable-event-handler
  :code (behavior ()
    (until #f
      (ja-no-eval :group! (ja-group) :num! (seek!) :frame-num 0.0)
      (until (ja-done? 0)
        (suspend)
        (ja :num! (seek!))
        )
      )
    #f
    )
  :post ja-post
  )

(defmethod init-from-entity! ((this mhcity-grunt-egg-c) (arg0 entity-actor))
  (init-fields! this)
  (init-collision! this)
  (process-drawable-from-entity! this arg0)
  (initialize-skeleton
    this
    (the-as skeleton-group (art-group-get-by-name *level* "skel-mhcity-grunt-egg-c" (the-as (pointer level) #f)))
    (the-as pair 0)
    )
  (transform-post)
  (go (method-of-object this idle))
  )

(deftype mhcity-grunt-egg-b (mhcity-ambient-killable)
  ()
  (:state-methods
    idle
    )
  )


(defskelgroup skel-mhcity-grunt-egg-b mhcity-grunt-egg-b mhcity-grunt-egg-b-lod0-jg mhcity-grunt-egg-b-idle-ja
              ((mhcity-grunt-egg-b-lod0-mg (meters 999999)))
              :bounds (static-spherem 0 0 0 8)
              )

(defstate idle (mhcity-grunt-egg-b)
  :virtual #t
  :event mhcity-ambient-killable-event-handler
  :code (behavior ()
    (until #f
      (ja-no-eval :group! (ja-group) :num! (seek!) :frame-num 0.0)
      (until (ja-done? 0)
        (suspend)
        (ja :num! (seek!))
        )
      )
    #f
    )
  :post ja-post
  )

(defmethod init-from-entity! ((this mhcity-grunt-egg-b) (arg0 entity-actor))
  (init-fields! this)
  (init-collision! this)
  (process-drawable-from-entity! this arg0)
  (initialize-skeleton
    this
    (the-as skeleton-group (art-group-get-by-name *level* "skel-mhcity-grunt-egg-b" (the-as (pointer level) #f)))
    (the-as pair 0)
    )
  (transform-post)
  (go (method-of-object this idle))
  )

(deftype mhcity-grunt-egg-d (mhcity-ambient-killable)
  ()
  (:state-methods
    idle
    )
  )


(defskelgroup skel-mhcity-grunt-egg-d mhcity-grunt-egg-d 0 3
              ((1 (meters 999999)))
              :bounds (static-spherem 0 0 0 8)
              )

(defstate idle (mhcity-grunt-egg-d)
  :virtual #t
  :event mhcity-ambient-killable-event-handler
  :code (behavior ()
    (until #f
      (ja-no-eval :group! (ja-group) :num! (seek!) :frame-num 0.0)
      (until (ja-done? 0)
        (suspend)
        (ja :num! (seek!))
        )
      )
    #f
    )
  :post ja-post
  )

(defmethod init-from-entity! ((this mhcity-grunt-egg-d) (arg0 entity-actor))
  (init-fields! this)
  (init-collision! this)
  (process-drawable-from-entity! this arg0)
  (initialize-skeleton
    this
    (the-as skeleton-group (art-group-get-by-name *level* "skel-mhcity-grunt-egg-d" (the-as (pointer level) #f)))
    (the-as pair 0)
    )
  (transform-post)
  (go (method-of-object this idle))
  )

(deftype mhcity-grunt-egg-a (mhcity-ambient-killable)
  ()
  (:state-methods
    idle
    )
  )


(defskelgroup skel-mhcity-grunt-egg-a mhcity-grunt-egg-a 0 3
              ((1 (meters 999999)))
              :bounds (static-spherem 0 0 0 8)
              )

(defstate idle (mhcity-grunt-egg-a)
  :virtual #t
  :event mhcity-ambient-killable-event-handler
  :code (behavior ()
    (until #f
      (ja-no-eval :group! (ja-group) :num! (seek!) :frame-num 0.0)
      (until (ja-done? 0)
        (suspend)
        (ja :num! (seek!))
        )
      )
    #f
    )
  :post ja-post
  )

(defmethod init-from-entity! ((this mhcity-grunt-egg-a) (arg0 entity-actor))
  (init-fields! this)
  (init-collision! this)
  (process-drawable-from-entity! this arg0)
  (initialize-skeleton
    this
    (the-as skeleton-group (art-group-get-by-name *level* "skel-mhcity-grunt-egg-a" (the-as (pointer level) #f)))
    (the-as pair 0)
    )
  (transform-post)
  (go (method-of-object this idle))
  )

(deftype curve-bubbles-Shape (process-hidden)
  ()
  )


(deftype mhcity-tower-door (process-drawable)
  ()
  (:state-methods
    idle
    )
  )


(defskelgroup skel-mhcity-tower-door mhcity-tower-door mhcity-tower-door-lod0-jg mhcity-tower-door-idle-ja
              ((mhcity-tower-door-lod0-mg (meters 999999)))
              :bounds (static-spherem 5.5 10 0 10.5)
              :origin-joint-index 3
              )

(defstate idle (mhcity-tower-door)
  :virtual #t
  :code (behavior ()
    (until #f
      (ja-no-eval :group! (ja-group) :num! (seek!) :frame-num 0.0)
      (until (ja-done? 0)
        (suspend)
        (ja :num! (seek!))
        )
      )
    #f
    )
  :post ja-post
  )

(defmethod init-from-entity! ((this mhcity-tower-door) (arg0 entity-actor))
  (let ((s4-0 (new 'process 'collide-shape this (collide-list-enum usually-hit-by-player))))
    (let ((v1-2 (new 'process 'collide-shape-prim-mesh s4-0 (the-as uint 0) (the-as uint 0))))
      (set! (-> v1-2 prim-core collide-as) (collide-spec obstacle))
      (set! (-> v1-2 prim-core collide-with) (collide-spec jak hit-by-others-list player-list))
      (set! (-> v1-2 prim-core action) (collide-action solid))
      (set! (-> v1-2 transform-index) 3)
      (set-vector! (-> v1-2 local-sphere) 22528.0 40960.0 0.0 43008.0)
      (set! (-> s4-0 total-prims) (the-as uint 1))
      (set! (-> s4-0 root-prim) v1-2)
      )
    (set! (-> s4-0 nav-radius) (* 0.75 (-> s4-0 root-prim local-sphere w)))
    (let ((v1-5 (-> s4-0 root-prim)))
      (set! (-> s4-0 backup-collide-as) (-> v1-5 prim-core collide-as))
      (set! (-> s4-0 backup-collide-with) (-> v1-5 prim-core collide-with))
      )
    (set! (-> s4-0 event-self) 'touched)
    (set! (-> this root) s4-0)
    )
  (process-drawable-from-entity! this arg0)
  (initialize-skeleton
    this
    (the-as skeleton-group (art-group-get-by-name *level* "skel-mhcity-tower-door" (the-as (pointer level) #f)))
    (the-as pair 0)
    )
  (when (task-node-closed? (game-task-node city-blow-tower-resolution))
    (cleanup-for-death this)
    (deactivate this)
    )
  (go (method-of-object this idle))
  )
