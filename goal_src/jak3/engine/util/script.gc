;;-*-Lisp-*-
(in-package goal)

;; name: script.gc
;; name in dgo: script
;; dgos: GAME

(defun command-get-float ((arg0 object) (arg1 float))
  (cond
    ((null? arg0)
     (empty)
     arg1
     )
    ((type? arg0 binteger)
     (the float (/ (the-as int arg0) 8))
     )
    ((type? arg0 bfloat)
     (-> (the-as bfloat arg0) data)
     )
    (else
      (empty)
      arg1
      )
    )
  )

(defun command-get-int ((arg0 object) (arg1 int))
  (cond
    ((null? arg0)
     (empty)
     arg1
     )
    ((type? arg0 binteger)
     (the-as int (/ (the-as int arg0) 8))
     )
    ((type? arg0 bfloat)
     (the int (-> (the-as bfloat arg0) data))
     )
    (else
      (empty)
      arg1
      )
    )
  )
;; DECOMP BEGINS

(defmethod eval! script-context ((obj script-context) (arg0 pair))
  (the object #f)
  )