;;-*-Lisp-*-
(in-package goal)

;; name: mood-h.gc
;; name in dgo: mood-h
;; dgos: GAME

;; temporary: remove these once mood-h is decompiled fully:

(deftype mood-fog (structure)
  ((fog-color   vector :inline)
   (fog-dists   vector :inline)
   (fog-start   meters :overlay-at (-> fog-dists x))
   (fog-end     meters :overlay-at (-> fog-dists y))
   (fog-max     float  :overlay-at (-> fog-dists z))
   (fog-min     float  :overlay-at (-> fog-dists w))
   (erase-color vector :inline)
   )
  )
(deftype mood-range (structure)
  ((data      float   4 :offset-assert 0)
   (min-cloud float     :offset 0)
   (max-cloud float     :offset 4)
   (min-fog   float     :offset 8)
   (max-fog   float     :offset 12)
   (quad      uint128   :offset 0)
   )
  )
(deftype mood-context-core (structure)
  ((current-fog          mood-fog :inline)
   (current-sky-color    vector   :inline)
   (current-env-color    vector   :inline)
   (current-prt-color    vector   :inline)
   (current-shadow-color vector   :inline)
   )
  )
(deftype mood-context-core2 (mood-context-core)
  ((light-group light-group 8 :inline)
   )
  )
(deftype mood-context-core3 (mood-context-core2)
  ((times vector 8 :inline)
   )
  )
(deftype mood-context (mood-context-core3)
  ((itimes vector4w 4 :inline)
   (state  uint32   32)
   )
  )
(deftype mood-clouds (structure)
  ((cloud-min float  :offset-assert 0)
   (cloud-max float  :offset-assert 4)
   )
  )
;; DECOMP BEGINS

