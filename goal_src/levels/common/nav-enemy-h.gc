;;-*-Lisp-*-
(in-package goal)

;; name: nav-enemy-h.gc
;; name in dgo: nav-enemy-h
;; dgos: GAME, COMMON, L1

(deftype nav-enemy-info (basic)
  ((idle-anim                 int32    :offset-assert   4)
   (walk-anim                 int32    :offset-assert   8)
   (turn-anim                 int32    :offset-assert  12)
   (notice-anim               int32    :offset-assert  16)
   (run-anim                  int32    :offset-assert  20)
   (jump-anim                 int32    :offset-assert  24)
   (jump-land-anim            int32    :offset-assert  28)
   (victory-anim              int32    :offset-assert  32)
   (taunt-anim                int32    :offset-assert  36)
   (die-anim                  int32    :offset-assert  40)
   (neck-joint                int32    :offset-assert  44)
   (player-look-at-joint      int32    :offset-assert  48)
   (run-travel-speed          meters   :offset-assert  52)
   (run-rotate-speed          degrees  :offset-assert  56)
   (run-acceleration          meters   :offset-assert  60)
   (run-turn-time             seconds  :offset-assert  64)
   (walk-travel-speed         meters   :offset-assert  72)
   (walk-rotate-speed         degrees  :offset-assert  76)
   (walk-acceleration         meters   :offset-assert  80)
   (walk-turn-time            seconds  :offset-assert  88)
   (attack-shove-back         meters   :offset-assert  96)
   (attack-shove-up           meters   :offset-assert 100)
   (shadow-size               meters   :offset-assert 104)
   (notice-nav-radius         meters   :offset-assert 108)
   (nav-nearest-y-threshold   meters   :offset-assert 112)
   (notice-distance           meters   :offset-assert 116)
   (proximity-notice-distance meters   :offset-assert 120)
   (stop-chase-distance       meters   :offset-assert 124)
   (frustration-distance      meters   :offset-assert 128)
   (frustration-time          uint64   :offset-assert 136)
   (die-anim-hold-frame       float    :offset-assert 144)
   (jump-anim-start-frame     float    :offset-assert 148)
   (jump-land-anim-end-frame  float    :offset-assert 152)
   (jump-height-min           meters   :offset-assert 156)
   (jump-height-factor        float    :offset-assert 160)
   (jump-start-anim-speed     float    :offset-assert 164)
   (shadow-max-y              meters   :offset-assert 168)
   (shadow-min-y              meters   :offset-assert 172)
   (shadow-locus-dist         meters   :offset-assert 176)
   (use-align                 basic    :offset-assert 180)
   (draw-shadow               basic    :offset-assert 184)
   (move-to-ground            basic    :offset-assert 188)
   (hover-if-no-ground        basic    :offset-assert 192)
   (use-momentum              basic    :offset-assert 196)
   (use-flee                  basic    :offset-assert 200)
   (use-proximity-notice      basic    :offset-assert 204)
   (use-jump-blocked          basic    :offset-assert 208)
   (use-jump-patrol           basic    :offset-assert 212)
   (gnd-collide-with          uint64   :offset-assert 216)
   (debug-draw-neck           basic    :offset-assert 224)
   (debug-draw-jump           basic    :offset-assert 228)
   )
  :method-count-assert 9
  :size-assert         #xe8
  :flag-assert         #x9000000e8
  )

(deftype nav-enemy (process-drawable)
  ((hit-from-dir        vector     :inline :offset-assert 176)
   (event-param-point   vector     :inline :offset-assert 192)
   (frustration-point   vector     :inline :offset-assert 208)
   (jump-dest           vector     :inline :offset-assert 224)
   (jump-trajectory     trajectory :inline :offset-assert 240)
   (jump-time           uint64             :offset-assert 280)
   (nav-info            nav-enemy-info     :offset-assert 288)
   (target-speed        float              :offset-assert 292)
   (momentum-speed      float              :offset-assert 296)
   (acceleration        float              :offset-assert 300)
   (rotate-speed        float              :offset-assert 304)
   (turn-time           uint64             :offset-assert 312)
   (frustration-time    uint64             :offset-assert 320)
   (speed-scale         float              :offset-assert 328)
   (neck                basic              :offset-assert 332)
   (reaction-time       uint64             :offset-assert 336)
   (notice-time         uint64             :offset-assert 344)
   (state-timeout       uint64             :offset-assert 352)
   (free-time           uint64             :offset-assert 360)
   (touch-time          uint64             :offset-assert 368)
   (nav-enemy-flags     uint32             :offset-assert 376)
   (incomming-attack-id uint64             :offset-assert 384)
   (jump-return-state   basic              :offset-assert 392)
   (rand-gen            basic              :offset-assert 396)
   )
  :heap-base #x120
  :method-count-assert 76
  :size-assert         #x190
  :flag-assert         #x4c01200190
  (:methods
    (nav-enemy-attack () none 20) ;; state
    (nav-enemy-chase () none 21) ;; state
    (dummy-22 () none 22)
    (nav-enemy-die () none 23) ;; state
    (nav-enemy-fuel-cell () none 24) ;; state
    (nav-enemy-give-up () none 25) ;; state
    (nav-enemy-jump () none 26) ;; state
    (nav-enemy-jump-land () none 27) ;; state
    (nav-enemy-idle () none 28) ;; state
    (nav-enemy-notice () none 29) ;; state
    (nav-enemy-patrol () none 30) ;; state
    (nav-enemy-stare () none 31) ;; state
    (nav-enemy-stop-chase () none 32) ;; state
    (nav-enemy-victory () none 33) ;; state
    (dummy-34 () none 34)
    (dummy-35 () none 35)
    (dummy-36 () none 36)
    (dummy-37 () none 37)
    (dummy-38 () none 38)
    (dummy-39 () none 39)
    (dummy-40 () none 40)
    (dummy-41 () none 41)
    (dummy-42 () none 42)
    (dummy-43 () none 43)
    (dummy-44 () none 44)
    (dummy-45 () none 45)
    (dummy-46 () none 46)
    (dummy-47 () none 47)
    (dummy-48 () none 48)
    (dummy-49 () none 49)
    (dummy-50 () none 50)
    (dummy-51 () none 51)
    (dummy-52 () none 52)
    (dummy-53 () none 53)
    (dummy-54 () none 54)
    (dummy-55 () none 55)
    (dummy-56 () none 56)
    (dummy-57 () none 57)
    (dummy-58 () none 58)
    (dummy-59 () none 59)
    (dummy-60 () none 60)
    (dummy-61 () none 61)
    (dummy-62 () none 62)
    (dummy-63 () none 63)
    (dummy-64 () none 64)
    (dummy-65 () none 65)
    (dummy-66 () none 66)
    (dummy-67 () none 67)
    (dummy-68 () none 68)
    (dummy-69 () none 69)
    (dummy-70 () none 70)
    (dummy-71 () none 71)
    (dummy-72 () none 72)
    (dummy-73 () none 73)
    (dummy-74 () none 74)
    (dummy-75 () none 75)
    )
  )
