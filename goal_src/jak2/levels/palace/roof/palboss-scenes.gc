;;-*-Lisp-*-
(in-package goal)

;; name: palboss-scenes.gc
;; name in dgo: palboss-scenes
;; dgos: PAR

;; DECOMP BEGINS

(defskelgroup skel-squid-break-pod squid-break squid-break-pod-lod0-jg -1
              ((squid-break-pod-lod0-mg (meters 999999)))
              :bounds (static-spherem 0 0 0 4)
              :origin-joint-index 3
              )

(defskelgroup skel-squid-break-a squid-break squid-break-a-lod0-jg -1
              ((squid-break-a-lod0-mg (meters 999999)))
              :bounds (static-spherem 0 0 0 500)
              :origin-joint-index 3
              )

(defskelgroup skel-squid-break-b squid-break squid-break-b-lod0-jg -1
              ((squid-break-b-lod0-mg (meters 999999)))
              :bounds (static-spherem 0 0 0 500)
              :origin-joint-index 3
              )

(defskelgroup skel-squid-break-c squid-break squid-break-c-lod0-jg -1
              ((squid-break-c-lod0-mg (meters 999999)))
              :bounds (static-spherem 0 0 0 500)
              :origin-joint-index 3
              )

(defskelgroup skel-squid-break-d squid-break squid-break-d-lod0-jg -1
              ((squid-break-d-lod0-mg (meters 999999)))
              :bounds (static-spherem 0 0 0 500)
              :origin-joint-index 3
              )

(defskelgroup skel-squid-break-e squid-break squid-break-e-lod0-jg -1
              ((squid-break-e-lod0-mg (meters 999999)))
              :bounds (static-spherem 0 0 0 500)
              :origin-joint-index 3
              )

(defskelgroup skel-squid-break-tentacle squid-break squid-break-tentacle-lod0-jg -1
              ((squid-break-tentacle-lod0-mg (meters 999999)))
              :bounds (static-spherem 5 0 0 11)
              :origin-joint-index 3
              )

(defbehavior attach-squid-movie-part elevator ()
  (let ((v1-0 #f)
        (gp-0 (-> self elevator-status))
        )
    (when (>= (- (-> self clock frame-counter) (-> self sticky-player-last-ride-time)) 0)
      (dotimes (s5-0 10)
        (let* ((f30-0 0.5)
               (v1-3 (/ (the-as int (rand-uint31-gen *random-generator*)) 256))
               (v1-4 (the-as number (logior #x3f800000 v1-3)))
               )
          (if (< f30-0 (+ -1.0 (the-as float v1-4)))
              (set! gp-0 (logior gp-0 (ash 1 s5-0)))
              (set! gp-0 (logclear gp-0 (ash 1 s5-0)))
              )
          )
        )
      (set! (-> self sticky-player-last-ride-time)
            (+ (-> self clock frame-counter) (the int (* 300.0 (rand-vu-float-range 0.25 0.75))))
            )
      (set! v1-0 #t)
      )
    (when v1-0
      (remove-from-process *part-engine* self)
      (add-connection
        *part-engine*
        self
        5
        self
        4790
        (new 'static 'vector :x -5906.432 :y 3317.76 :z -409.6 :w 819200.0)
        )
      (add-connection
        *part-engine*
        self
        5
        self
        4790
        (new 'static 'vector :x 5906.432 :y 3317.76 :z -409.6 :w 819200.0)
        )
      (add-connection *part-engine* self 6 self 4791 (new 'static 'vector :y 3366.912 :w 819200.0))
      (add-connection *part-engine* self 13 self 4791 (new 'static 'vector :y 11993.088 :z 5255.168 :w 819200.0))
      (add-connection
        *part-engine*
        self
        5
        self
        4792
        (new 'static 'vector :x 5439.488 :y -1794.048 :z 11444.224 :w 819200.0)
        )
      (add-connection
        *part-engine*
        self
        5
        self
        4792
        (new 'static 'vector :x -5439.488 :y -1794.048 :z 11444.224 :w 819200.0)
        )
      (if (logtest? gp-0 (elevator-status waiting-to-descend))
          (add-connection
            *part-engine*
            self
            5
            self
            4793
            (new 'static 'vector :x -4128.768 :y 2355.2 :z 3653.632 :w 819200.0)
            )
          )
      (if (logtest? gp-0 (elevator-status waiting-to-ascend))
          (add-connection
            *part-engine*
            self
            5
            self
            4793
            (new 'static 'vector :x -4554.752 :y 2449.408 :z 2359.296 :w 819200.0)
            )
          )
      (if (logtest? gp-0 (elevator-status moving))
          (add-connection
            *part-engine*
            self
            5
            self
            4793
            (new 'static 'vector :x -4386.816 :y 2191.36 :z 528.384 :w 819200.0)
            )
          )
      (if (logtest? gp-0 (elevator-status elevator-status-3))
          (add-connection
            *part-engine*
            self
            5
            self
            4793
            (new 'static 'vector :x -5832.704 :y 2945.024 :z 1691.648 :w 819200.0)
            )
          )
      (if (logtest? gp-0 (elevator-status elevator-status-4))
          (add-connection
            *part-engine*
            self
            5
            self
            4793
            (new 'static 'vector :x -5861.376 :y 2920.448 :z 1118.208 :w 819200.0)
            )
          )
      (if (logtest? gp-0 (elevator-status elevator-status-5))
          (add-connection
            *part-engine*
            self
            5
            self
            4793
            (new 'static 'vector :x 4128.768 :y 2355.2 :z 3653.632 :w 819200.0)
            )
          )
      (if (logtest? gp-0 (elevator-status elevator-status-6))
          (add-connection
            *part-engine*
            self
            5
            self
            4793
            (new 'static 'vector :x 4554.752 :y 2449.408 :z 2359.296 :w 819200.0)
            )
          )
      (if (logtest? gp-0 (elevator-status elevator-status-7))
          (add-connection
            *part-engine*
            self
            5
            self
            4793
            (new 'static 'vector :x 4386.816 :y 2191.36 :z -528.384 :w 819200.0)
            )
          )
      (if (logtest? gp-0 (elevator-status elevator-status-8))
          (add-connection
            *part-engine*
            self
            5
            self
            4793
            (new 'static 'vector :x 5832.704 :y 2945.024 :z 1691.648 :w 819200.0)
            )
          )
      (if (logtest? gp-0 (elevator-status elevator-status-9))
          (add-connection
            *part-engine*
            self
            5
            self
            4793
            (new 'static 'vector :x 5861.376 :y 2920.448 :z 1118.208 :w 819200.0)
            )
          )
      )
    )
  0
  (none)
  )

(defpartgroup group-movie-squid-thruster
  :id 1115
  :duration (seconds 0.017)
  :flags (use-local-clock)
  :bounds (static-bspherem 0 0 0 8)
  :parts ((sp-item 4794 :fade-after (meters 120) :falloff-to (meters 120) :flags (is-3d bit7))
    (sp-item 4795 :fade-after (meters 120) :falloff-to (meters 120) :flags (is-3d bit7))
    (sp-item 4796 :fade-after (meters 120) :falloff-to (meters 120) :flags (is-3d bit7))
    (sp-item 4797 :fade-after (meters 120) :falloff-to (meters 120) :flags (bit7))
    (sp-item 4798 :fade-after (meters 120) :falloff-to (meters 120) :flags (bit7))
    (sp-item 4799 :fade-after (meters 80) :falloff-to (meters 80) :flags (bit7))
    (sp-item 4800 :fade-after (meters 80) :falloff-to (meters 80) :flags (bit7))
    )
  )

(defpart 4794
  :init-specs ((sp-tex spt-texture (new 'static 'texture-id :index #x90 :page #xc))
    (sp-flt spt-num 1.0)
    (sp-flt spt-y (meters 0))
    (sp-rnd-flt spt-scale-x (meters 2.5) (meters 0.5) 1.0)
    (sp-rnd-flt spt-scale-y (meters 4) (meters 1) 1.0)
    (sp-flt spt-r 255.0)
    (sp-rnd-flt spt-g 0.0 128.0 1.0)
    (sp-flt spt-b 0.0)
    (sp-rnd-flt spt-a 32.0 32.0 1.0)
    (sp-int spt-timer 5)
    (sp-cpuinfo-flags sp-cpuinfo-flag-2 sp-cpuinfo-flag-3)
    (sp-flt spt-rotate-x (degrees -90.0))
    (sp-flt spt-rotate-y (degrees 0.0))
    )
  )

(defpart 4795
  :init-specs ((sp-tex spt-texture (new 'static 'texture-id :index #x90 :page #xc))
    (sp-flt spt-num 1.0)
    (sp-flt spt-y (meters 0))
    (sp-rnd-flt spt-scale-x (meters 2.5) (meters 0.5) 1.0)
    (sp-rnd-flt spt-scale-y (meters 4) (meters 1) 1.0)
    (sp-flt spt-r 255.0)
    (sp-rnd-flt spt-g 0.0 128.0 1.0)
    (sp-flt spt-b 0.0)
    (sp-rnd-flt spt-a 32.0 32.0 1.0)
    (sp-int spt-timer 5)
    (sp-cpuinfo-flags sp-cpuinfo-flag-2 sp-cpuinfo-flag-3)
    (sp-flt spt-rotate-x (degrees -90.0))
    (sp-flt spt-rotate-y (degrees 60.0))
    )
  )

(defpart 4796
  :init-specs ((sp-tex spt-texture (new 'static 'texture-id :index #x90 :page #xc))
    (sp-flt spt-num 1.0)
    (sp-flt spt-y (meters 0))
    (sp-rnd-flt spt-scale-x (meters 2.5) (meters 0.5) 1.0)
    (sp-rnd-flt spt-scale-y (meters 4) (meters 1) 1.0)
    (sp-flt spt-r 255.0)
    (sp-rnd-flt spt-g 0.0 128.0 1.0)
    (sp-flt spt-b 0.0)
    (sp-rnd-flt spt-a 32.0 32.0 1.0)
    (sp-int spt-timer 5)
    (sp-cpuinfo-flags sp-cpuinfo-flag-2 sp-cpuinfo-flag-3)
    (sp-flt spt-rotate-x (degrees -90.0))
    (sp-flt spt-rotate-y (degrees 120.0))
    )
  )

(defpart 4797
  :init-specs ((sp-tex spt-texture (new 'static 'texture-id :index #xbb :page #xc))
    (sp-flt spt-num 1.0)
    (sp-flt spt-y (meters 0.2))
    (sp-rnd-flt spt-scale-x (meters 1.5) (meters 0.1) 1.0)
    (sp-flt spt-rot-x 409.6)
    (sp-copy-from-other spt-scale-y -4)
    (sp-flt spt-r 255.0)
    (sp-rnd-flt spt-g 64.0 64.0 1.0)
    (sp-flt spt-b 0.0)
    (sp-rnd-flt spt-a 8.0 8.0 1.0)
    (sp-int spt-timer 5)
    (sp-cpuinfo-flags sp-cpuinfo-flag-2 sp-cpuinfo-flag-3 glow)
    (sp-flt spt-userdata 20480.0)
    (sp-flt spt-rotate-y (degrees 0.0))
    )
  )

(defpart 4798
  :init-specs ((sp-tex spt-texture (new 'static 'texture-id :page #xc))
    (sp-rnd-flt spt-num 0.0 1.0 1.0)
    (sp-rnd-flt spt-y (meters 0) (meters 0.25) 1.0)
    (sp-rnd-flt spt-scale-x (meters 0.2) (meters 0.2) 1.0)
    (sp-rnd-int-flt spt-rot-z (degrees 0.0) 1 32768.0)
    (sp-rnd-flt spt-scale-y (meters 1) (meters 0.6) 1.0)
    (sp-flt spt-r 255.0)
    (sp-flt spt-g 64.0)
    (sp-flt spt-b 0.0)
    (sp-rnd-flt spt-a 16.0 16.0 1.0)
    (sp-rnd-flt spt-vel-y (meters 0.06666667) (meters 0.016666668) 1.0)
    (sp-rnd-flt spt-scalevel-x (meters 0.033333335) (meters 0.016666668) 1.0)
    (sp-rnd-flt spt-scalevel-y (meters 0.016666668) (meters 0.033333335) 1.0)
    (sp-rnd-flt spt-fade-r -1.28 -1.28 1.0)
    (sp-flt spt-fade-g 1.0)
    (sp-flt spt-fade-b 2.0)
    (sp-rnd-flt spt-accel-x 0.0 6.826667 1.0)
    (sp-rnd-flt spt-accel-y 0.68266666 2.048 1.0)
    (sp-flt spt-friction 0.94)
    (sp-int spt-timer 300)
    (sp-cpuinfo-flags sp-cpuinfo-flag-2 sp-cpuinfo-flag-12)
    (sp-int spt-next-time 50)
    (sp-launcher-by-id spt-next-launcher 4801)
    (sp-rnd-flt spt-rotate-y (degrees 0.0) (degrees 360.0) 1.0)
    )
  )

(defpart 4801
  :init-specs ((sp-rnd-flt spt-r 64.0 128.0 1.0)
    (sp-copy-from-other spt-g -1)
    (sp-copy-from-other spt-b -1)
    (sp-flt spt-fade-r 0.0)
    (sp-flt spt-fade-g 0.0)
    (sp-flt spt-fade-b 0.0)
    (sp-rnd-flt spt-fade-a -0.128 -0.256 1.0)
    )
  )

(defpart 4799
  :init-specs ((sp-tex spt-texture (new 'static 'texture-id :index #xc9 :page #xc))
    (sp-rnd-flt spt-num 0.1 0.1 1.0)
    (sp-rnd-flt spt-y (meters 0.25) (meters 0.5) 1.0)
    (sp-flt spt-scale-x (meters 0.05))
    (sp-flt spt-scale-y (meters 0.5))
    (sp-rnd-flt spt-r 192.0 64.0 1.0)
    (sp-rnd-flt spt-g 0.0 128.0 1.0)
    (sp-flt spt-b 0.0)
    (sp-flt spt-a 128.0)
    (sp-rnd-flt spt-vel-y (meters 0.033333335) (meters 0.026666667) 1.0)
    (sp-flt spt-scalevel-x (meters 0.001))
    (sp-flt spt-scalevel-y (meters -0.017))
    (sp-flt spt-fade-g 0.0)
    (sp-rnd-flt spt-accel-x 0.0 6.826667 1.0)
    (sp-rnd-flt spt-accel-y -0.68266666 -2.048 1.0)
    (sp-flt spt-friction 0.96)
    (sp-int-plain-rnd spt-timer 50 74 1)
    (sp-cpuinfo-flags sp-cpuinfo-flag-2 sp-cpuinfo-flag-3 sp-cpuinfo-flag-12 sp-cpuinfo-flag-14)
    (sp-int spt-next-time 30)
    (sp-launcher-by-id spt-next-launcher 4802)
    (sp-rnd-flt spt-rotate-y (degrees 0.0) (degrees 360.0) 1.0)
    )
  )

(defpart 4802
  :init-specs ((sp-flt spt-scalevel-x (meters 0)) (sp-flt spt-scalevel-y (meters 0)))
  )

(defpart 4800
  :init-specs ((sp-flt spt-num 0.6)
    (sp-int spt-rot-x 8)
    (sp-flt spt-r 1638.4)
    (sp-flt spt-g 1331.2)
    (sp-flt spt-b 1433.6)
    (sp-rnd-flt spt-vel-y (meters 0.06666667) (meters 0.016666668) 1.0)
    (sp-flt spt-fade-r 32.768)
    (sp-flt spt-fade-g 26.623999)
    (sp-flt spt-fade-b 28.671999)
    (sp-rnd-flt spt-accel-x 0.0 6.826667 1.0)
    (sp-flt spt-friction 0.94)
    (sp-int spt-timer 100)
    (sp-cpuinfo-flags distort)
    (sp-int spt-next-time 50)
    (sp-launcher-by-id spt-next-launcher 4803)
    (sp-rnd-flt spt-rotate-y (degrees 0.0) (degrees 360.0) 1.0)
    )
  )

(defpart 4803
  :init-specs ((sp-flt spt-fade-r 0.0) (sp-flt spt-fade-g 0.0) (sp-flt spt-fade-b -4.096))
  )

(scene-method-16
  (new 'static 'scene
    :name "palace-outside-window-res-b"
    :extra #f
    :info #f
    :mask-to-clear #x1282000
    :entity "scene-stage-72"
    :art-group "scenecamera"
    :anim "palace-outside-window-res-b"
    :parts 4
    :command-list '((-1000 (kill "squid-2"))
      (1
        (joint-eval scene-tentacle-spawn entity "squid" joint "tentA")
        (joint-eval scene-tentacle-spawn entity "squid" joint "tentB")
        (joint-eval scene-tentacle-spawn entity "squid" joint "tentC")
        (joint-eval scene-tentacle-spawn entity "squid" joint "tentD")
        (joint-eval scene-tentacle-spawn entity "squid" joint "tentE")
        (joint-eval scene-tentacle-spawn entity "squid" joint "tentF")
        (send-event "squid" 'trans-hook attach-squid-movie-part)
        (part-tracker
          "group-movie-squid-thruster"
          entity
          "squid"
          joint
          "thrustAL"
          track
          #t
          duration
          (frame-range 1 475)
          )
        (part-tracker
          "group-movie-squid-thruster"
          entity
          "squid"
          joint
          "thrustBL"
          track
          #t
          duration
          (frame-range 1 475)
          )
        (part-tracker
          "group-movie-squid-thruster"
          entity
          "squid"
          joint
          "thrustAR"
          track
          #t
          duration
          (frame-range 1 475)
          )
        (part-tracker
          "group-movie-squid-thruster"
          entity
          "squid"
          joint
          "thrustBR"
          track
          #t
          duration
          (frame-range 1 475)
          )
        )
      (10000 (task-close! "palace-boss-introduction") (want-display 'palcab 'display))
      )
    :cut-list '(89 133 268 355)
    :wait-ground-time (seconds 1)
    :draw-target #f
    :abort #t
    :actor (new 'static 'boxed-array :type scene-actor
      (new 'static 'scene-actor
        :name "scenecamera"
        :level #f
        :art-group "skel-scenecamera"
        :prefix ""
        :draw-frames '((min max))
        :scissor-frames '()
        :camera 4
        :shadow-flags -1
        :shadow-volume-joint #f
        )
      (new 'static 'scene-actor
        :name "sidekick-highres"
        :level 'palboss
        :art-group "skel-sidekick-highres"
        :prefix ""
        :draw-frames '((min max))
        :scissor-frames '()
        :flags #x1
        :shadow-flags -1
        :shadow-volume-joint #f
        )
      (new 'static 'scene-actor
        :name "jak-highres"
        :level 'palboss
        :art-group "skel-jak-highres"
        :prefix ""
        :draw-frames '((min max))
        :scissor-frames '()
        :flags #x1
        :shadow-flags -1
        :shadow-volume-joint #f
        )
      (new 'static 'scene-actor
        :name "baron-highres"
        :level 'palboss
        :art-group "skel-baron-highres"
        :prefix ""
        :draw-frames '((min max))
        :scissor-frames '()
        :flags #x1
        :shadow-flags -1
        :shadow-volume-joint #f
        )
      (new 'static 'scene-actor
        :name "squid"
        :level 'palboss
        :art-group "skel-squid"
        :prefix ""
        :draw-frames '((min max))
        :scissor-frames '((268 355))
        :flags #x1
        :shadow-flags -1
        :shadow-volume-joint #f
        :no-draw-seg #x355e
        )
      )
    :load-point-obj (new 'static 'continue-point
      :name "palroof-boss"
      :level #f
      :flags (continue-flags cf3 cf17)
      :trans (new 'static 'vector :x 870794.06 :y 1671154.9 :z 2027482.4 :w 1.0)
      :quat (new 'static 'vector :y 0.4793 :w 0.8776)
      :camera-trans (new 'static 'vector :x 831816.06 :y 1693132.0 :z 2045632.9 :w 1.0)
      :camera-rot (new 'static 'inline-array vector3s 3
        (new 'static 'vector3s :data (new 'static 'array float 3 -0.4095 0.0 -0.9122))
        (new 'static 'vector3s :data (new 'static 'array float 3 0.179 0.9805 -0.0804))
        (new 'static 'vector3s :data (new 'static 'array float 3 0.8945 -0.1963 -0.4016))
        )
      :on-goto #f
      :vis-nick 'palroof
      :want (new 'static 'inline-array level-buffer-state 6
        (new 'static 'level-buffer-state :name 'palroof :display? 'display :force-vis? #f :force-inside? #f)
        (new 'static 'level-buffer-state :name 'palboss :display? 'display :force-vis? #f :force-inside? #f)
        (new 'static 'level-buffer-state :name 'palcab :display? #f :force-vis? #f :force-inside? #f)
        (new 'static 'level-buffer-state :name #f :display? #f :force-vis? #f :force-inside? #f)
        (new 'static 'level-buffer-state :name #f :display? #f :force-vis? #f :force-inside? #f)
        (new 'static 'level-buffer-state :name #f :display? #f :force-vis? #f :force-inside? #f)
        )
      :want-sound (new 'static 'array symbol 3 'ctywide1 'ctywide2 #f)
      )
    :end-point-obj "palroof-boss"
    :borrow '((throne 0 lbrnermk special))
    :sfx-volume -1.0
    :ambient-volume -1.0
    :music-volume -1.0
    :blackout-end #t
    :peaceful #t
    :save #t
    )
  )

(defpartgroup group-squid-damaged-sparks
  :id 1116
  :bounds (static-bspherem 0 0 0 8)
  :parts ((sp-item 4804 :period 600 :length 15))
  )

(defpart 4804
  :init-specs ((sp-tex spt-texture (new 'static 'texture-id :index #xca :page #xc))
    (sp-flt spt-num 1.0)
    (sp-flt spt-scale-x (meters 0.1))
    (sp-copy-from-other spt-scale-y -4)
    (sp-flt spt-r 255.0)
    (sp-flt spt-g 255.0)
    (sp-flt spt-b 255.0)
    (sp-flt spt-a 0.0)
    (sp-int spt-timer 600)
    (sp-cpuinfo-flags sp-cpuinfo-flag-3)
    (sp-func spt-func 'sparticle-track-root)
    (sp-int-plain-rnd spt-next-time 5 594 1)
    (sp-launcher-by-id spt-next-launcher 4805)
    )
  )

(defpart 4805
  :init-specs ((sp-func spt-func 'func-squid-damaged-sparks-awake))
  )

(defun func-squid-damaged-sparks-awake ((arg0 sparticle-system) (arg1 sparticle-cpuinfo) (arg2 matrix))
  (let ((gp-0 (new 'stack-no-clear 'vector)))
    (sp-kill-particle arg0 arg1)
    (set-vector! gp-0 (-> arg2 vector 0 x) (-> arg2 vector 0 y) (-> arg2 vector 0 z) 1.0)
    (let ((t9-1 sp-launch-particles-var)
          (a0-2 *sp-particle-system-2d*)
          (a1-1 (-> *part-id-table* 4806))
          (a2-1 *launch-matrix*)
          )
      (set! (-> a2-1 trans quad) (-> gp-0 quad))
      (t9-1 a0-2 a1-1 a2-1 (the-as sparticle-launch-state #f) (the-as sparticle-launch-control #f) 1.0)
      )
    (let ((t9-2 sp-launch-particles-var)
          (a0-3 *sp-particle-system-2d*)
          (a1-2 (-> *part-id-table* 4807))
          (a2-2 *launch-matrix*)
          )
      (set! (-> a2-2 trans quad) (-> gp-0 quad))
      (t9-2 a0-3 a1-2 a2-2 (the-as sparticle-launch-state #f) (the-as sparticle-launch-control #f) 1.0)
      )
    )
  (none)
  )

(defpart 4806
  :init-specs ((sp-tex spt-texture (new 'static 'texture-id :index #xca :page #xc))
    (sp-flt spt-num 1.0)
    (sp-rnd-flt spt-scale-x (meters 1) (meters 8) 1.0)
    (sp-flt spt-rot-x 2048.0)
    (sp-rnd-flt spt-rot-z (degrees 0.0) (degrees 3600.0) 1.0)
    (sp-copy-from-other spt-scale-y -4)
    (sp-flt spt-r 255.0)
    (sp-rnd-flt spt-g 96.0 96.0 1.0)
    (sp-flt spt-b 0.0)
    (sp-rnd-flt spt-a 24.0 16.0 1.0)
    (sp-flt spt-omega 616448.0)
    (sp-flt spt-fade-a -4.8)
    (sp-int spt-timer 15)
    (sp-cpuinfo-flags sp-cpuinfo-flag-2 sp-cpuinfo-flag-3 glow)
    (sp-flt spt-userdata 20480.0)
    )
  )

(defpart 4807
  :init-specs ((sp-tex spt-texture (new 'static 'texture-id :index #x92 :page #xc))
    (sp-rnd-flt spt-num 8.0 8.0 1.0)
    (sp-flt spt-scale-x (meters 0.5))
    (sp-int spt-rot-x 4)
    (sp-flt spt-scale-y (meters 0.033))
    (sp-flt spt-r 255.0)
    (sp-flt spt-g 255.0)
    (sp-flt spt-b 255.0)
    (sp-flt spt-a 128.0)
    (sp-flt spt-omega 4.096)
    (sp-rnd-flt spt-vel-y (meters 0.006666667) (meters 0.006666667) 1.0)
    (sp-rnd-flt spt-fade-g -0.85 -1.7 1.0)
    (sp-flt spt-fade-b -8.0)
    (sp-rnd-flt spt-fade-a -0.10666667 -0.42666668 1.0)
    (sp-rnd-flt spt-accel-y -0.68266666 -0.27306667 1.0)
    (sp-flt spt-friction 0.97)
    (sp-int-plain-rnd spt-timer 30 29 1)
    (sp-cpuinfo-flags sp-cpuinfo-flag-3)
    (sp-func spt-func 'sparticle-motion-blur)
    (sp-rnd-flt spt-conerot-x (degrees 0.0) (degrees 180.0) 1.0)
    (sp-rnd-flt spt-conerot-y (degrees 90.0) (degrees 180.0) 1.0)
    )
  )

(defpartgroup group-squid-break-smoke
  :id 1117
  :duration (seconds 0.017)
  :flags (use-local-clock)
  :bounds (static-bspherem 0 0 0 16)
  :parts ((sp-item 4808))
  )

(defpart 4808
  :init-specs ((sp-tex spt-texture (new 'static 'texture-id :page #xc))
    (sp-func spt-birth-func 'birth-func-texture-group)
    (sp-rnd-flt spt-num 0.5 1.0 1.0)
    (sp-rnd-flt spt-scale-x (meters 2) (meters 2) 1.0)
    (sp-rnd-flt spt-rot-z (degrees 0.0) (degrees 360.0) 1.0)
    (sp-copy-from-other spt-scale-y -4)
    (sp-flt spt-r 48.0)
    (sp-flt spt-g 48.0)
    (sp-flt spt-b 48.0)
    (sp-rnd-flt spt-a 32.0 32.0 1.0)
    (sp-rnd-flt spt-vel-y (meters 0.013333334) (meters 0.026666667) 1.0)
    (sp-rnd-flt spt-scalevel-x (meters 0.013333334) (meters 0.01) 1.0)
    (sp-rnd-flt spt-rotvel-z (degrees -0.2) (degrees 0.4) 1.0)
    (sp-copy-from-other spt-scalevel-y -4)
    (sp-rnd-flt spt-accel-y 0.4096 0.4096 1.0)
    (sp-flt spt-friction 0.96)
    (sp-int spt-timer 2400)
    (sp-cpuinfo-flags sp-cpuinfo-flag-2)
    (new 'static 'sp-field-init-spec
      :field (sp-field-id spt-userdata)
      :flags (sp-flag plain-v2)
      :object (new 'static 'boxed-array :type int32 40 1 0 #xc00000 #xc00000 #xc03300)
      )
    (sp-int spt-next-time 25)
    (sp-launcher-by-id spt-next-launcher 4809)
    (sp-rnd-flt spt-conerot-x (degrees 0.0) (degrees 3600.0) 1.0)
    (sp-rnd-flt spt-conerot-y (degrees 0.0) (degrees 3600.0) 1.0)
    )
  )

(defpart 4809
  :init-specs ((sp-flt spt-fade-r 0.0)
    (sp-flt spt-fade-g 0.0)
    (sp-flt spt-fade-b 0.0)
    (sp-int-plain-rnd spt-next-time 10 39 1)
    (sp-launcher-by-id spt-next-launcher 4810)
    )
  )

(defpart 4810
  :init-specs ((sp-rnd-flt spt-scalevel-x (meters 0.006666667) (meters 0.0016666667) 1.0)
    (sp-copy-from-other spt-scalevel-y -4)
    (sp-flt spt-fade-r -0.053333335)
    (sp-flt spt-fade-g -0.053333335)
    (sp-flt spt-fade-b -0.053333335)
    (sp-int spt-next-time 150)
    (sp-launcher-by-id spt-next-launcher 4811)
    )
  )

(defpart 4811
  :init-specs ((sp-flt spt-fade-r 0.0) (sp-flt spt-fade-g 0.0) (sp-flt spt-fade-b 0.0) (sp-flt spt-fade-a -0.072))
  )

;; WARN: Function attach-squid-break-movie-part has a return type of none, but the expression builder found a return statement.
(defbehavior attach-squid-break-movie-part elevator ()
  "TODO - this naming is...very strange!"
  (let ((f0-0 (ja-aframe-num 0)))
    (when (and (< 183.0 f0-0) (< f0-0 231.0))
      (remove-from-process *part-engine* self)
      (return #f)
      )
    )
  (let ((v1-8 #f)
        (gp-0 (-> self elevator-status))
        )
    (when (>= (- (-> self clock frame-counter) (-> self sticky-player-last-ride-time)) 0)
      (dotimes (s5-0 10)
        (let* ((f30-0 0.5)
               (v1-11 (/ (the-as int (rand-uint31-gen *random-generator*)) 256))
               (v1-12 (the-as number (logior #x3f800000 v1-11)))
               )
          (if (< f30-0 (+ -1.0 (the-as float v1-12)))
              (set! gp-0 (logior gp-0 (ash 1 s5-0)))
              (set! gp-0 (logclear gp-0 (ash 1 s5-0)))
              )
          )
        )
      (set! (-> self sticky-player-last-ride-time)
            (+ (-> self clock frame-counter) (the int (* 300.0 (rand-vu-float-range 0.25 0.75))))
            )
      (set! v1-8 #t)
      )
    (when v1-8
      (remove-from-process *part-engine* self)
      (add-connection
        *part-engine*
        self
        5
        self
        4790
        (new 'static 'vector :x -5906.432 :y 3317.76 :z -409.6 :w 819200.0)
        )
      (add-connection
        *part-engine*
        self
        5
        self
        4790
        (new 'static 'vector :x 5906.432 :y 3317.76 :z -409.6 :w 819200.0)
        )
      (add-connection
        *part-engine*
        self
        5
        self
        4792
        (new 'static 'vector :x 5439.488 :y -1794.048 :z 11444.224 :w 819200.0)
        )
      (add-connection
        *part-engine*
        self
        5
        self
        4792
        (new 'static 'vector :x -5439.488 :y -1794.048 :z 11444.224 :w 819200.0)
        )
      (if (logtest? gp-0 (elevator-status waiting-to-descend))
          (add-connection
            *part-engine*
            self
            5
            self
            4793
            (new 'static 'vector :x -4128.768 :y 2355.2 :z 3653.632 :w 819200.0)
            )
          )
      (if (logtest? gp-0 (elevator-status waiting-to-ascend))
          (add-connection
            *part-engine*
            self
            5
            self
            4793
            (new 'static 'vector :x -4554.752 :y 2449.408 :z 2359.296 :w 819200.0)
            )
          )
      (if (logtest? gp-0 (elevator-status moving))
          (add-connection
            *part-engine*
            self
            5
            self
            4793
            (new 'static 'vector :x -4386.816 :y 2191.36 :z 528.384 :w 819200.0)
            )
          )
      (if (logtest? gp-0 (elevator-status elevator-status-3))
          (add-connection
            *part-engine*
            self
            5
            self
            4793
            (new 'static 'vector :x -5832.704 :y 2945.024 :z 1691.648 :w 819200.0)
            )
          )
      (if (logtest? gp-0 (elevator-status elevator-status-4))
          (add-connection
            *part-engine*
            self
            5
            self
            4793
            (new 'static 'vector :x -5861.376 :y 2920.448 :z 1118.208 :w 819200.0)
            )
          )
      (if (logtest? gp-0 (elevator-status elevator-status-5))
          (add-connection
            *part-engine*
            self
            5
            self
            4793
            (new 'static 'vector :x 4128.768 :y 2355.2 :z 3653.632 :w 819200.0)
            )
          )
      (if (logtest? gp-0 (elevator-status elevator-status-6))
          (add-connection
            *part-engine*
            self
            5
            self
            4793
            (new 'static 'vector :x 4554.752 :y 2449.408 :z 2359.296 :w 819200.0)
            )
          )
      (if (logtest? gp-0 (elevator-status elevator-status-7))
          (add-connection
            *part-engine*
            self
            5
            self
            4793
            (new 'static 'vector :x 4386.816 :y 2191.36 :z -528.384 :w 819200.0)
            )
          )
      (if (logtest? gp-0 (elevator-status elevator-status-8))
          (add-connection
            *part-engine*
            self
            5
            self
            4793
            (new 'static 'vector :x 5832.704 :y 2945.024 :z 1691.648 :w 819200.0)
            )
          )
      (if (logtest? gp-0 (elevator-status elevator-status-9))
          (add-connection
            *part-engine*
            self
            5
            self
            4793
            (new 'static 'vector :x 5861.376 :y 2920.448 :z 1118.208 :w 819200.0)
            )
          )
      )
    )
  0
  (none)
  )

(scene-method-16 (new 'static 'scene
                   :name "palace-boss-res"
                   :extra #f
                   :info #f
                   :mask-to-clear #x1282000
                   :entity "scene-stage-77"
                   :art-group "scenecamera"
                   :anim "palace-boss-res"
                   :parts 10
                   :command-list '((0 (fadein (frame-time (new 'static 'bfloat :data 2.0))))
                     (1
                       (send-event "squid-break-pod" 'sync #t)
                       (send-event "squid-break-pod" 'trans-hook attach-squid-break-movie-part)
                       )
                     (38 (part-tracker
                           "group-palace-boss-end-explosion"
                           entity
                           "squid-break-pod"
                           joint
                           "main"
                           track
                           #t
                           duration
                           (frame-range 46 95)
                           )
                         )
                     (46
                       (part-tracker
                         "group-palace-boss-end-trailer-large"
                         entity
                         "squid-break-b"
                         joint
                         "bc"
                         track
                         #t
                         duration
                         (frame-range 46 71)
                         )
                       (part-tracker
                         "group-palace-boss-end-trailer-medium"
                         entity
                         "squid-break-b"
                         joint
                         "bd"
                         track
                         #t
                         duration
                         (frame-range 46 71)
                         )
                       (part-tracker
                         "group-palace-boss-end-trailer-large"
                         entity
                         "squid-break-b"
                         joint
                         "be"
                         track
                         #t
                         duration
                         (frame-range 46 95)
                         )
                       (part-tracker
                         "group-palace-boss-end-trailer-large"
                         entity
                         "squid-break-b"
                         joint
                         "bf"
                         track
                         #t
                         duration
                         (frame-range 46 71)
                         )
                       (part-tracker
                         "group-palace-boss-end-trailer-large"
                         entity
                         "squid-break-b"
                         joint
                         "bg"
                         track
                         #t
                         duration
                         (frame-range 46 72)
                         )
                       (part-tracker
                         "group-palace-boss-end-trailer-large"
                         entity
                         "squid-break-b"
                         joint
                         "bh"
                         track
                         #t
                         duration
                         (frame-range 46 72)
                         )
                       (part-tracker
                         "group-palace-boss-end-trailer-medium"
                         entity
                         "squid-break-b"
                         joint
                         "bi"
                         track
                         #t
                         duration
                         (frame-range 46 87)
                         )
                       (part-tracker
                         "group-palace-boss-end-trailer-medium"
                         entity
                         "squid-break-b"
                         joint
                         "bj"
                         track
                         #t
                         duration
                         (frame-range 46 81)
                         )
                       (part-tracker
                         "group-palace-boss-end-trailer-large"
                         entity
                         "squid-break-b"
                         joint
                         "bo"
                         track
                         #t
                         duration
                         (frame-range 46 79)
                         )
                       (part-tracker
                         "group-palace-boss-end-trailer-large"
                         entity
                         "squid-break-b"
                         joint
                         "bp"
                         track
                         #t
                         duration
                         (frame-range 46 82)
                         )
                       (part-tracker
                         "group-palace-boss-end-trailer-medium"
                         entity
                         "squid-break-b"
                         joint
                         "bq"
                         track
                         #t
                         duration
                         (frame-range 46 103)
                         )
                       (part-tracker
                         "group-palace-boss-end-trailer-large"
                         entity
                         "squid-break-b"
                         joint
                         "br"
                         track
                         #t
                         duration
                         (frame-range 46 84)
                         )
                       (part-tracker
                         "group-palace-boss-end-trailer-large"
                         entity
                         "squid-break-b"
                         joint
                         "bs"
                         track
                         #t
                         duration
                         (frame-range 46 118)
                         )
                       (part-tracker
                         "group-palace-boss-end-trailer-large"
                         entity
                         "squid-break-b"
                         joint
                         "bt"
                         track
                         #t
                         duration
                         (frame-range 46 104)
                         )
                       (part-tracker
                         "group-palace-boss-end-trailer-medium"
                         entity
                         "squid-break-b"
                         joint
                         "bu"
                         track
                         #t
                         duration
                         (frame-range 46 107)
                         )
                       (part-tracker
                         "group-palace-boss-end-trailer-large"
                         entity
                         "squid-break-b"
                         joint
                         "cc"
                         track
                         #t
                         duration
                         (frame-range 46 106)
                         )
                       (part-tracker
                         "group-palace-boss-end-trailer-medium"
                         entity
                         "squid-break-b"
                         joint
                         "cd"
                         track
                         #t
                         duration
                         (frame-range 46 127)
                         )
                       (part-tracker
                         "group-palace-boss-end-trailer-medium"
                         entity
                         "squid-break-b"
                         joint
                         "ce"
                         track
                         #t
                         duration
                         (frame-range 46 95)
                         )
                       )
                     (47
                       (part-tracker
                         "group-palace-boss-end-trailer-medium"
                         entity
                         "squid-break-b"
                         joint
                         "main"
                         track
                         #t
                         duration
                         (frame-range 46 84)
                         )
                       (part-tracker
                         "group-palace-boss-end-trailer-medium"
                         entity
                         "squid-break-c"
                         joint
                         "cm"
                         track
                         #t
                         duration
                         (frame-range 46 112)
                         )
                       (part-tracker
                         "group-palace-boss-end-trailer-medium"
                         entity
                         "squid-break-c"
                         joint
                         "cn"
                         track
                         #t
                         duration
                         (frame-range 46 95)
                         )
                       (part-tracker
                         "group-palace-boss-end-trailer-large"
                         entity
                         "squid-break-c"
                         joint
                         "co"
                         track
                         #t
                         duration
                         (frame-range 46 104)
                         )
                       (part-tracker
                         "group-palace-boss-end-trailer-large"
                         entity
                         "squid-break-c"
                         joint
                         "cz"
                         track
                         #t
                         duration
                         (frame-range 46 113)
                         )
                       (part-tracker
                         "group-palace-boss-end-trailer-medium"
                         entity
                         "squid-break-c"
                         joint
                         "dc"
                         track
                         #t
                         duration
                         (frame-range 46 115)
                         )
                       (part-tracker
                         "group-palace-boss-end-trailer-large"
                         entity
                         "squid-break-c"
                         joint
                         "dd"
                         track
                         #t
                         duration
                         (frame-range 46 115)
                         )
                       (part-tracker
                         "group-palace-boss-end-trailer-medium"
                         entity
                         "squid-break-c"
                         joint
                         "dj"
                         track
                         #t
                         duration
                         (frame-range 46 104)
                         )
                       (part-tracker
                         "group-palace-boss-end-trailer-medium"
                         entity
                         "squid-break-c"
                         joint
                         "dk"
                         track
                         #t
                         duration
                         (frame-range 46 105)
                         )
                       (part-tracker
                         "group-palace-boss-end-trailer-medium"
                         entity
                         "squid-break-c"
                         joint
                         "dq"
                         track
                         #t
                         duration
                         (frame-range 46 128)
                         )
                       (part-tracker
                         "group-palace-boss-end-trailer-medium"
                         entity
                         "squid-break-c"
                         joint
                         "dr"
                         track
                         #t
                         duration
                         (frame-range 46 128)
                         )
                       (part-tracker
                         "group-palace-boss-end-trailer-large"
                         entity
                         "squid-break-c"
                         joint
                         "ds"
                         track
                         #t
                         duration
                         (frame-range 46 133)
                         )
                       (part-tracker
                         "group-palace-boss-end-trailer-large"
                         entity
                         "squid-break-c"
                         joint
                         "dt"
                         track
                         #t
                         duration
                         (frame-range 46 66)
                         )
                       (part-tracker
                         "group-palace-boss-end-trailer-large"
                         entity
                         "squid-break-c"
                         joint
                         "du"
                         track
                         #t
                         duration
                         (frame-range 46 57)
                         )
                       (part-tracker
                         "group-palace-boss-end-trailer-medium"
                         entity
                         "squid-break-d"
                         joint
                         "dw"
                         track
                         #t
                         duration
                         (frame-range 46 63)
                         )
                       (part-tracker
                         "group-palace-boss-end-trailer-medium"
                         entity
                         "squid-break-d"
                         joint
                         "ea"
                         track
                         #t
                         duration
                         (frame-range 46 55)
                         )
                       (part-tracker
                         "group-palace-boss-end-trailer-medium"
                         entity
                         "squid-break-d"
                         joint
                         "eb"
                         track
                         #t
                         duration
                         (frame-range 46 152)
                         )
                       )
                     (48
                       (part-tracker
                         "group-palace-boss-end-trailer-medium"
                         entity
                         "squid-break-d"
                         joint
                         "ee"
                         track
                         #t
                         duration
                         (frame-range 46 62)
                         )
                       (part-tracker
                         "group-palace-boss-end-trailer-medium"
                         entity
                         "squid-break-d"
                         joint
                         "ef"
                         track
                         #t
                         duration
                         (frame-range 46 65)
                         )
                       (part-tracker
                         "group-palace-boss-end-trailer-medium"
                         entity
                         "squid-break-d"
                         joint
                         "eg"
                         track
                         #t
                         duration
                         (frame-range 46 66)
                         )
                       (part-tracker
                         "group-palace-boss-end-trailer-large"
                         entity
                         "squid-break-d"
                         joint
                         "eh"
                         track
                         #t
                         duration
                         (frame-range 46 72)
                         )
                       (part-tracker
                         "group-palace-boss-end-trailer-medium"
                         entity
                         "squid-break-d"
                         joint
                         "ei"
                         track
                         #t
                         duration
                         (frame-range 46 70)
                         )
                       (part-tracker
                         "group-palace-boss-end-trailer-medium"
                         entity
                         "squid-break-d"
                         joint
                         "ek"
                         track
                         #t
                         duration
                         (frame-range 46 73)
                         )
                       (part-tracker
                         "group-palace-boss-end-trailer-large"
                         entity
                         "squid-break-d"
                         joint
                         "em"
                         track
                         #t
                         duration
                         (frame-range 46 65)
                         )
                       (part-tracker
                         "group-palace-boss-end-trailer-large"
                         entity
                         "squid-break-d"
                         joint
                         "ep"
                         track
                         #t
                         duration
                         (frame-range 46 67)
                         )
                       (part-tracker
                         "group-palace-boss-end-trailer-medium"
                         entity
                         "squid-break-e"
                         joint
                         "et"
                         track
                         #t
                         duration
                         (frame-range 46 97)
                         )
                       (part-tracker
                         "group-palace-boss-end-trailer-large"
                         entity
                         "squid-break-e"
                         joint
                         "eu"
                         track
                         #t
                         duration
                         (frame-range 46 125)
                         )
                       (part-tracker
                         "group-palace-boss-end-trailer-large"
                         entity
                         "squid-break-e"
                         joint
                         "ev"
                         track
                         #t
                         duration
                         (frame-range 46 138)
                         )
                       (part-tracker
                         "group-palace-boss-end-trailer-medium"
                         entity
                         "squid-break-e"
                         joint
                         "ex"
                         track
                         #t
                         duration
                         (frame-range 46 117)
                         )
                       (part-tracker
                         "group-palace-boss-end-trailer-medium"
                         entity
                         "squid-break-e"
                         joint
                         "ey"
                         track
                         #t
                         duration
                         (frame-range 46 74)
                         )
                       (part-tracker
                         "group-palace-boss-end-trailer-medium"
                         entity
                         "squid-break-e"
                         joint
                         "ez"
                         track
                         #t
                         duration
                         (frame-range 46 77)
                         )
                       (part-tracker
                         "group-palace-boss-end-trailer-medium"
                         entity
                         "squid-break-e"
                         joint
                         "fb"
                         track
                         #t
                         duration
                         (frame-range 46 64)
                         )
                       )
                     (49
                       (part-tracker
                         "group-palace-boss-end-trailer-medium"
                         entity
                         "squid-break-e"
                         joint
                         "fc"
                         track
                         #t
                         duration
                         (frame-range 46 61)
                         )
                       (part-tracker
                         "group-palace-boss-end-trailer-medium"
                         entity
                         "squid-break-e"
                         joint
                         "fd"
                         track
                         #t
                         duration
                         (frame-range 46 55)
                         )
                       (part-tracker
                         "group-palace-boss-end-trailer-large"
                         entity
                         "squid-break-e"
                         joint
                         "fe"
                         track
                         #t
                         duration
                         (frame-range 46 61)
                         )
                       (part-tracker
                         "group-palace-boss-end-trailer-large"
                         entity
                         "squid-break-e"
                         joint
                         "ff"
                         track
                         #t
                         duration
                         (frame-range 46 59)
                         )
                       (part-tracker
                         "group-palace-boss-end-trailer-large"
                         entity
                         "squid-break-e"
                         joint
                         "fg"
                         track
                         #t
                         duration
                         (frame-range 46 58)
                         )
                       (part-tracker
                         "group-palace-boss-end-trailer-large"
                         entity
                         "squid-break-e"
                         joint
                         "fh"
                         track
                         #t
                         duration
                         (frame-range 46 58)
                         )
                       (part-tracker
                         "group-palace-boss-end-trailer-large"
                         entity
                         "squid-break-e"
                         joint
                         "fi"
                         track
                         #t
                         duration
                         (frame-range 46 55)
                         )
                       (part-tracker
                         "group-palace-boss-end-trailer-large"
                         entity
                         "squid-break-e"
                         joint
                         "fj"
                         track
                         #t
                         duration
                         (frame-range 46 53)
                         )
                       (part-tracker
                         "group-palace-boss-end-trailer-medium"
                         entity
                         "tentacle-a"
                         joint
                         "main"
                         track
                         #t
                         duration
                         (frame-range 46 95)
                         )
                       (part-tracker
                         "group-palace-boss-end-trailer-medium"
                         entity
                         "tentacle-b"
                         joint
                         "main"
                         track
                         #t
                         duration
                         (frame-range 46 102)
                         )
                       (part-tracker
                         "group-palace-boss-end-trailer-medium"
                         entity
                         "tentacle-c"
                         joint
                         "main"
                         track
                         #t
                         duration
                         (frame-range 46 75)
                         )
                       (part-tracker
                         "group-palace-boss-end-trailer-medium"
                         entity
                         "tentacle-d"
                         joint
                         "main"
                         track
                         #t
                         duration
                         (frame-range 46 63)
                         )
                       (part-tracker
                         "group-palace-boss-end-trailer-medium"
                         entity
                         "tentacle-e"
                         joint
                         "main"
                         track
                         #t
                         duration
                         (frame-range 46 68)
                         )
                       (part-tracker
                         "group-palace-boss-end-trailer-medium"
                         entity
                         "tentacle-f"
                         joint
                         "main"
                         track
                         #t
                         duration
                         (frame-range 46 61)
                         )
                       )
                     (50 (part-tracker
                           "group-squid-break-smoke"
                           entity
                           "squid-break-pod"
                           joint
                           "smoke"
                           track
                           #t
                           duration
                           (frame-range 0 10000)
                           )
                         )
                     (231
                       (part-tracker
                         "group-squid-damaged-sparks"
                         entity
                         "squid-break-pod"
                         joint
                         "sparkA"
                         track
                         #t
                         duration
                         (frame-range 0 10000)
                         )
                       (part-tracker
                         "group-squid-damaged-sparks"
                         entity
                         "squid-break-pod"
                         joint
                         "sparkB"
                         track
                         #t
                         duration
                         (frame-range 0 10000)
                         )
                       (part-tracker
                         "group-squid-damaged-sparks"
                         entity
                         "squid-break-pod"
                         joint
                         "sparkC"
                         track
                         #t
                         duration
                         (frame-range 0 10000)
                         )
                       (part-tracker
                         "group-squid-damaged-sparks"
                         entity
                         "squid-break-pod"
                         joint
                         "sparkD"
                         track
                         #t
                         duration
                         (frame-range 0 10000)
                         )
                       (part-tracker
                         "group-squid-damaged-sparks"
                         entity
                         "squid-break-pod"
                         joint
                         "sparkE"
                         track
                         #t
                         duration
                         (frame-range 0 10000)
                         )
                       (part-tracker
                         "group-squid-damaged-sparks"
                         entity
                         "squid-break-pod"
                         joint
                         "sparkF"
                         track
                         #t
                         duration
                         (frame-range 0 10000)
                         )
                       (part-tracker
                         "group-squid-damaged-sparks"
                         entity
                         "squid-break-pod"
                         joint
                         "sparkG"
                         track
                         #t
                         duration
                         (frame-range 0 10000)
                         )
                       (part-tracker
                         "group-squid-damaged-sparks"
                         entity
                         "squid-break-pod"
                         joint
                         "sparkH"
                         track
                         #t
                         duration
                         (frame-range 0 10000)
                         )
                       (part-tracker
                         "group-squid-damaged-sparks"
                         entity
                         "squid-break-pod"
                         joint
                         "redConstantL"
                         track
                         #t
                         duration
                         (frame-range 0 10000)
                         )
                       (part-tracker
                         "group-squid-damaged-sparks"
                         entity
                         "squid-break-pod"
                         joint
                         "redConstantR"
                         track
                         #t
                         duration
                         (frame-range 0 10000)
                         )
                       (part-tracker
                         "group-squid-damaged-sparks"
                         entity
                         "squid-break-pod"
                         joint
                         "yellowBlinkAL"
                         track
                         #t
                         duration
                         (frame-range 0 10000)
                         )
                       (part-tracker
                         "group-squid-damaged-sparks"
                         entity
                         "squid-break-pod"
                         joint
                         "yellowBlinkBL"
                         track
                         #t
                         duration
                         (frame-range 0 10000)
                         )
                       (part-tracker
                         "group-squid-damaged-sparks"
                         entity
                         "squid-break-pod"
                         joint
                         "yellowBlinkCL"
                         track
                         #t
                         duration
                         (frame-range 0 10000)
                         )
                       (part-tracker
                         "group-squid-damaged-sparks"
                         entity
                         "squid-break-pod"
                         joint
                         "yellowBlinkDL"
                         track
                         #t
                         duration
                         (frame-range 0 10000)
                         )
                       (part-tracker
                         "group-squid-damaged-sparks"
                         entity
                         "squid-break-pod"
                         joint
                         "yellowBlinkEL"
                         track
                         #t
                         duration
                         (frame-range 0 10000)
                         )
                       (part-tracker
                         "group-squid-damaged-sparks"
                         entity
                         "squid-break-pod"
                         joint
                         "yellowBlinkAR"
                         track
                         #t
                         duration
                         (frame-range 0 10000)
                         )
                       (part-tracker
                         "group-squid-damaged-sparks"
                         entity
                         "squid-break-pod"
                         joint
                         "yellowBlinkBR"
                         track
                         #t
                         duration
                         (frame-range 0 10000)
                         )
                       (part-tracker
                         "group-squid-damaged-sparks"
                         entity
                         "squid-break-pod"
                         joint
                         "yellowBlinkCR"
                         track
                         #t
                         duration
                         (frame-range 0 10000)
                         )
                       (part-tracker
                         "group-squid-damaged-sparks"
                         entity
                         "squid-break-pod"
                         joint
                         "yellowBlinkDR"
                         track
                         #t
                         duration
                         (frame-range 0 10000)
                         )
                       (part-tracker
                         "group-squid-damaged-sparks"
                         entity
                         "squid-break-pod"
                         joint
                         "yellowBlinkER"
                         track
                         #t
                         duration
                         (frame-range 0 10000)
                         )
                       )
                     (10000 (task-close! "palace-boss-resolution"))
                     )
                   :cut-list '(274 382 481)
                   :wait-ground-time (seconds 1)
                   :draw-target #f
                   :abort #t
                   :actor (new 'static 'boxed-array :type scene-actor
                     (new 'static 'scene-actor
                       :name "scenecamera"
                       :level #f
                       :art-group "skel-scenecamera"
                       :prefix ""
                       :draw-frames '((min max))
                       :scissor-frames '()
                       :camera 4
                       :shadow-flags -1
                       :shadow-volume-joint #f
                       )
                     (new 'static 'scene-actor
                       :name "sidekick-highres"
                       :level 'palboss
                       :art-group "skel-sidekick-highres"
                       :prefix ""
                       :draw-frames '((min max))
                       :scissor-frames '()
                       :flags #x1
                       :shadow-flags -1
                       :shadow-volume-joint #f
                       )
                     (new 'static 'scene-actor
                       :name "jak-highres"
                       :level 'palboss
                       :art-group "skel-jak-highres"
                       :prefix ""
                       :draw-frames '((min max))
                       :scissor-frames '()
                       :flags #x1
                       :shadow-flags -1
                       :shadow-volume-joint #f
                       )
                     (new 'static 'scene-actor
                       :name "baron-highres"
                       :level 'palboss
                       :art-group "skel-baron-highres"
                       :prefix ""
                       :draw-frames '((min max))
                       :scissor-frames '()
                       :flags #x1
                       :shadow-flags -1
                       :shadow-volume-joint #f
                       )
                     (new 'static 'scene-actor
                       :name "squid-break-pod"
                       :level 'palboss
                       :art-group "skel-squid-break-pod"
                       :prefix "pod-"
                       :draw-frames '((min max))
                       :scissor-frames '()
                       :flags #x1
                       :shadow-flags -1
                       :shadow-volume-joint #f
                       )
                     (new 'static 'scene-actor
                       :name "squid-break-a"
                       :level 'palboss
                       :art-group "skel-squid-break-a"
                       :prefix "a-"
                       :draw-frames '((min max))
                       :scissor-frames '()
                       :flags #x1
                       :shadow-flags -1
                       :shadow-volume-joint #f
                       )
                     (new 'static 'scene-actor
                       :name "squid-break-b"
                       :level 'palboss
                       :art-group "skel-squid-break-b"
                       :prefix "b-"
                       :draw-frames '((min max))
                       :scissor-frames '()
                       :flags #x1
                       :shadow-flags -1
                       :shadow-volume-joint #f
                       )
                     (new 'static 'scene-actor
                       :name "squid-break-c"
                       :level 'palboss
                       :art-group "skel-squid-break-c"
                       :prefix "c-"
                       :draw-frames '((min max))
                       :scissor-frames '()
                       :flags #x1
                       :shadow-flags -1
                       :shadow-volume-joint #f
                       )
                     (new 'static 'scene-actor
                       :name "squid-break-d"
                       :level 'palboss
                       :art-group "skel-squid-break-d"
                       :prefix "d-"
                       :draw-frames '((min max))
                       :scissor-frames '()
                       :flags #x1
                       :shadow-flags -1
                       :shadow-volume-joint #f
                       )
                     (new 'static 'scene-actor
                       :name "squid-break-e"
                       :level 'palboss
                       :art-group "skel-squid-break-e"
                       :prefix "e-"
                       :draw-frames '((min max))
                       :scissor-frames '()
                       :flags #x1
                       :shadow-flags -1
                       :shadow-volume-joint #f
                       )
                     (new 'static 'scene-actor
                       :name "tentacle-a"
                       :level 'palboss
                       :art-group "skel-squid-break-tentacle"
                       :prefix "tentacle-"
                       :draw-frames '((min max))
                       :scissor-frames '()
                       :flags #x1
                       :shadow-flags -1
                       :shadow-volume-joint #f
                       )
                     (new 'static 'scene-actor
                       :name "tentacle-b"
                       :level 'palboss
                       :art-group "skel-squid-break-tentacle"
                       :prefix "tentacle-b-"
                       :draw-frames '((min max))
                       :scissor-frames '()
                       :flags #x1
                       :shadow-flags -1
                       :shadow-volume-joint #f
                       )
                     (new 'static 'scene-actor
                       :name "tentacle-c"
                       :level 'palboss
                       :art-group "skel-squid-break-tentacle"
                       :prefix "tentacle-c-"
                       :draw-frames '((min max))
                       :scissor-frames '()
                       :flags #x1
                       :shadow-flags -1
                       :shadow-volume-joint #f
                       )
                     (new 'static 'scene-actor
                       :name "tentacle-d"
                       :level 'palboss
                       :art-group "skel-squid-break-tentacle"
                       :prefix "tentacle-d-"
                       :draw-frames '((min max))
                       :scissor-frames '()
                       :flags #x1
                       :shadow-flags -1
                       :shadow-volume-joint #f
                       )
                     (new 'static 'scene-actor
                       :name "tentacle-e"
                       :level 'palboss
                       :art-group "skel-squid-break-tentacle"
                       :prefix "tentacle-e-"
                       :draw-frames '((min max))
                       :scissor-frames '()
                       :flags #x1
                       :shadow-flags -1
                       :shadow-volume-joint #f
                       )
                     (new 'static 'scene-actor
                       :name "tentacle-f"
                       :level 'palboss
                       :art-group "skel-squid-break-tentacle"
                       :prefix "tentacle-f-"
                       :draw-frames '((min max))
                       :scissor-frames '()
                       :flags #x1
                       :shadow-flags -1
                       :shadow-volume-joint #f
                       )
                     )
                   :load-point-obj "palroof-boss"
                   :end-point-obj "palroof-boss-victory"
                   :borrow '()
                   :sfx-volume -1.0
                   :ambient-volume -1.0
                   :music-volume -1.0
                   :blackout-end #t
                   :peaceful #t
                   :music-delay 1500.0
                   :save #t
                   )
                 )
