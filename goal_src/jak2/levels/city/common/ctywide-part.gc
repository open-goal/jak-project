;;-*-Lisp-*-
(in-package goal)

;; name: ctywide-part.gc
;; name in dgo: ctywide-part
;; dgos: CWI

;; DECOMP BEGINS

(deftype ctywide-part (part-spawner)
  ()
  :heap-base #x30
  :method-count-assert 16
  :size-assert         #xb0
  :flag-assert         #x10003000b0
  )


(deftype citywide-part (part-spawner)
  ()
  :heap-base #x30
  :method-count-assert 16
  :size-assert         #xb0
  :flag-assert         #x10003000b0
  )


(defun birth-func-race-poster ((arg0 sparticle-system)
                      (arg1 sparticle-cpuinfo)
                      (arg2 sprite-vec-data-3d)
                      (arg3 sparticle-launcher)
                      (arg4 sparticle-launch-state)
                      )
  (let ((s4-0 (the-as object (-> arg1 user-float))))
    (when (nonzero? (the-as float s4-0))
      (let ((s3-0 2))
        (cond
          ((task-node-closed? (game-task-node stadium-race-class1-resolution))
           (set! s3-0 3)
           )
          ((task-node-closed? (game-task-node stadium-race-class2-resolution))
           (set! s3-0 0)
           )
          ((task-node-closed? (game-task-node stadium-race-class3-resolution))
           (set! s3-0 1)
           )
          )
        (let ((s4-1 (-> (the-as (array int32) s4-0) (+ s3-0 3))))
          (when (nonzero? s4-1)
            (let* ((f30-0 200.0)
                   (f28-0 (floor f30-0))
                   (f1-0 (* 0.00024414062 (vector-vector-distance (-> arg2 x-y-z-sx) (math-camera-pos))))
                   (f0-1 (/ f1-0 f28-0))
                   )
              (set! (-> arg2 r-g-b-a w) (if (>= f30-0 f1-0)
                                            (* 128.0 (- 1.0 f0-1))
                                            0.0
                                            )
                    )
              )
            )
          (particle-adgif-callback (-> arg1 adgif) (the-as texture-id s4-1))
          )
        )
      )
    )
  0
  (none)
  )

(defpartgroup group-ctywide-race-poster-extra-small
  :id 165
  :flags (unk-4)
  :bounds (static-bspherem 0 0 0 6)
  :parts ((sp-item 806 :fade-after (meters 200) :flags (is-3d bit6 bit7)))
  )

(defpart 806
  :init-specs ((sp-tex spt-texture (new 'static 'texture-id :index #x7a :page #x45e))
    (sp-func spt-birth-func 'birth-func-race-poster)
    (sp-flt spt-num 1.0)
    (sp-flt spt-scale-x (meters 6))
    (sp-flt spt-scale-y (meters 6))
    (sp-flt spt-r 90.0)
    (sp-flt spt-g 90.0)
    (sp-flt spt-b 90.0)
    (sp-flt spt-a 128.0)
    (sp-flt spt-omega 50.5)
    (sp-int spt-timer 1)
    (sp-cpuinfo-flags sp-cpuinfo-flag-2 sp-cpuinfo-flag-12 left-multiply-quat)
    (new 'static 'sp-field-init-spec
      :field (sp-field-id spt-userdata)
      :flags (sp-flag plain-v2)
      :object (new 'static 'boxed-array :type int32 5 0 0 #x45e07c00 #x45e07900 #x45e07a00 #x45e07d00)
      )
    (sp-flt spt-rotate-y (degrees 0.0))
    )
  )

(defpartgroup group-ctywide-race-poster-small
  :id 166
  :flags (unk-4)
  :bounds (static-bspherem 0 0 0 6)
  :parts ((sp-item 807 :fade-after (meters 200) :flags (is-3d bit6 bit7)))
  )

(defpart 807
  :init-specs ((sp-tex spt-texture (new 'static 'texture-id :index #x7a :page #x45e))
    (sp-func spt-birth-func 'birth-func-race-poster)
    (sp-flt spt-num 1.0)
    (sp-flt spt-scale-x (meters 8))
    (sp-flt spt-scale-y (meters 8))
    (sp-flt spt-r 90.0)
    (sp-flt spt-g 90.0)
    (sp-flt spt-b 90.0)
    (sp-flt spt-a 128.0)
    (sp-int spt-timer 1)
    (sp-cpuinfo-flags sp-cpuinfo-flag-2 sp-cpuinfo-flag-12 left-multiply-quat)
    (new 'static 'sp-field-init-spec
      :field (sp-field-id spt-userdata)
      :flags (sp-flag plain-v2)
      :object (new 'static 'boxed-array :type int32 5 0 0 #x45e07c00 #x45e07900 #x45e07a00 #x45e07d00)
      )
    (sp-flt spt-rotate-y (degrees 0.0))
    )
  )

(defpartgroup group-ctywide-race-poster-medium
  :id 167
  :flags (unk-4)
  :bounds (static-bspherem 0 0 0 9)
  :parts ((sp-item 808 :fade-after (meters 200) :flags (is-3d bit6 bit7)))
  )

(defpart 808
  :init-specs ((sp-tex spt-texture (new 'static 'texture-id :index #x7a :page #x45e))
    (sp-func spt-birth-func 'birth-func-race-poster)
    (sp-flt spt-num 1.0)
    (sp-flt spt-scale-x (meters 12))
    (sp-flt spt-scale-y (meters 12))
    (sp-flt spt-r 90.0)
    (sp-flt spt-g 90.0)
    (sp-flt spt-b 90.0)
    (sp-flt spt-a 128.0)
    (sp-int spt-timer 1)
    (sp-cpuinfo-flags sp-cpuinfo-flag-2 sp-cpuinfo-flag-12 left-multiply-quat)
    (new 'static 'sp-field-init-spec
      :field (sp-field-id spt-userdata)
      :flags (sp-flag plain-v2)
      :object (new 'static 'boxed-array :type int32 5 0 0 #x45e07c00 #x45e07900 #x45e07a00 #x45e07d00)
      )
    (sp-flt spt-rotate-y (degrees 0.0))
    )
  )

(defpartgroup group-ctywide-race-poster-large
  :id 168
  :flags (unk-4)
  :bounds (static-bspherem 0 0 0 18)
  :parts ((sp-item 809 :fade-after (meters 200) :flags (is-3d bit6 bit7)))
  )

(defpart 809
  :init-specs ((sp-tex spt-texture (new 'static 'texture-id :index #x7a :page #x45e))
    (sp-func spt-birth-func 'birth-func-race-poster)
    (sp-flt spt-num 1.0)
    (sp-flt spt-scale-x (meters 32))
    (sp-flt spt-scale-y (meters 32))
    (sp-flt spt-r 90.0)
    (sp-flt spt-g 90.0)
    (sp-flt spt-b 90.0)
    (sp-flt spt-a 128.0)
    (sp-int spt-timer 1)
    (sp-cpuinfo-flags sp-cpuinfo-flag-2 sp-cpuinfo-flag-12 left-multiply-quat)
    (new 'static 'sp-field-init-spec
      :field (sp-field-id spt-userdata)
      :flags (sp-flag plain-v2)
      :object (new 'static 'boxed-array :type int32 5 0 0 #x45e07c00 #x45e07900 #x45e07a00 #x45e07d00)
      )
    (sp-flt spt-rotate-y (degrees 0.0))
    )
  )

(defpartgroup group-ctywide-stadium-light
  :id 169
  :bounds (static-bspherem 0 0 0 64)
  :parts ((sp-item 810 :flags (bit6) :hour-mask #b111111111110000000)
    (sp-item 811 :flags (bit6) :hour-mask #b111111111110000000)
    )
  )

(defpart 810
  :init-specs ((sp-tex spt-texture (new 'static 'texture-id :index #xbb :page #xc))
    (sp-flt spt-num 1.0)
    (sp-rnd-flt spt-scale-x (meters 48.5) (meters 0.1) 1.0)
    (sp-flt spt-rot-x 8192.0)
    (sp-flt spt-rot-z (degrees -17.0))
    (sp-copy-from-other spt-scale-y -4)
    (sp-flt spt-r 255.0)
    (sp-flt spt-g 255.0)
    (sp-flt spt-b 255.0)
    (sp-flt spt-a 32.0)
    (sp-flt spt-omega 8195277.0)
    (sp-int spt-timer 5)
    (sp-cpuinfo-flags sp-cpuinfo-flag-2 sp-cpuinfo-flag-3 glow)
    (sp-flt spt-userdata 0.0)
    )
  )

(defpart 811
  :init-specs ((sp-tex spt-texture (new 'static 'texture-id :index #xbb :page #xc))
    (sp-flt spt-num 1.0)
    (sp-rnd-flt spt-scale-x (meters 96) (meters 0.1) 1.0)
    (sp-flt spt-rot-x 14336.0)
    (sp-flt spt-rot-z (degrees -17.0))
    (sp-copy-from-other spt-scale-y -4)
    (sp-flt spt-r 255.0)
    (sp-rnd-flt spt-g 255.0 255.0 1.0)
    (sp-flt spt-b 255.0)
    (sp-flt spt-a 8.0)
    (sp-flt spt-omega 8195277.0)
    (sp-int spt-timer 5)
    (sp-cpuinfo-flags sp-cpuinfo-flag-2 sp-cpuinfo-flag-3 glow)
    (sp-flt spt-userdata 0.0)
    )
  )

(defpartgroup group-ctywide-baron-propoganda-holo
  :id 170
  :flags (unk-4)
  :bounds (static-bspherem 0 0 0 12)
  :parts ((sp-item 818 :flags (is-3d bit6 bit7))
    (sp-item 819 :fade-after (meters 150) :flags (bit6 bit7))
    (sp-item 820 :binding 812)
    (sp-item 812 :flags (bit1 start-dead launch-asap) :binding 813)
    (sp-item 812 :flags (bit1 start-dead launch-asap) :binding 814)
    (sp-item 812 :flags (bit1 start-dead launch-asap) :binding 815)
    (sp-item 812 :flags (bit1 start-dead launch-asap) :binding 816)
    (sp-item 812 :flags (bit1 start-dead launch-asap) :binding 817)
    (sp-item 812 :flags (bit1 start-dead launch-asap) :binding 813)
    (sp-item 812 :flags (bit1 start-dead launch-asap) :binding 814)
    (sp-item 812 :flags (bit1 start-dead launch-asap) :binding 815)
    (sp-item 812 :flags (bit1 start-dead launch-asap) :binding 816)
    (sp-item 812 :flags (bit1 start-dead launch-asap) :binding 817)
    (sp-item 812 :flags (bit1 start-dead launch-asap) :binding 813)
    (sp-item 812 :flags (bit1 start-dead launch-asap) :binding 814)
    (sp-item 812 :flags (bit1 start-dead launch-asap) :binding 815)
    (sp-item 812 :flags (bit1 start-dead launch-asap) :binding 816)
    (sp-item 812 :flags (bit1 start-dead launch-asap) :binding 817)
    (sp-item 812 :flags (bit1 start-dead launch-asap) :binding 813)
    (sp-item 812 :flags (bit1 start-dead launch-asap) :binding 814)
    (sp-item 812 :flags (bit1 start-dead launch-asap) :binding 815)
    (sp-item 812 :flags (bit1 start-dead launch-asap) :binding 816)
    (sp-item 812 :flags (bit1 start-dead launch-asap) :binding 817)
    (sp-item 813 :flags (is-3d bit1 start-dead))
    (sp-item 814 :flags (is-3d bit1 start-dead))
    (sp-item 815 :flags (is-3d bit1 start-dead))
    (sp-item 816 :flags (is-3d bit1 start-dead))
    (sp-item 817 :flags (is-3d bit1 start-dead))
    (sp-item 813 :flags (is-3d bit1 start-dead))
    (sp-item 814 :flags (is-3d bit1 start-dead))
    (sp-item 815 :flags (is-3d bit1 start-dead))
    (sp-item 816 :flags (is-3d bit1 start-dead))
    (sp-item 817 :flags (is-3d bit1 start-dead))
    (sp-item 813 :flags (is-3d bit1 start-dead))
    (sp-item 814 :flags (is-3d bit1 start-dead))
    (sp-item 815 :flags (is-3d bit1 start-dead))
    (sp-item 816 :flags (is-3d bit1 start-dead))
    (sp-item 817 :flags (is-3d bit1 start-dead))
    (sp-item 813 :flags (is-3d bit1 start-dead))
    (sp-item 814 :flags (is-3d bit1 start-dead))
    (sp-item 815 :flags (is-3d bit1 start-dead))
    (sp-item 816 :flags (is-3d bit1 start-dead))
    (sp-item 817 :flags (is-3d bit1 start-dead))
    (sp-item 821 :flags (is-3d bit6 bit7))
    (sp-item 822 :fade-after (meters 150) :flags (bit6))
    )
  )

(defpart 822
  :init-specs ((sp-tex spt-texture (new 'static 'texture-id :index #xbb :page #xc))
    (sp-rnd-flt spt-num 0.9 0.1 1.0)
    (sp-flt spt-y (meters 3.1))
    (sp-rnd-flt spt-scale-x (meters 2) (meters 1) 1.0)
    (sp-flt spt-rot-x 409.6)
    (sp-rnd-flt spt-rot-z (degrees 17.0) (degrees 8.0) 1.0)
    (sp-copy-from-other spt-scale-y -4)
    (sp-flt spt-r 255.0)
    (sp-rnd-int spt-g 1124073472 1 128.0)
    (sp-rnd-flt spt-b 0.0 128.0 1.0)
    (sp-rnd-flt spt-a 16.0 16.0 1.0)
    (sp-flt spt-omega 616448.0)
    (sp-int spt-timer 5)
    (sp-cpuinfo-flags sp-cpuinfo-flag-2 sp-cpuinfo-flag-3 sp-cpuinfo-flag-14 glow)
    (sp-flt spt-userdata 2048.0)
    )
  )

(defun birth-func-ctywide-baron-propoganda-ticker-rotate ((arg0 sparticle-system)
                                                 (arg1 sparticle-cpuinfo)
                                                 (arg2 sprite-vec-data-3d)
                                                 (arg3 sparticle-launcher)
                                                 (arg4 sparticle-launch-state)
                                                 )
  (local-vars (v1-6 float) (v1-7 float))
  (rlet ((vf0 :class vf)
         (vf1 :class vf)
         (vf2 :class vf)
         )
    (init-vf0-vector)
    (let ((s5-0 (-> arg4 sprite)))
      (let ((s4-0 (new 'stack-no-clear 'quaternion)))
        (let* ((v1-0 arg2)
               (f0-0 (-> v1-0 qx-qy-qz-sy x))
               (f1-0 (-> v1-0 qx-qy-qz-sy y))
               (f2-0 (-> v1-0 qx-qy-qz-sy z))
               )
          (set! (-> s4-0 x) f0-0)
          (set! (-> s4-0 y) f1-0)
          (set! (-> s4-0 z) f2-0)
          (set! (-> s4-0 w) (sqrtf (- (- (- 1.0 (* f2-0 f2-0)) (* f1-0 f1-0)) (* f0-0 f0-0))))
          )
        (quaternion-rotate-y! s4-0 s4-0 (+ 8192.0 (-> s5-0 sprite flag-rot-sy z)))
        (let ((v1-5 arg2))
          (cond
            ((< (-> s4-0 w) 0.0)
             (.lvf vf1 (&-> v1-5 qx-qy-qz-sy quad))
             (.lvf vf2 (&-> s4-0 quad))
             (.sub.vf vf1 vf0 vf2 :mask #b111)
             (.svf (&-> v1-5 qx-qy-qz-sy quad) vf1)
             (.mov v1-6 vf1)
             )
            (else
              (.lvf vf1 (&-> v1-5 qx-qy-qz-sy quad))
              (.lvf vf2 (&-> s4-0 quad))
              (.add.vf vf1 vf0 vf2 :mask #b111)
              (.svf (&-> v1-5 qx-qy-qz-sy quad) vf1)
              (.mov v1-7 vf1)
              )
            )
          )
        )
      (set! (-> arg2 r-g-b-a w) (-> s5-0 sprite r-g-b-a w))
      )
    0
    (none)
    )
  )

(defpart 820
  :init-specs ((sp-tex spt-texture (new 'static 'texture-id :index #xc9 :page #xc))
    (sp-flt spt-num 0.1)
    (sp-flt spt-y (meters 5))
    (sp-flt spt-scale-x (meters 0.1))
    (sp-copy-from-other spt-scale-y -4)
    (sp-flt spt-r 255.0)
    (sp-flt spt-g 0.0)
    (sp-flt spt-b 0.0)
    (sp-flt spt-a 128.0)
    (sp-int spt-timer 600)
    (sp-cpuinfo-flags sp-cpuinfo-flag-3 sp-cpuinfo-flag-14)
    )
  )

(defpart 812
  :init-specs ((sp-tex spt-texture (new 'static 'texture-id :index #xca :page #xc))
    (sp-flt spt-num 1.0)
    (sp-flt spt-x (meters 0))
    (sp-flt spt-y (meters 0))
    (sp-flt spt-z (meters 2))
    (sp-flt spt-scale-x (meters 2))
    (sp-copy-from-other spt-scale-y -4)
    (sp-flt spt-r 32.0)
    (sp-flt spt-g 32.0)
    (sp-flt spt-b 96.0)
    (sp-flt spt-a 0.0)
    (sp-flt spt-omega 8192.0)
    (sp-flt spt-vel-x (meters 0.02))
    (sp-flt spt-vel-y (meters 0))
    (sp-flt spt-vel-z (meters 0))
    (sp-flt spt-rotvel-z (degrees 0.45))
    (sp-flt spt-fade-a 0.8)
    (sp-int spt-timer 600)
    (sp-cpuinfo-flags sp-cpuinfo-flag-2 sp-cpuinfo-flag-3 ready-to-launch sp-cpuinfo-flag-14)
    (sp-int spt-next-time 80)
    (sp-launcher-by-id spt-next-launcher 823)
    )
  )

(defpart 823
  :init-specs ((sp-flt spt-a 64.0)
    (sp-flt spt-fade-a 0.0)
    (sp-int spt-next-time 440)
    (sp-launcher-by-id spt-next-launcher 824)
    )
  )

(defpart 824
  :init-specs ((sp-flt spt-fade-a -0.8))
  )

(defpart 813
  :init-specs ((sp-tex spt-texture (new 'static 'texture-id :index #x6f :page #x45e))
    (sp-func spt-birth-func 'birth-func-ctywide-baron-propoganda-ticker-rotate)
    (sp-flt spt-num 1.0)
    (sp-flt spt-y (meters 0))
    (sp-flt spt-scale-x (meters 0.65))
    (sp-flt spt-rot-x 16384.0)
    (sp-copy-from-other spt-scale-y -4)
    (sp-flt spt-r 64.0)
    (sp-flt spt-g 64.0)
    (sp-flt spt-b 64.0)
    (sp-flt spt-a 128.0)
    (sp-int spt-timer 5)
    (sp-cpuinfo-flags sp-cpuinfo-flag-2 sp-cpuinfo-flag-3 sp-cpuinfo-flag-14)
    )
  )

(defpart 814
  :init-specs ((sp-tex spt-texture (new 'static 'texture-id :index #x70 :page #x45e))
    (sp-func spt-birth-func 'birth-func-ctywide-baron-propoganda-ticker-rotate)
    (sp-flt spt-num 1.0)
    (sp-flt spt-y (meters 0))
    (sp-flt spt-scale-x (meters 0.65))
    (sp-flt spt-rot-x 16384.0)
    (sp-copy-from-other spt-scale-y -4)
    (sp-flt spt-r 64.0)
    (sp-flt spt-g 64.0)
    (sp-flt spt-b 64.0)
    (sp-flt spt-a 128.0)
    (sp-int spt-timer 5)
    (sp-cpuinfo-flags sp-cpuinfo-flag-2 sp-cpuinfo-flag-3 sp-cpuinfo-flag-14)
    )
  )

(defpart 815
  :init-specs ((sp-tex spt-texture (new 'static 'texture-id :index #x71 :page #x45e))
    (sp-func spt-birth-func 'birth-func-ctywide-baron-propoganda-ticker-rotate)
    (sp-flt spt-num 1.0)
    (sp-flt spt-y (meters 0))
    (sp-flt spt-scale-x (meters 0.65))
    (sp-flt spt-rot-x 16384.0)
    (sp-copy-from-other spt-scale-y -4)
    (sp-flt spt-r 64.0)
    (sp-flt spt-g 64.0)
    (sp-flt spt-b 64.0)
    (sp-flt spt-a 128.0)
    (sp-int spt-timer 5)
    (sp-cpuinfo-flags sp-cpuinfo-flag-2 sp-cpuinfo-flag-3 sp-cpuinfo-flag-14)
    )
  )

(defpart 816
  :init-specs ((sp-tex spt-texture (new 'static 'texture-id :index #x72 :page #x45e))
    (sp-func spt-birth-func 'birth-func-ctywide-baron-propoganda-ticker-rotate)
    (sp-flt spt-num 1.0)
    (sp-flt spt-y (meters 0))
    (sp-flt spt-scale-x (meters 0.65))
    (sp-flt spt-rot-x 16384.0)
    (sp-copy-from-other spt-scale-y -4)
    (sp-flt spt-r 64.0)
    (sp-flt spt-g 64.0)
    (sp-flt spt-b 64.0)
    (sp-flt spt-a 128.0)
    (sp-int spt-timer 5)
    (sp-cpuinfo-flags sp-cpuinfo-flag-2 sp-cpuinfo-flag-3 sp-cpuinfo-flag-14)
    )
  )

(defpart 817
  :init-specs ((sp-tex spt-texture (new 'static 'texture-id :index #x73 :page #x45e))
    (sp-func spt-birth-func 'birth-func-ctywide-baron-propoganda-ticker-rotate)
    (sp-flt spt-num 1.0)
    (sp-flt spt-y (meters 0))
    (sp-flt spt-scale-x (meters 0.65))
    (sp-flt spt-rot-x 16384.0)
    (sp-copy-from-other spt-scale-y -4)
    (sp-flt spt-r 0.0)
    (sp-flt spt-g 0.0)
    (sp-flt spt-b 0.0)
    (sp-flt spt-a 128.0)
    (sp-int spt-timer 5)
    (sp-cpuinfo-flags sp-cpuinfo-flag-2 sp-cpuinfo-flag-3 sp-cpuinfo-flag-14)
    )
  )

(defpart 819
  :init-specs ((sp-tex spt-texture (new 'static 'texture-id :index #xca :page #xc))
    (sp-flt spt-num 1.0)
    (sp-flt spt-y (meters 6))
    (sp-rnd-flt spt-scale-x (meters 10) (meters 0.1) 1.0)
    (sp-flt spt-rot-x 2048.0)
    (sp-copy-from-other spt-scale-y -4)
    (sp-flt spt-r 255.0)
    (sp-rnd-flt spt-g 96.0 96.0 1.0)
    (sp-copy-from-other spt-b -1)
    (sp-rnd-flt spt-a 20.0 4.0 1.0)
    (sp-flt spt-omega 616448.0)
    (sp-int spt-timer 5)
    (sp-cpuinfo-flags sp-cpuinfo-flag-2 sp-cpuinfo-flag-3 sp-cpuinfo-flag-14 glow)
    (sp-flt spt-userdata 10240.0)
    )
  )

(defpart 818
  :init-specs ((sp-tex spt-texture (new 'static 'texture-id :index #x74 :page #x45e))
    (sp-flt spt-num 1.0)
    (sp-flt spt-y (meters 6))
    (sp-flt spt-z (meters 0.05))
    (sp-rnd-flt spt-scale-x (meters 4.5) (meters 0.1) 1.0)
    (sp-flt spt-rot-x 16384.0)
    (sp-flt spt-rot-z (degrees 0.0))
    (sp-copy-from-other spt-scale-y -4)
    (sp-flt spt-r 192.0)
    (sp-rnd-flt spt-g 0.0 64.0 1.0)
    (sp-copy-from-other spt-b -1)
    (sp-rnd-flt spt-a 96.0 16.0 1.0)
    (sp-int spt-timer 5)
    (sp-cpuinfo-flags sp-cpuinfo-flag-2 sp-cpuinfo-flag-3 sp-cpuinfo-flag-14 left-multiply-quat)
    (sp-flt spt-rotate-y (degrees 0.0))
    )
  )

(defpart 821
  :init-specs ((sp-tex spt-texture (new 'static 'texture-id :index #x74 :page #x45e))
    (sp-flt spt-num 1.0)
    (sp-flt spt-y (meters 5.75))
    (sp-flt spt-z (meters 0.05))
    (sp-rnd-flt spt-scale-x (meters 6.5) (meters 0.5) 1.0)
    (sp-rnd-flt spt-rot-x 14563.556 728.1778 1.0)
    (sp-flt spt-rot-y (degrees 90.0))
    (sp-flt spt-rot-z (degrees 90.0))
    (sp-copy-from-other spt-scale-y -4)
    (sp-flt spt-r 255.0)
    (sp-flt spt-g 32.0)
    (sp-flt spt-b 16.0)
    (sp-rnd-flt spt-a 32.0 16.0 1.0)
    (sp-int spt-timer 5)
    (sp-cpuinfo-flags sp-cpuinfo-flag-2 sp-cpuinfo-flag-4 sp-cpuinfo-flag-14 left-multiply-quat)
    (sp-flt spt-rotate-y (degrees 0.0))
    )
  )

(defpartgroup group-ctywide-burning-bush-holo-off
  :id 171
  :flags (unk-4)
  :bounds (static-bspherem 0 0 0 12)
  :parts ((sp-item 825 :flags (is-3d bit6 bit7))
    (sp-item 826 :flags (is-3d bit6 bit7))
    (sp-item 827 :flags (is-3d bit6 bit7))
    (sp-item 828 :flags (is-3d bit6 bit7))
    )
  )

(defpart 825
  :init-specs ((sp-tex spt-texture (new 'static 'texture-id :index #x7b :page #x45e))
    (sp-flt spt-num 1.0)
    (sp-flt spt-y (meters 6))
    (sp-flt spt-z (meters -0.02))
    (sp-rnd-flt spt-scale-x (meters 4.5) (meters 0.1) 1.0)
    (sp-flt spt-rot-x 16384.0)
    (sp-flt spt-rot-z (degrees 0.0))
    (sp-copy-from-other spt-scale-y -4)
    (sp-flt spt-r 128.0)
    (sp-flt spt-g 255.0)
    (sp-flt spt-b 255.0)
    (sp-rnd-flt spt-a 64.0 32.0 1.0)
    (sp-int spt-timer 5)
    (sp-cpuinfo-flags sp-cpuinfo-flag-2 sp-cpuinfo-flag-3 sp-cpuinfo-flag-12 left-multiply-quat)
    (sp-flt spt-rotate-y (degrees 0.0))
    )
  )

(defpart 827
  :init-specs ((sp-tex spt-texture (new 'static 'texture-id :index #xd3 :page #xc))
    (sp-flt spt-num 1.0)
    (sp-flt spt-y (meters 6))
    (sp-flt spt-z (meters 0.05))
    (sp-flt spt-scale-x (meters 5))
    (sp-flt spt-rot-x 16384.0)
    (sp-flt spt-rot-y (degrees 90.0))
    (sp-flt spt-rot-z (degrees 90.0))
    (sp-flt spt-scale-y (meters 6))
    (sp-rnd-flt spt-r 64.0 64.0 1.0)
    (sp-rnd-flt spt-g 128.0 128.0 1.0)
    (sp-flt spt-b 255.0)
    (sp-rnd-flt spt-a 32.0 32.0 1.0)
    (sp-int spt-timer 5)
    (sp-cpuinfo-flags sp-cpuinfo-flag-2 sp-cpuinfo-flag-12 left-multiply-quat)
    (sp-flt spt-rotate-y (degrees 0.0))
    )
  )

(defpart 828
  :init-specs ((sp-tex spt-texture (new 'static 'texture-id :index #x9b :page #xb))
    (sp-flt spt-num 1.0)
    (sp-flt spt-y (meters 6))
    (sp-flt spt-z (meters -0.05))
    (sp-flt spt-scale-x (meters 5))
    (sp-flt spt-rot-x -16384.0)
    (sp-flt spt-rot-y (degrees 90.0))
    (sp-flt spt-rot-z (degrees 90.0))
    (sp-flt spt-scale-y (meters 6))
    (sp-flt spt-r 255.0)
    (sp-flt spt-g 128.0)
    (sp-flt spt-b 0.0)
    (sp-rnd-flt spt-a 0.0 8.0 1.0)
    (sp-int spt-timer 5)
    (sp-cpuinfo-flags sp-cpuinfo-flag-2 sp-cpuinfo-flag-4 sp-cpuinfo-flag-12 left-multiply-quat)
    (sp-flt spt-rotate-y (degrees 0.0))
    )
  )

(defpart 826
  :init-specs ((sp-tex spt-texture (new 'static 'texture-id :index #x7b :page #x45e))
    (sp-flt spt-num 1.0)
    (sp-flt spt-y (meters 6))
    (sp-flt spt-z (meters 0.02))
    (sp-rnd-flt spt-scale-x (meters 5) (meters 0.1) 1.0)
    (sp-flt spt-rot-x 16384.0)
    (sp-flt spt-rot-y (degrees 90.0))
    (sp-flt spt-rot-z (degrees 90.0))
    (sp-copy-from-other spt-scale-y -4)
    (sp-flt spt-r 255.0)
    (sp-flt spt-g 255.0)
    (sp-flt spt-b 255.0)
    (sp-rnd-flt spt-a 16.0 8.0 1.0)
    (sp-int spt-timer 5)
    (sp-cpuinfo-flags sp-cpuinfo-flag-2 sp-cpuinfo-flag-4 sp-cpuinfo-flag-12 left-multiply-quat)
    (sp-flt spt-rotate-y (degrees 0.0))
    )
  )

(defpartgroup group-ctywide-burning-bush-holo-red
  :id 172
  :flags (unk-4)
  :bounds (static-bspherem 0 0 0 12)
  :parts ((sp-item 829 :flags (is-3d bit6 bit7)) (sp-item 830 :fade-after (meters 150) :flags (bit6 bit7)))
  )

(defpart 829
  :init-specs ((sp-tex spt-texture (new 'static 'texture-id :index #xd3 :page #xc))
    (sp-flt spt-num 1.0)
    (sp-flt spt-y (meters 5))
    (sp-flt spt-z (meters 0.05))
    (sp-flt spt-scale-x (meters 5))
    (sp-flt spt-rot-x 16384.0)
    (sp-flt spt-rot-y (degrees 90.0))
    (sp-flt spt-rot-z (degrees 90.0))
    (sp-flt spt-scale-y (meters 4))
    (sp-flt spt-r 255.0)
    (sp-flt spt-g 0.0)
    (sp-flt spt-b 0.0)
    (sp-rnd-flt spt-a 64.0 32.0 1.0)
    (sp-int spt-timer 5)
    (sp-cpuinfo-flags sp-cpuinfo-flag-2 sp-cpuinfo-flag-3 sp-cpuinfo-flag-12 left-multiply-quat)
    (sp-flt spt-rotate-y (degrees 0.0))
    )
  )

(defpart 830
  :init-specs ((sp-tex spt-texture (new 'static 'texture-id :index #x84 :page #xc))
    (sp-rnd-flt spt-num 2.0 4.0 1.0)
    (sp-rnd-flt spt-x (meters -2.25) (meters 4.5) 1.0)
    (sp-flt spt-y (meters 4.5))
    (sp-flt spt-scale-x (meters 1))
    (sp-rnd-int-flt spt-rot-z (degrees 0.0) 1 32768.0)
    (sp-rnd-flt spt-scale-y (meters 3) (meters 1.5) 1.0)
    (sp-flt spt-r 255.0)
    (sp-flt spt-g 0.0)
    (sp-flt spt-b 0.0)
    (sp-flt spt-a 0.0)
    (sp-flt spt-fade-a 1.6)
    (sp-int spt-timer 40)
    (sp-cpuinfo-flags sp-cpuinfo-flag-2 sp-cpuinfo-flag-3)
    (sp-int spt-next-time 20)
    (sp-launcher-by-id spt-next-launcher 831)
    (sp-rnd-int-flt spt-rotate-y (degrees 0.0) 1 32768.0)
    )
  )

(defpartgroup group-ctywide-burning-bush-holo-on
  :id 173
  :flags (unk-4)
  :bounds (static-bspherem 0 0 0 12)
  :parts ((sp-item 832 :flags (is-3d bit6 bit7))
    (sp-item 833 :flags (is-3d bit6 bit7))
    (sp-item 834 :flags (is-3d bit6 bit7))
    (sp-item 835 :fade-after (meters 150) :flags (bit6 bit7))
    )
  )

(defpart 835
  :init-specs ((sp-tex spt-texture (new 'static 'texture-id :index #x84 :page #xc))
    (sp-rnd-flt spt-num 2.0 4.0 1.0)
    (sp-rnd-flt spt-x (meters -2.25) (meters 4.5) 1.0)
    (sp-rnd-flt spt-y (meters 5.5) (meters 0.5) 1.0)
    (sp-flt spt-scale-x (meters 1))
    (sp-rnd-int-flt spt-rot-z (degrees 0.0) 1 32768.0)
    (sp-flt spt-scale-y (meters 6))
    (sp-rnd-int spt-r 1124073472 1 128.0)
    (sp-flt spt-g 255.0)
    (sp-flt spt-b 128.0)
    (sp-flt spt-a 0.0)
    (sp-flt spt-fade-a 1.6)
    (sp-int spt-timer 40)
    (sp-cpuinfo-flags sp-cpuinfo-flag-2 sp-cpuinfo-flag-3)
    (sp-int spt-next-time 20)
    (sp-launcher-by-id spt-next-launcher 831)
    (sp-rnd-int-flt spt-rotate-y (degrees 0.0) 1 32768.0)
    )
  )

(defpart 831
  :init-specs ((sp-flt spt-fade-a -1.6))
  )

(defpart 832
  :init-specs ((sp-tex spt-texture (new 'static 'texture-id :index #x78 :page #x45e))
    (sp-flt spt-num 1.0)
    (sp-flt spt-y (meters 6))
    (sp-flt spt-z (meters -0.02))
    (sp-rnd-flt spt-scale-x (meters 3.5) (meters 0.1) 1.0)
    (sp-flt spt-rot-x 16384.0)
    (sp-flt spt-rot-z (degrees 0.0))
    (sp-copy-from-other spt-scale-y -4)
    (sp-flt spt-r 128.0)
    (sp-flt spt-g 255.0)
    (sp-flt spt-b 0.0)
    (sp-rnd-flt spt-a 128.0 32.0 1.0)
    (sp-int spt-timer 5)
    (sp-cpuinfo-flags sp-cpuinfo-flag-2 sp-cpuinfo-flag-3 sp-cpuinfo-flag-12 left-multiply-quat)
    (sp-flt spt-rotate-y (degrees 0.0))
    )
  )

(defpart 834
  :init-specs ((sp-tex spt-texture (new 'static 'texture-id :index #xd3 :page #xc))
    (sp-flt spt-num 1.0)
    (sp-flt spt-y (meters 6))
    (sp-flt spt-z (meters 0.05))
    (sp-flt spt-scale-x (meters 5))
    (sp-flt spt-rot-x 16384.0)
    (sp-flt spt-rot-y (degrees 90.0))
    (sp-flt spt-rot-z (degrees 90.0))
    (sp-flt spt-scale-y (meters 6))
    (sp-flt spt-r 255.0)
    (sp-flt spt-g 0.0)
    (sp-flt spt-b 128.0)
    (sp-rnd-flt spt-a 32.0 64.0 1.0)
    (sp-int spt-timer 5)
    (sp-cpuinfo-flags sp-cpuinfo-flag-2 sp-cpuinfo-flag-3 sp-cpuinfo-flag-12 left-multiply-quat)
    (sp-flt spt-rotate-y (degrees 0.0))
    )
  )

(defpart 833
  :init-specs ((sp-tex spt-texture (new 'static 'texture-id :index #x78 :page #x45e))
    (sp-flt spt-num 1.0)
    (sp-flt spt-y (meters 6))
    (sp-flt spt-z (meters 0.02))
    (sp-rnd-flt spt-scale-x (meters 4) (meters 0.1) 1.0)
    (sp-flt spt-rot-x 16384.0)
    (sp-flt spt-rot-y (degrees 90.0))
    (sp-flt spt-rot-z (degrees 90.0))
    (sp-copy-from-other spt-scale-y -4)
    (sp-flt spt-r 255.0)
    (sp-flt spt-g 255.0)
    (sp-flt spt-b 255.0)
    (sp-rnd-flt spt-a 64.0 16.0 1.0)
    (sp-int spt-timer 5)
    (sp-cpuinfo-flags sp-cpuinfo-flag-2 sp-cpuinfo-flag-4 sp-cpuinfo-flag-12 left-multiply-quat)
    (sp-flt spt-rotate-y (degrees 0.0))
    )
  )

(defpartgroup group-ctywide-palace-high-fire
  :id 174
  :flags (unk-8)
  :bounds (static-bspherem 0 2 0 5)
  :parts ((sp-item 836 :fade-after (meters 500) :falloff-to (meters 600))
    (sp-item 837 :fade-after (meters 500) :flags (bit6))
    )
  )

(defpart 836
  :init-specs ((sp-tex spt-texture (new 'static 'texture-id :index #x33 :page #xc))
    (sp-func spt-birth-func 'birth-func-texture-group)
    (sp-flt spt-num 1.0)
    (sp-rnd-flt spt-x (meters 0) (meters 1.5) 1.0)
    (sp-rnd-flt spt-y (meters 0) (meters 2) 1.0)
    (sp-rnd-flt spt-scale-x (meters 4) (meters 2) 1.0)
    (sp-rnd-flt spt-scale-y (meters 4) (meters 2) 1.0)
    (sp-rnd-flt spt-r 128.0 64.0 1.0)
    (sp-rnd-flt spt-g 64.0 64.0 1.0)
    (sp-rnd-flt spt-b 0.0 32.0 1.0)
    (sp-rnd-flt spt-a 32.0 32.0 1.0)
    (sp-rnd-flt spt-vel-x (meters 0) (meters -0.0033333334) 1.0)
    (sp-flt spt-scalevel-x (meters -0.009375))
    (sp-rnd-flt spt-rotvel-z (degrees -0.2) (degrees 0.4) 1.0)
    (sp-copy-from-other spt-scalevel-y -4)
    (sp-flt spt-fade-g -0.7111111)
    (sp-rnd-flt spt-fade-a -0.1 -0.1 1.0)
    (sp-rnd-flt spt-accel-y 3.4133334 2.7306666 1.0)
    (sp-int-plain-rnd spt-timer 160 49 1)
    (sp-cpuinfo-flags sp-cpuinfo-flag-3)
    (new 'static 'sp-field-init-spec
      :field (sp-field-id spt-userdata)
      :flags (sp-flag plain-v2)
      :object (new 'static 'boxed-array :type int32 40 1 0 #xc00000 #xc00000 #xc03300)
      )
    (sp-rnd-flt spt-conerot-x (degrees 0.0) (degrees 360.0) 1.0)
    (sp-rnd-flt spt-conerot-y (degrees 0.0) (degrees 360.0) 1.0)
    (sp-rnd-flt spt-rotate-y (degrees 0.0) (degrees 3600.0) 1.0)
    (sp-rnd-flt spt-conerot-radius (meters 0) (meters 0.05) 1.0)
    )
  )

(defpart 837
  :init-specs ((sp-tex spt-texture (new 'static 'texture-id :index #xca :page #xc))
    (sp-flt spt-num 0.5)
    (sp-flt spt-y (meters 4))
    (sp-rnd-flt spt-scale-x (meters 16) (meters 0.5) 1.0)
    (sp-flt spt-rot-x 40.96)
    (sp-rnd-flt spt-rot-z (degrees 0.0) (degrees 360.0) 1.0)
    (sp-copy-from-other spt-scale-y -4)
    (sp-rnd-flt spt-r 128.0 64.0 1.0)
    (sp-rnd-flt spt-g 64.0 64.0 1.0)
    (sp-rnd-flt spt-b 0.0 32.0 1.0)
    (sp-rnd-flt spt-a 16.0 16.0 1.0)
    (sp-flt spt-scalevel-x (meters -0.0016666667))
    (sp-copy-from-other spt-scalevel-y -4)
    (sp-flt spt-fade-g -0.7111111)
    (sp-flt spt-fade-a -1.0666667)
    (sp-int spt-timer 25)
    (sp-cpuinfo-flags sp-cpuinfo-flag-2 sp-cpuinfo-flag-3 glow)
    (sp-rnd-flt spt-conerot-x (degrees 0.0) (degrees 360.0) 1.0)
    (sp-rnd-flt spt-conerot-y (degrees 0.0) (degrees 360.0) 1.0)
    (sp-rnd-flt spt-conerot-radius (meters 0) (meters 0.05) 1.0)
    )
  )

(defpartgroup group-ctywide-misc-citylights-red-1
  :id 175
  :flags (use-local-clock)
  :bounds (static-bspherem 0 0 0 16)
  :parts ((sp-item 838 :flags (bit6) :period 1200 :length 5 :hour-mask #b111111111110000000))
  )

(defpartgroup group-ctywide-misc-citylights-red-2
  :id 176
  :flags (use-local-clock)
  :bounds (static-bspherem 0 0 0 16)
  :parts ((sp-item 838 :flags (bit6) :period 1200 :length 5 :offset 400 :hour-mask #b111111111110000000))
  )

(defpartgroup group-ctywide-misc-citylights-red-3
  :id 177
  :flags (use-local-clock)
  :bounds (static-bspherem 0 0 0 16)
  :parts ((sp-item 838 :flags (bit6) :period 1200 :length 5 :offset 800 :hour-mask #b111111111110000000))
  )

(defpart 838
  :init-specs ((sp-tex spt-texture (new 'static 'texture-id :index #xbb :page #xc))
    (sp-flt spt-num 1.0)
    (sp-flt spt-scale-x (meters 7.5))
    (sp-flt spt-rot-x 2048.0)
    (sp-flt spt-scale-y (meters 6))
    (sp-flt spt-r 255.0)
    (sp-rnd-flt spt-g 0.0 32.0 1.0)
    (sp-flt spt-b 0.0)
    (sp-flt spt-a 8.0)
    (sp-flt spt-omega 12290867.0)
    (sp-flt spt-scalevel-x (meters 0.075))
    (sp-flt spt-scalevel-y (meters 0.06))
    (sp-flt spt-fade-a 0.08)
    (sp-int spt-timer 1200)
    (sp-cpuinfo-flags sp-cpuinfo-flag-2 sp-cpuinfo-flag-3 glow)
    (sp-flt spt-userdata 2048.0)
    (sp-int spt-next-time 100)
    (sp-launcher-by-id spt-next-launcher 839)
    )
  )

(defpart 839
  :init-specs ((sp-flt spt-scale-y (meters 12))
    (sp-flt spt-a 16.0)
    (sp-flt spt-scalevel-x (meters 0))
    (sp-flt spt-scalevel-y (meters 0))
    (sp-flt spt-fade-a 0.0)
    (sp-int spt-next-time 600)
    (sp-launcher-by-id spt-next-launcher 840)
    )
  )

(defpart 840
  :init-specs ((sp-flt spt-scalevel-x (meters -0.075))
    (sp-flt spt-scalevel-y (meters -0.06))
    (sp-flt spt-fade-a -0.08)
    (sp-int spt-next-time 100)
    (sp-launcher-by-id spt-next-launcher 841)
    )
  )

(defpart 841
  :init-specs ((sp-flt spt-scale-y (meters 6))
    (sp-flt spt-a 8.0)
    (sp-flt spt-scalevel-x (meters 0))
    (sp-flt spt-scalevel-y (meters 0))
    (sp-flt spt-fade-a 0.0)
    )
  )

(defpartgroup group-ctywide-misc-citylights-blue-1
  :id 178
  :flags (use-local-clock)
  :bounds (static-bspherem 0 0 0 16)
  :parts ((sp-item 842 :flags (bit6) :period 1200 :length 5 :hour-mask #b111111111110000000))
  )

(defpartgroup group-ctywide-misc-citylights-blue-2
  :id 179
  :flags (use-local-clock)
  :bounds (static-bspherem 0 0 0 16)
  :parts ((sp-item 842 :flags (bit6) :period 1200 :length 5 :offset 400 :hour-mask #b111111111110000000))
  )

(defpartgroup group-ctywide-misc-citylights-blue-3
  :id 180
  :flags (use-local-clock)
  :bounds (static-bspherem 0 0 0 16)
  :parts ((sp-item 842 :flags (bit6) :period 1200 :length 5 :offset 800 :hour-mask #b111111111110000000))
  )

(defpart 842
  :init-specs ((sp-tex spt-texture (new 'static 'texture-id :index #xbb :page #xc))
    (sp-flt spt-num 1.0)
    (sp-flt spt-scale-x (meters 7.5))
    (sp-flt spt-rot-x 2048.0)
    (sp-flt spt-scale-y (meters 6))
    (sp-flt spt-r 0.0)
    (sp-rnd-flt spt-g 128.0 32.0 1.0)
    (sp-flt spt-b 255.0)
    (sp-flt spt-a 8.0)
    (sp-flt spt-omega 12290867.0)
    (sp-flt spt-scalevel-x (meters 0.075))
    (sp-flt spt-scalevel-y (meters 0.06))
    (sp-flt spt-fade-a 0.08)
    (sp-int spt-timer 1200)
    (sp-cpuinfo-flags sp-cpuinfo-flag-2 sp-cpuinfo-flag-3 glow)
    (sp-flt spt-userdata 2048.0)
    (sp-int spt-next-time 100)
    (sp-launcher-by-id spt-next-launcher 839)
    )
  )

(defpartgroup group-ctywide-cable-lights
  :id 181
  :bounds (static-bspherem 0 0 0 16)
  :parts ((sp-item 843 :fade-after (meters 3000) :flags (bit6) :hour-mask #b111111111110000000))
  )

(defpart 843
  :init-specs ((sp-tex spt-texture (new 'static 'texture-id :index #xbb :page #xc))
    (sp-flt spt-num 1.0)
    (sp-flt spt-y (meters 2))
    (sp-rnd-flt spt-scale-x (meters 12) (meters 4) 1.0)
    (sp-flt spt-rot-x 10240.0)
    (sp-flt spt-rot-z (degrees 17.0))
    (sp-copy-from-other spt-scale-y -4)
    (sp-flt spt-r 255.0)
    (sp-rnd-flt spt-g 196.0 64.0 1.0)
    (sp-flt spt-b 64.0)
    (sp-rnd-flt spt-a 20.0 8.0 1.0)
    (sp-flt spt-omega 12290867.0)
    (sp-int spt-timer 5)
    (sp-cpuinfo-flags sp-cpuinfo-flag-2 sp-cpuinfo-flag-3 glow)
    (sp-flt spt-userdata 2048.0)
    )
  )

(defpartgroup group-slums-seal-of-mar-glow
  :id 182
  :flags (unk-6)
  :bounds (static-bspherem 0 0 0 2)
  :rotate ((degrees 4) (degrees 0) (degrees 4))
  :parts ((sp-item 844) (sp-item 845) (sp-item 846 :flags (bit7)))
  )

(defpart 844
  :init-specs ((sp-tex spt-texture (new 'static 'texture-id :index #xbb :page #xc))
    (sp-flt spt-num 0.5)
    (sp-flt spt-z (meters -0.05))
    (sp-rnd-flt spt-scale-x (meters 0.9) (meters 0.25) 1.0)
    (sp-flt spt-rot-x 409.6)
    (sp-rnd-flt spt-rot-z (degrees 0.0) (degrees 360.0) 1.0)
    (sp-copy-from-other spt-scale-y -4)
    (sp-rnd-flt spt-r 96.0 32.0 1.0)
    (sp-rnd-flt spt-g 64.0 16.0 1.0)
    (sp-rnd-flt spt-b 12.0 4.0 1.0)
    (sp-rnd-flt spt-a 16.0 16.0 1.0)
    (sp-flt spt-fade-a -1.1)
    (sp-int spt-timer 50)
    (sp-cpuinfo-flags sp-cpuinfo-flag-2 glow)
    (sp-flt spt-userdata 2048.0)
    )
  )

(defpart 845
  :init-specs ((sp-tex spt-texture (new 'static 'texture-id :index #xbb :page #xc))
    (sp-flt spt-num 0.5)
    (sp-flt spt-z (meters 0.05))
    (sp-rnd-flt spt-scale-x (meters 0.5) (meters 0.25) 1.0)
    (sp-flt spt-rot-x 409.6)
    (sp-rnd-flt spt-rot-z (degrees 0.0) (degrees 360.0) 1.0)
    (sp-copy-from-other spt-scale-y -4)
    (sp-rnd-flt spt-r 96.0 32.0 1.0)
    (sp-rnd-flt spt-g 64.0 16.0 1.0)
    (sp-rnd-flt spt-b 12.0 4.0 1.0)
    (sp-rnd-flt spt-a 12.0 12.0 1.0)
    (sp-flt spt-fade-a -0.48)
    (sp-int spt-timer 50)
    (sp-cpuinfo-flags sp-cpuinfo-flag-2 glow)
    (sp-flt spt-userdata 2048.0)
    )
  )

(defpart 846
  :init-specs ((sp-tex spt-texture (new 'static 'texture-id :index #xbb :page #xc))
    (sp-rnd-flt spt-num 4.0 2.0 1.0)
    (sp-flt spt-x (meters 0.2))
    (sp-rnd-flt spt-scale-x (meters 0.01) (meters 0.0025) 1.0)
    (sp-copy-from-other spt-scale-y -4)
    (sp-rnd-flt spt-r 196.0 32.0 1.0)
    (sp-copy-from-other spt-g -1)
    (sp-copy-from-other spt-b -1)
    (sp-rnd-flt spt-a 128.0 128.0 1.0)
    (sp-rnd-flt spt-vel-x (meters 0.02) (meters 0.02) 1.0)
    (sp-rnd-flt spt-fade-a -0.42666668 -0.42666668 1.0)
    (sp-int spt-timer 600)
    (sp-cpuinfo-flags sp-cpuinfo-flag-2 sp-cpuinfo-flag-3)
    (sp-rnd-flt spt-rotate-y (degrees 0.0) (degrees 3600.0) 1.0)
    )
  )

(defpartgroup group-ctywide-chimney
  :id 183
  :flags (unk-8)
  :bounds (static-bspherem 0 0 -10 64)
  :parts ((sp-item 847 :fade-after (meters 600) :falloff-to (meters 600))
    (sp-item 848 :fade-after (meters 600) :flags (bit6))
    )
  )

(defpart 848
  :init-specs ((sp-tex spt-texture (new 'static 'texture-id :index #xbb :page #xc))
    (sp-flt spt-num 1.0)
    (sp-flt spt-y (meters 1))
    (sp-rnd-flt spt-scale-x (meters 24) (meters 1.1) 1.0)
    (sp-flt spt-rot-x 2048.0)
    (sp-copy-from-other spt-scale-y -4)
    (sp-flt spt-r 255.0)
    (sp-flt spt-g 240.0)
    (sp-flt spt-b 100.0)
    (sp-rnd-flt spt-a 12.0 4.0 1.0)
    (sp-flt spt-omega 2460057.5)
    (sp-int spt-timer 5)
    (sp-cpuinfo-flags sp-cpuinfo-flag-2 sp-cpuinfo-flag-3 glow)
    (sp-flt spt-userdata 16384.0)
    )
  )

(defpart 847
  :init-specs ((sp-tex spt-texture (new 'static 'texture-id :page #xc))
    (sp-func spt-birth-func 'birth-func-texture-group)
    (sp-rnd-flt spt-num 0.0 0.3 1.0)
    (sp-rnd-flt spt-scale-x (meters 2) (meters 1) 1.0)
    (sp-rnd-flt spt-rot-z (degrees 0.0) (degrees 360.0) 1.0)
    (sp-copy-from-other spt-scale-y -4)
    (sp-flt spt-r 255.0)
    (sp-flt spt-g 255.0)
    (sp-flt spt-b 255.0)
    (sp-rnd-flt spt-a 32.0 32.0 1.0)
    (sp-rnd-flt spt-vel-y (meters 0.03) (meters 0.01) 1.0)
    (sp-rnd-flt spt-scalevel-x (meters 0.053333335) (meters 0.053333335) 1.0)
    (sp-rnd-flt spt-rotvel-z (degrees -0.2) (degrees 0.4) 1.0)
    (sp-copy-from-other spt-scalevel-y -4)
    (sp-flt spt-fade-r 0.0)
    (sp-flt spt-fade-g -0.36)
    (sp-flt spt-fade-b -4.24)
    (sp-rnd-flt spt-fade-a -0.053333335 -0.053333335 1.0)
    (sp-rnd-flt spt-accel-x -4.096 -1.3653333 1.0)
    (sp-rnd-flt spt-accel-y 0.4096 0.4096 1.0)
    (sp-flt spt-friction 0.96)
    (sp-int spt-timer 2400)
    (sp-cpuinfo-flags sp-cpuinfo-flag-2)
    (new 'static 'sp-field-init-spec
      :field (sp-field-id spt-userdata)
      :flags (sp-flag plain-v2)
      :object (new 'static 'boxed-array :type int32 40 1 0 #xc00000 #xc00000 #xc03300)
      )
    (sp-int-plain-rnd spt-next-time 25 4 1)
    (sp-launcher-by-id spt-next-launcher 849)
    )
  )

(defpart 849
  :init-specs ((sp-flt spt-fade-r 0.0)
    (sp-flt spt-fade-g 0.0)
    (sp-flt spt-fade-b 0.0)
    (sp-int-plain-rnd spt-next-time 10 39 1)
    (sp-launcher-by-id spt-next-launcher 850)
    )
  )

(defpart 850
  :init-specs ((sp-rnd-flt spt-scalevel-x (meters 0.026666667) (meters 0.026666667) 1.0)
    (sp-copy-from-other spt-scalevel-y -4)
    (sp-flt spt-fade-r -0.14666666)
    (sp-flt spt-fade-g -0.7866667)
    (sp-flt spt-fade-b -0.88)
    (sp-int-plain-rnd spt-next-time 105 44 1)
    (sp-launcher-by-id spt-next-launcher 851)
    )
  )

(defpart 851
  :init-specs ((sp-rnd-flt spt-scalevel-x (meters 0.013333334) (meters 0.013333334) 1.0)
    (sp-copy-from-other spt-scalevel-y -4)
    (sp-flt spt-fade-r -1.2944444)
    (sp-flt spt-fade-g -0.7111111)
    (sp-flt spt-fade-b -0.094444446)
    (sp-int-plain-rnd spt-next-time 150 29 1)
    (sp-launcher-by-id spt-next-launcher 852)
    )
  )

(defpart 852
  :init-specs ((sp-flt spt-fade-r 0.0) (sp-flt spt-fade-g 0.0) (sp-flt spt-fade-b 0.0) (sp-flt spt-fade-a -0.024))
  )

(defpartgroup group-ctywide-chimney-smoke
  :id 184
  :flags (unk-8)
  :bounds (static-bspherem 0 0 -12 48)
  :parts ((sp-item 853 :fade-after (meters 950) :falloff-to (meters 1200)))
  )

(defpart 853
  :init-specs ((sp-tex spt-texture (new 'static 'texture-id :page #xc))
    (sp-func spt-birth-func 'birth-func-texture-group)
    (sp-rnd-flt spt-num 0.0 0.5 1.0)
    (sp-rnd-flt spt-scale-x (meters 2) (meters 1) 1.0)
    (sp-rnd-flt spt-rot-z (degrees 0.0) (degrees 360.0) 1.0)
    (sp-copy-from-other spt-scale-y -4)
    (sp-rnd-flt spt-r 0.0 128.0 1.0)
    (sp-copy-from-other spt-g -1)
    (sp-copy-from-other spt-b -1)
    (sp-rnd-flt spt-a 24.0 24.0 1.0)
    (sp-rnd-flt spt-vel-y (meters 0.03) (meters 0.01) 1.0)
    (sp-rnd-flt spt-scalevel-x (meters 0.026666667) (meters 0.026666667) 1.0)
    (sp-rnd-flt spt-rotvel-z (degrees -0.2) (degrees 0.4) 1.0)
    (sp-copy-from-other spt-scalevel-y -4)
    (sp-flt spt-fade-r -0.21333334)
    (sp-flt spt-fade-g -0.21333334)
    (sp-flt spt-fade-b -0.21333334)
    (sp-rnd-flt spt-fade-a -0.026666667 -0.026666667 1.0)
    (sp-rnd-flt spt-accel-x -4.096 -1.3653333 1.0)
    (sp-rnd-flt spt-accel-y 0.4096 0.4096 1.0)
    (sp-flt spt-friction 0.96)
    (sp-int spt-timer 1800)
    (sp-cpuinfo-flags sp-cpuinfo-flag-2)
    (new 'static 'sp-field-init-spec
      :field (sp-field-id spt-userdata)
      :flags (sp-flag plain-v2)
      :object (new 'static 'boxed-array :type int32 40 1 0 #xc00000 #xc00000 #xc03300)
      )
    (sp-int-plain-rnd spt-next-time 75 4 1)
    (sp-launcher-by-id spt-next-launcher 854)
    )
  )

(defpart 854
  :init-specs ((sp-rnd-flt spt-scalevel-x (meters 0.026666667) (meters 0.026666667) 1.0)
    (sp-copy-from-other spt-scalevel-y -4)
    (sp-int-plain-rnd spt-next-time 105 44 1)
    (sp-launcher-by-id spt-next-launcher 855)
    )
  )

(defpart 855
  :init-specs ((sp-rnd-flt spt-scalevel-x (meters 0.026666667) (meters 0.026666667) 1.0)
    (sp-copy-from-other spt-scalevel-y -4)
    )
  )
