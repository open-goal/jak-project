;;-*-Lisp-*-
(in-package goal)

;; name: collide-target-h.gc
;; name in dgo: collide-target-h
;; dgos: ENGINE, GAME

;; DECOMP BEGINS

(deftype control-info (collide-shape-moving)
  ((unknown-float00            float                                 :offset 448)
   (unknown-float01            float                                 :offset 452)
   (unknown-float02            float                                 :offset 456)
   (unknown-float03            float                                 :offset 460)
   (unknown-vector00           vector                    :inline     :offset 480)
   (unknown-vector01           vector                    :inline     :offset 496)
   (unknown-vector02           vector                    :inline     :offset 512)
   ;; the quaternion used for all the control code.
   ;; there is an additional rotation offset applied for certain effects, like the pitch of
   ;; jak's body when swimming underwater.
   (quat-for-control            quaternion                   :inline :offset 528)
   ;; The final quat (used for drawing, and _maybe_ collision?) is separate from the quaternion used for the
   ;; control math. The quat-for-control and override-quat are interpolated to get this final quaternion.
   ;; At least in jak 1, this was only used for pitching jak's body when swimming.
   (override-quat               quaternion                   :inline :offset 544)
   (override-quat-alpha         float                                :offset 560) ;; 0 = use quat-for-control only

   (unknown-float05            float                                 :offset 564)
   (unknown-float003           float                                 :offset 568)
   (unknown-float06            float                                 :offset 572)
   (unknown-float07            float                                 :offset 576)
   (unknown-time-frame00       time-frame                            :offset 584)
   (unknown-vector03           vector                    :inline     :offset 592)
   (unknown-quaternion02       quaternion                :inline     :offset 608)
   (unknown-quaternion03       quaternion                :inline     :offset 624)
   (unknown-vector-array00     vector                    128 :inline :offset 640)
   (unknown-time-frame-array00 time-frame                128         :offset 2688)
   (unknown-word00             int32                                 :offset 3712)
   (unknown-vector04           vector                    :inline     :offset 3728)
   (unknown-vector05           vector                    :inline     :offset 3744)
   (unknown-vector06           vector                    :inline     :offset 3760)
   (unknown-vector07           vector                    :inline     :offset 3776)
   (unknown-vector000          vector                    :inline     :offset 3792)
   (unknown-dynamics00         dynamics                              :offset 3824)
   (unknown-surface00          surface                               :offset 3828)
   (unknown-surface01          surface                               :offset 3832)
   (unknown-surface02          surface                               :offset 3836)
   (unknown-time-frame02       time-frame                            :offset 3840)
   (cpad                       cpad-info                             :offset 3848)
   (unknown-float08            float                                 :offset 3852)
   (unknown-float09            float                                 :offset 3856)
   (unknown-float10            float                                 :offset 3860)
   (unknown-float11            float                                 :offset 3864)
   ;; unit vector in xz plane. Points from jak to the 'target' point.
   ;; if the user's input is 0, will keep the last value.
   (to-target-pt-xz             vector                       :inline :offset 3872)
   (unknown-vector09           vector                    :inline     :offset 3888)
   (unknown-vector10           vector                    :inline     :offset 3904)
   (unknown-vector11           vector                    :inline     :offset 3920)
   (unknown-vector-array01     vector                    7 :inline   :offset 3936)
   (unknown-vector12           vector                    :inline     :offset 4064)
   (unknown-vector13           vector                    :inline     :offset 4080)
   (unknown-float12            float                                 :offset 4096)
   (unknown-float13            float                                 :offset 4100)
   (unknown-dword01            int64                                 :offset 4104)
   (unknown-matrix00           matrix                    :inline     :offset 4112)
   (unknown-matrix01           matrix                    :inline     :offset 4176)
   (unknown-matrix02           matrix                    :inline     :offset 4240)
   (unknown-vector14           vector                    :inline     :offset 4320)
   (unknown-vector15           vector                    :inline     :offset 4336)
   (unknown-matrix03           matrix                    :inline     :offset 4352)
   (unknown-dword02            int64                                 :offset 4416)
   (unknown-vector16           vector                    :inline     :offset 4432)
   (unknown-float14            float                                 :offset 4448)
   (unknown-floatiujh1bnb2n3i1 float                                 :offset 4452)
   (unknown-float15            float                                 :offset 4456)
   (unknown-word01             int32                                 :offset 4460)
   (unknown-vector17           vector                    :inline     :offset 4464)
   (unknown-vector18           vector                    :inline     :offset 4480)
   (unknown-time-frame03       time-frame                            :offset 4496)
   (unknown-time-frame04       time-frame                            :offset 4504)
   (unknown-vector19           vector                    :inline     :offset 4512)
   (unknown-vector20           vector                    :inline     :offset 4528)
   (unknown-vector21           vector                    :inline     :offset 4544)
   (unknown-float16            float                                 :offset 4548)
   (unknown-vector22           vector                    :inline     :offset 4560)
   (unknown-vector23           vector                    :inline     :offset 4576)
   (unknown-time-frame05       time-frame                            :offset 4624)
   (unknown-float0000          float                                 :offset 4632)
   (unknown-float17            float                                 :offset 4636)
   (unknown-float18            float                                 :offset 4640)
   (unknown-float19            float                                 :offset 4644)
   (unknown-float20            float                                 :offset 4648)
   (unknown-time-frame06       time-frame                            :offset 4656)
   (unknown-float21            float                                 :offset 4664)
   (unknown-time-frame07       time-frame                            :offset 4672)
   (unknown-pat-surface00      pat-surface                           :offset 4680)
   (unknown-vector24           vector                    :inline     :offset 4688)
   (unknown-vector25           vector                    :inline     :offset 4720)
   (unknown-vector001          vector                    :inline     :offset 4736)
   (unknown-handle00           handle                                :offset 4768)
   (unknown-pat-surface01      pat-surface                           :offset 4776)
   (unknown-float22            float                                 :offset 4780)
   (unknown-float23            float                                 :offset 4784)
   (unknown-float24            float                                 :offset 4788)
   (unknown-float25            float                                 :offset 4792)
   (unknown-float26            float                                 :offset 4796)
   (unknown-word000            int32                                 :offset 4800)
   (unknown-float002           float                                 :offset 4804)
   (unknown-time-frame08       time-frame                            :offset 4816)
   (unknown-vector26           vector                    :inline     :offset 4928)
   (unknwon-vector27           vector                    :inline     :offset 4976)
   (unknown-float27            float                                 :offset 4992)
   (unknown-time-frame09       time-frame                            :offset 5000)
   (unknown-sphere-array00     collide-shape-prim-sphere 10          :offset 5016)
   (unknown-word02             int32                                 :offset 5064)
   (unknown-time-frame10       time-frame                            :offset 5072)
   (unknown-time-frame11       time-frame                            :offset 5080)
   (unknown-time-frame001      time-frame                            :offset 5088)
   (unknown-time-frame12       time-frame                            :offset 5096)
   (unknown-time-frame002      time-frame                            :offset 5104)
   (unknown-time-frame13       time-frame                            :offset 5112)
   (unknown-time-frame14       time-frame                            :offset 5120)
   (unknown-float28            float                                 :offset 5132)
   (unknown-float29            float                                 :offset 5136)
   (unknown-float30            float                                 :offset 5140)
   (unknown-vector28           vector                    :inline     :offset 5152)
   (lhand-cspace                cspace                               :offset 5168)
   (rhand-cspace                cspace                               :offset 5172)
   (midpoint-of-hands           vector                       :inline :offset 5184)
   (unknown-vector31           vector                    :inline     :offset 5200)
   (unknown-cspacei1un23i1     cspace                    :inline     :offset 5216)
   (unknown-symbol00           symbol                                :offset 5248)
   (unknown-float000           float                                 :offset 5252)
   (unknown-float31            float                                 :offset 5256)
   (unknown-vector-array02     vector                    15 :inline  :offset 5264)
   (unknown-float32            float                                 :offset 5520)
   (unknown-word03             int32                                 :offset 5524)
   (unknown-float33            float                                 :offset 5528)
   (unknown-symbol000          symbol                                :offset 5532)
   (unknown-vector34           vector                    :inline     :offset 5536)
   (unknown-vector35           vector                    :inline     :offset 5552)
   (unknown-vector36           vector                    :inline     :offset 5568)
   (unknown-time-frame15       time-frame                            :offset 5584)
   (unknown-time-frame16       time-frame                            :offset 5592)
   (unknown-handle000          handle                                :offset 5600)
   (unknown-handle01           handle                                :offset 5608)
   (unknown-word04             uint32                                :offset 5616)
   (unknown-spool-anim00       spool-anim                            :offset 5616)
   (unknown-word05             int32                                 :offset 5616)
   (unknown-symbol01           symbol                                :offset 5616)
   (unknown-float34            float                                 :offset 5616)
   (unknown-symbol02           float                                 :offset 5620)
   (unknown-symbol03           float                                 :offset 5624)
   (unknown-float35            float                                 :offset 5628)
   (unknown-float36            float                                 :offset 5632)
   (unknown-float37            float                                 :offset 5636)
   (unknown-vector37           vector                    :inline     :offset 5648)
   (unknown-vector38           vector                    :inline     :offset 5664)
   (unknown-vector39           vector                    :inline     :offset 5680)
   (unknown-vector40           vector                    :inline     :offset 5696)
   (unknown-time-frame17       time-frame                            :offset 5712)
   (unknown-time-frame18       time-frame                            :offset 5720)
   (unknown-sound-id00         sound-id                              :offset 5776)
   (unknown-handle02           handle                                :offset 5792)
   (unknown-impact-control00   impact-control            :inline     :offset 5824)
   (unknown-word06             int32                                 :offset 5832)
   (unknown-vector41           vector                    :inline     :offset 5888)
   (unknown-vector42           vector                    :inline     :offset 5904)
   (unknown-float38            float                                 :offset 5908)
   (unknown-vector43           vector                    :inline     :offset 5920)
   (unknown-float39            float                                 :offset 5924)
   (unknown-time-frame19       time-frame                            :offset 5936)
   (unknown-time-frame20       time-frame                            :offset 5944)
   (unknown-symbol04           symbol                                :offset 5984)
   (unknown-symbol05           symbol                                :offset 5988)
   (unknown-attack-id00        int32                                 :offset 5992)
   (unknown-float40            float                                 :offset 5996)
   (unknown-dword05            uint64                                :offset 6000)
   (unknown-dword06            handle                                :offset 6008)
   (unknown-time-frame000      time-frame                            :offset 6016)
   (unknown-combo-tracker00    combo-tracker             :inline     :offset 6032)
   (unknown-time-frame21       time-frame                            :offset 6072)
   (unknown-dword07            int64                                 :offset 6096)
   (unknown-dword08            int64                                 :offset 6104)
   (unknown-dword09            int64                                 :offset 6112)
   (unknown-dword10            int64                                 :offset 6120)
   (unknown-symbol06           symbol                                :offset 6144)
   (unknown-quaternion04       quaternion                :inline     :offset 6160)
   (unknown-sound-id01         sound-id                              :offset 6176)
   (unknown-float41            float                                 :offset 6180)
   (unknown-float42            float                                 :offset 6184)
   (unknown-halfword00         uint16                                :offset 6188)
   (history-length             uint16                                :offset 6190)
   (unknown-word07             int32                                 :offset 6192)
   (unknown-time-frame22       time-frame                            :offset 6200)
   (unknown-time-frame23       time-frame                            :offset 6208)
   (unknown-time-frame24       time-frame                            :offset 6216)
   (unknown-time-frame25       time-frame                            :offset 6224)
   (unknown-float43            float                                 :offset 6232)
   (unknown-float001           float                                 :offset 6236)
   (unknown-sound-id02         sound-id                              :offset 6240)
   (unknown-sound-id03         sound-id                              :offset 6244)
   (unknown-time-frame26       time-frame                            :offset 6248)
   (unknown-time-frame27       time-frame                            :offset 6256)
   (unknown-dword11            int64                                 :offset 6264)
   (unknown-vector44           vector                    :inline     :offset 6272)
   (unknown-float44            float                                 :offset 6288)
   (unknown-sound-id04         sound-id                              :offset 6292)
   (unknown-float45            float                                 :offset 6296)
   (unknown-word08             int32                                 :offset 6300)
   (unknown-sphere000          sphere                                :offset 6304)
   (unknown-word09             int32                                 :offset 6308)
   (unknown-word10             uint32                                :offset 6312)
   (unknown-time-frame28       time-frame                            :offset 6320)
   (unknown-time-frame29       time-frame                            :offset 6328)
   (unknown-dword12            int64                                 :offset 6336)
   (unknown-time-frame30       time-frame                            :offset 6368)
   (unknown-quaternion05       quaternion                :inline     :offset 6384)
   (unknown-time-frame31       time-frame                            :offset 6400)
   (unknown-time-frame32       time-frame                            :offset 6408)
   (pad                        uint8                                 :offset 6415)
   )
  :method-count-assert 68
  :size-assert         #x1910
  :flag-assert         #x4400001910
  )
